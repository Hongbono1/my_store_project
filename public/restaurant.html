<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>광고 홈페이지 - 식당 (SSR+CSR 혼합 예시)</title>
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    .header-content {
      gap: 1rem;
    }

    .nav-links a {
      transition: color 0.3s ease;
    }

    footer p {
      font-size: 0.875rem;
    }
  </style>
</head>

<body class="bg-gray-50">
  <!-- 헤더 (외부 파일에서 로드) -->
  <div id="header-container"></div>

  <!-- 메인 콘텐츠 -->
  <main class="w-full max-w-screen-xl mx-auto px-4 sm:px-8 mt-8">
    <!-- 상단 섹션: 식당 배경/타이틀 -->
    <section class="bg-gradient-to-r from-gray-800 to-blue-500 text-white p-6 rounded-lg shadow mb-8">
      <h1 class="text-4xl sm:text-5xl font-bold mb-2">식 당</h1>
      <p class="text-lg sm:text-xl">맛있는 음식점들을 소개합니다. 오늘은 뭘 먹을까요?</p>
    </section>

    <!-- 스크롤 버튼 (카테고리 선택 영역) -->
    <section id="categorySelection" class="bg-white p-4 rounded-lg shadow border border-gray-300 mt-8 mb-8">
      <div class="bg-blue-100 p-6 rounded-lg">
        <h2 class="text-2xl font-bold mb-6">스크롤 선택</h2>
        <div class="flex overflow-x-auto space-x-3 py-3">
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="한식">한식</button>
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="중식">중식</button>
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="일식">일식</button>
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="양식">양식</button>
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="패스트푸드">패스트푸드</button>
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="치킨">치킨</button>
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="카페">카페</button>
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="스트리트푸드">스트리트 푸드</button>
          <!-- 분식 버튼 추가 -->
          <button
            class="category-btn bg-white text-[#2C3E50] font-medium px-5 py-2 text-lg rounded-full border border-[#748CAB] shadow-md hover:bg-[#7F9BBF] transition"
            data-category="분식">분식</button>
        </div>
      </div>
    </section>

    <!-- 파워 광고 (SSR 시뮬레이션) -->
    <section id="powerAdsSection" class="bg-yellow-50 border-4 border-yellow-400 shadow-lg rounded-lg p-6">
      <h2 class="text-2xl font-bold mb-4">파워 광고 (SSR)</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- 파워 광고 카드 1 (모달 기능 적용) -->
        <div class="ad-card relative bg-yellow-50 border-4 border-yellow-400 shadow-lg rounded-lg p-6 flex flex-col"
          data-title="파워 광고 1" data-phone="010-1111-2222" data-category="식당"
          data-img="https://via.placeholder.com/300x200">
          <div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 text-xs rounded">파워광고</div>
          <img src="https://via.placeholder.com/300x200" alt="파워 광고 1" class="h-40 w-full object-cover rounded mb-4" />
          <h2 class="text-2xl font-bold text-center mb-2">파워 광고 1</h2>
          <h3 class="text-xl font-semibold text-center text-gray-700">식당</h3>
          <p class="text-lg text-gray-500 text-center">010-1111-2222</p>
          <a href="#"
            class="mt-4 bg-blue-500 text-white py-2 px-4 rounded text-center shadow-lg hover:bg-blue-600">바로가기</a>
        </div>
        <!-- 파워 광고 카드 2 -->
        <div class="ad-card relative bg-yellow-50 border-4 border-yellow-400 shadow-lg rounded-lg p-6 flex flex-col"
          data-title="파워 광고 2" data-phone="010-2222-3333" data-category="식당"
          data-img="https://via.placeholder.com/300x200">
          <div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 text-xs rounded">파워광고</div>
          <img src="https://via.placeholder.com/300x200" alt="파워 광고 2" class="h-40 w-full object-cover rounded mb-4" />
          <h2 class="text-2xl font-bold text-center mb-2">파워 광고 2</h2>
          <h3 class="text-xl font-semibold text-center text-gray-700">식당</h3>
          <p class="text-lg text-gray-500 text-center">010-2222-3333</p>
          <a href="#"
            class="mt-4 bg-blue-500 text-white py-2 px-4 rounded text-center shadow-lg hover:bg-blue-600">바로가기</a>
        </div>
        <!-- 파워 광고 카드 3 -->
        <div class="ad-card relative bg-yellow-50 border-4 border-yellow-400 shadow-lg rounded-lg p-6 flex flex-col"
          data-title="파워 광고 3" data-phone="010-3333-4444" data-category="식당"
          data-img="https://via.placeholder.com/300x200">
          <div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 text-xs rounded">파워광고</div>
          <img src="https://via.placeholder.com/300x200" alt="파워 광고 3" class="h-40 w-full object-cover rounded mb-4" />
          <h2 class="text-2xl font-bold text-center mb-2">파워 광고 3</h2>
          <h3 class="text-xl font-semibold text-center text-gray-700">식당</h3>
          <p class="text-lg text-gray-500 text-center">010-3333-4444</p>
          <a href="#"
            class="mt-4 bg-blue-500 text-white py-2 px-4 rounded text-center shadow-lg hover:bg-blue-600">바로가기</a>
        </div>
        <!-- 파워 광고 카드 4 -->
        <div class="ad-card relative bg-yellow-50 border-4 border-yellow-400 shadow-lg rounded-lg p-6 flex flex-col"
          data-title="파워 광고 4" data-phone="010-4444-5555" data-category="식당"
          data-img="https://via.placeholder.com/300x200">
          <div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 text-xs rounded">파워광고</div>
          <img src="https://via.placeholder.com/300x200" alt="파워 광고 4" class="h-40 w-full object-cover rounded mb-4" />
          <h2 class="text-2xl font-bold text-center mb-2">파워 광고 4</h2>
          <h3 class="text-xl font-semibold text-center text-gray-700">식당</h3>
          <p class="text-lg text-gray-500 text-center">010-4444-5555</p>
          <a href="#"
            class="mt-4 bg-blue-500 text-white py-2 px-4 rounded text-center shadow-lg hover:bg-blue-600">바로가기</a>
        </div>
      </div>
    </section>

    <!-- 각 카테고리별 CSR 광고 섹션 -->
    <!-- 예: 한식 광고 섹션 -->
    <section id="koreanAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">한식 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_hansik.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="koreanAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- 중식 광고 섹션 -->
    <section id="chineseAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">중식 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_chinese.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="chineseAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- 일식 광고 섹션 -->
    <section id="japaneseAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">일식 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_japanese.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="japaneseAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- 양식 광고 섹션 -->
    <section id="westernAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">양식 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_western.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="westernAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- 패스트푸드 광고 섹션 -->
    <section id="fastfoodAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">패스트푸드 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_fastfood.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="fastfoodAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- 치킨 광고 섹션 -->
    <section id="chickenAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">치킨 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_chicken.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="chickenAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- 카페 광고 섹션 -->
    <section id="cafeAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">카페 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_cafe.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="cafeAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- 스트리트 푸드 광고 섹션 -->
    <section id="streetfoodAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">스트리트 푸드 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_streetfood.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="streetfoodAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- 분식 광고 섹션 (새롭게 추가) -->
    <section id="bunsikAdsSection" class="mt-8 border-2 border-gray-300 rounded-lg p-6 mb-16">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold">분식 (CSR)</h2>
        <div class="flex items-center space-x-6">
          <a href="#" class="home-link text-blue-500 hover:underline font-bold text-lg">🏠 홈</a>
          <a href="detail_bunsik.html" class="more-link text-blue-500 hover:underline font-bold text-lg">+더보기</a>
        </div>
      </div>
      <div id="bunsikAdsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </section>
  </main>

  <!-- 푸터 (외부 파일에서 로드) -->
  <div id="footer-container"></div>

  <!-- 공통 모달 오버레이 -->
  <div id="modalOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

  <!-- 공통 모달 -->
  <div id="commonModal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div class="bg-white w-11/12 md:w-[80%] h-[90vh] max-h-screen max-w-5xl p-5 rounded-lg shadow-lg overflow-y-auto">
      <div class="flex justify-between items-center mb-2">
        <h2 id="modalTitle" class="text-2xl font-bold">광고 상세 정보</h2>
        <button id="closeModalBtn" class="text-gray-500 hover:text-gray-800 text-2xl font-bold">✕</button>
      </div>
      <!-- 이미지 섹션 (크기 600x400px로 조정) -->
      <div class="w-full flex justify-center">
        <div class="flex flex-col items-center">
          <div class="overflow-hidden border w-[600px] h-[400px]">
            <img id="modalMainImage" src="" alt="광고 상세 이미지" class="w-[600px] h-[400px] object-cover">
          </div>
          <div class="mt-4 flex justify-center gap-2">
            <img id="modalThumb1"
              class="w-20 h-20 cursor-pointer border border-gray-200 hover:border-orange-500 rounded">
            <img id="modalThumb2"
              class="w-20 h-20 cursor-pointer border border-gray-200 hover:border-orange-500 rounded">
            <img id="modalThumb3"
              class="w-20 h-20 cursor-pointer border border-gray-200 hover:border-orange-500 rounded">
          </div>
        </div>
      </div>
      <!-- 정보 섹션 -->
      <div class="mt-4 text-lg">
        <p><strong>위치:</strong> <a id="modalLocation" href="https://map.kakao.com/" target="_blank"
            class="underline text-blue-500">위치 보기</a></p>
        <p><strong>오픈일:</strong> <span id="modalOpenDate"></span></p>
        <p><strong>업종:</strong> <span id="modalBiz"></span></p>
        <p><strong>전화번호:</strong> <span id="modalPhone"></span></p>
        <p><strong>배달:</strong> <span id="modalDelivery"></span></p>
        <p><strong>이벤트:</strong> <span id="modalEvents"></span></p>
        <p><strong>장애인 편의 시설:</strong> <span id="modalFacilities"></span></p>
      </div>
      <!-- 추가 정보 -->
      <div id="modalHiddenFields" class="hidden mt-4">
        <p class="font-bold text-lg mb-1">추가 정보:</p>
        <p id="modalAdditionalInfo" class="text-gray-700">여기에 추가 정보가 있습니다.</p>
      </div>
      <div class="mt-4 flex justify-center gap-4">
        <button id="modalToggleBtn"
          class="bg-blue-500 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-600 transition">더보기</button>
        <button id="modalToggleBtn2"
          class="hidden bg-blue-500 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-600 transition">이전</button>
      </div>
    </div>
  </div>

  <!-- 자바스크립트 -->
  <script>
    // 1) 외부 컴포넌트 로드 (header.html, footer.html)
    async function loadComponent(url, containerId) {
      try {
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error('HTTP error! status: ' + response.status);
        }
        const html = await response.text();
        document.getElementById(containerId).innerHTML = html;
      } catch (error) {
        console.error('Error loading ' + url + ':', error);
      }
    }

    // 2) 광고 데이터 (예시) - 각 카테고리별 8개 이상의 데이터 추가
    const generalAdsData = [
      // 한식 데이터
      { title: "김밥천국", category: "한식", phone: "010-1234-5678", img: "https://via.placeholder.com/300x200" },
      { title: "비빔밥", category: "한식", phone: "010-1111-2222", img: "https://via.placeholder.com/300x200/aaaaaa" },
      { title: "불고기", category: "한식", phone: "010-2222-3333", img: "https://via.placeholder.com/300x200/bbbbbb" },
      { title: "삼겹살", category: "한식", phone: "010-3333-4444", img: "https://via.placeholder.com/300x200/cccccc" },
      { title: "비빔냉면", category: "한식", phone: "010-4444-5555", img: "https://via.placeholder.com/300x200/dddddd" },
      { title: "된장찌개", category: "한식", phone: "010-5555-6666", img: "https://via.placeholder.com/300x200/eeeeee" },
      { title: "김치찌개", category: "한식", phone: "010-6666-7777", img: "https://via.placeholder.com/300x200/ffffff" },
      { title: "제육볶음", category: "한식", phone: "010-7777-8888", img: "https://via.placeholder.com/300x200/999999" },

      // 중식 데이터
      { title: "공화춘", category: "중식", phone: "010-8901-2345", img: "https://via.placeholder.com/300x200/ccffff" },
      { title: "짜장면", category: "중식", phone: "010-3333-4444", img: "https://via.placeholder.com/300x200/cccccc" },
      { title: "짬뽕", category: "중식", phone: "010-4444-5555", img: "https://via.placeholder.com/300x200/dddddd" },
      { title: "탕수육", category: "중식", phone: "010-5555-6666", img: "https://via.placeholder.com/300x200/eeeeee" },
      { title: "마파두부", category: "중식", phone: "010-6666-7777", img: "https://via.placeholder.com/300x200/ffffff" },
      { title: "팔보채", category: "중식", phone: "010-7777-8888", img: "https://via.placeholder.com/300x200/999999" },
      { title: "볶음밥", category: "중식", phone: "010-8888-9999", img: "https://via.placeholder.com/300x200/888888" },
      { title: "딤섬", category: "중식", phone: "010-9999-0000", img: "https://via.placeholder.com/300x200/777777" },

      // 일식 데이터
      { title: "초밥", category: "일식", phone: "010-5555-6666", img: "https://via.placeholder.com/300x200/eeeeee" },
      { title: "라멘", category: "일식", phone: "010-6666-7777", img: "https://via.placeholder.com/300x200/ffffff" },
      { title: "돈까스", category: "일식", phone: "010-7777-8888", img: "https://via.placeholder.com/300x200/999999" },
      { title: "우동", category: "일식", phone: "010-8888-9999", img: "https://via.placeholder.com/300x200/888888" },
      { title: "가츠동", category: "일식", phone: "010-9999-0000", img: "https://via.placeholder.com/300x200/777777" },
      { title: "규동", category: "일식", phone: "010-0000-1111", img: "https://via.placeholder.com/300x200/666666" },
      { title: "오코노미야끼", category: "일식", phone: "010-1111-2222", img: "https://via.placeholder.com/300x200/555555" },
      { title: "타코야끼", category: "일식", phone: "010-2222-3333", img: "https://via.placeholder.com/300x200/444444" },

      // 양식 데이터
      { title: "스파게티", category: "양식", phone: "010-8888-9999", img: "https://via.placeholder.com/300x200/888888" },
      { title: "피자", category: "양식", phone: "010-9999-0000", img: "https://via.placeholder.com/300x200/777777" },
      { title: "파스타", category: "양식", phone: "010-0000-1111", img: "https://via.placeholder.com/300x200/666666" },
      { title: "샐러드", category: "양식", phone: "010-1111-2222", img: "https://via.placeholder.com/300x200/555555" },
      { title: "스테이크", category: "양식", phone: "010-2222-3333", img: "https://via.placeholder.com/300x200/444444" },
      { title: "버거", category: "양식", phone: "010-3333-4444", img: "https://via.placeholder.com/300x200/333333" },
      { title: "샌드위치", category: "양식", phone: "010-4444-5555", img: "https://via.placeholder.com/300x200/222222" },
      { title: "리조또", category: "양식", phone: "010-5555-6666", img: "https://via.placeholder.com/300x200/111111" },

      // 패스트푸드 데이터
      { title: "햄버거", category: "패스트푸드", phone: "010-0000-1111", img: "https://via.placeholder.com/300x200/666666" },
      { title: "치킨버거", category: "패스트푸드", phone: "010-1111-2222", img: "https://via.placeholder.com/300x200/555555" },
      { title: "감자튀김", category: "패스트푸드", phone: "010-2222-3333", img: "https://via.placeholder.com/300x200/444444" },
      { title: "콜라", category: "패스트푸드", phone: "010-3333-4444", img: "https://via.placeholder.com/300x200/333333" },
      { title: "쉐이크", category: "패스트푸드", phone: "010-4444-5555", img: "https://via.placeholder.com/300x200/222222" },
      { title: "치킨너겟", category: "패스트푸드", phone: "010-5555-6666", img: "https://via.placeholder.com/300x200/111111" },
      { title: "핫도그", category: "패스트푸드", phone: "010-6666-7777", img: "https://via.placeholder.com/300x200/000000" },
      { title: "버팔로윙", category: "패스트푸드", phone: "010-7777-8888", img: "https://via.placeholder.com/300x200/aaaaaa" },

      // 치킨 데이터
      { title: "BBQ 치킨", category: "치킨", phone: "010-2222-3333", img: "https://via.placeholder.com/300x200/444444" },
      { title: "네네치킨", category: "치킨", phone: "010-3333-4444", img: "https://via.placeholder.com/300x200/333333" },
      { title: "교촌치킨", category: "치킨", phone: "010-4444-5555", img: "https://via.placeholder.com/300x200/222222" },
      { title: "BBQ", category: "치킨", phone: "010-5555-6666", img: "https://via.placeholder.com/300x200/111111" },
      { title: "푸라닭", category: "치킨", phone: "010-6666-7777", img: "https://via.placeholder.com/300x200/000000" },
      { title: "굽네치킨", category: "치킨", phone: "010-7777-8888", img: "https://via.placeholder.com/300x200/cccccc" },
      { title: "멕시칸치킨", category: "치킨", phone: "010-8888-9999", img: "https://via.placeholder.com/300x200/bbbbbb" },
      { title: "순살치킨", category: "치킨", phone: "010-9999-0000", img: "https://via.placeholder.com/300x200/aaaaaa" },

      // 카페 데이터
      { title: "스타벅스", category: "카페", phone: "010-4444-5555", img: "https://via.placeholder.com/300x200/222222" },
      { title: "이디야", category: "카페", phone: "010-5555-6666", img: "https://via.placeholder.com/300x200/111111" },
      { title: "투썸플레이스", category: "카페", phone: "010-6666-7777", img: "https://via.placeholder.com/300x200/000000" },
      { title: "엔제리너스", category: "카페", phone: "010-7777-8888", img: "https://via.placeholder.com/300x200/aaaaaa" },
      { title: "빽다방", category: "카페", phone: "010-8888-9999", img: "https://via.placeholder.com/300x200/bbbbbb" },
      { title: "커피빈", category: "카페", phone: "010-9999-0000", img: "https://via.placeholder.com/300x200/cccccc" },
      { title: "할리스", category: "카페", phone: "010-0000-1111", img: "https://via.placeholder.com/300x200/dddddd" },
      { title: "파스쿠찌", category: "카페", phone: "010-1111-2222", img: "https://via.placeholder.com/300x200/eeeeee" },

      // 스트리트 푸드 데이터
      { title: "타코벨", category: "스트리트푸드", phone: "010-6666-7777", img: "https://via.placeholder.com/300x200/123456" },
      { title: "핫도그", category: "스트리트푸드", phone: "010-7777-8888", img: "https://via.placeholder.com/300x200/654321" },
      { title: "떡볶이", category: "스트리트푸드", phone: "010-8888-9999", img: "https://via.placeholder.com/300x200/abcdef" },
      { title: "순대", category: "스트리트푸드", phone: "010-9999-0000", img: "https://via.placeholder.com/300x200/fedcba" },
      { title: "오뎅", category: "스트리트푸드", phone: "010-0000-1111", img: "https://via.placeholder.com/300x200/111111" },
      { title: "붕어빵", category: "스트리트푸드", phone: "010-1111-2222", img: "https://via.placeholder.com/300x200/222222" },
      { title: "호떡", category: "스트리트푸드", phone: "010-2222-3333", img: "https://via.placeholder.com/300x200/333333" },
      { title: "군밤", category: "스트리트푸드", phone: "010-3333-4444", img: "https://via.placeholder.com/300x200/444444" },

      // 분식 데이터 (새롭게 추가)
      { title: "분식나라", category: "분식", phone: "010-1234-0001", img: "https://via.placeholder.com/300x200/ffcccc" },
      { title: "떡볶이명가", category: "분식", phone: "010-1234-0002", img: "https://via.placeholder.com/300x200/ffdddd" },
      { title: "김밥천국 분식", category: "분식", phone: "010-1234-0003", img: "https://via.placeholder.com/300x200/ffeeee" },
      { title: "분식집", category: "분식", phone: "010-1234-0004", img: "https://via.placeholder.com/300x200/ffeecc" },
      { title: "분식 스낵", category: "분식", phone: "010-1234-0005", img: "https://via.placeholder.com/300x200/ffccdd" },
      { title: "오뎅분식", category: "분식", phone: "010-1234-0006", img: "https://via.placeholder.com/300x200/ffddee" },
      { title: "튀김분식", category: "분식", phone: "010-1234-0007", img: "https://via.placeholder.com/300x200/ffeedc" },
      { title: "분식포차", category: "분식", phone: "010-1234-0008", img: "https://via.placeholder.com/300x200/ffeedd" }
    ];

    // 3) 광고 카드 템플릿 (공통 함수)
    function createAdCard(ad) {
      const adBox = document.createElement("div");
      adBox.className = "ad-card bg-white shadow-lg rounded-lg p-6 flex flex-col border-2 border-gray-300 transform transition duration-300 hover:-translate-y-2 hover:shadow-2xl";
      adBox.setAttribute("data-title", ad.title);
      adBox.setAttribute("data-phone", ad.phone);
      adBox.setAttribute("data-category", ad.category);
      adBox.setAttribute("data-img", ad.img);
      adBox.innerHTML = `
        <img src="${ad.img}" alt="${ad.title}" class="h-40 w-full object-cover rounded mb-4" />
        <h2 class="text-2xl font-bold text-center mb-2">${ad.title}</h2>
        <h3 class="text-xl font-semibold text-center text-gray-700">${ad.category}</h3>
        <p class="text-lg text-gray-500 text-center">${ad.phone}</p>
        <a href="#" class="open-modal mt-4 bg-blue-500 text-white py-2 px-4 rounded text-center shadow-lg hover:bg-blue-600">바로가기</a>
      `;
      return adBox;
    }

    // 4) 광고 렌더링 함수 (공통) - 각 카테고리의 데이터를 최대 8개만 렌더링
    function renderAds(category, containerId) {
      const filteredAds = generalAdsData.filter(ad => ad.category === category);
      const container = document.getElementById(containerId);
      container.innerHTML = "";
      filteredAds.slice(0, 8).forEach(ad => {
        container.appendChild(createAdCard(ad));
      });
    }

    // 5) 초기화: 각 카테고리별 광고 섹션 렌더링 및 이벤트 처리
    document.addEventListener("DOMContentLoaded", async () => {
      // 헤더와 푸터 외부 컴포넌트 로드
      await loadComponent("components/header.html", "header-container");
      await loadComponent("components/footer.html", "footer-container");

      // 각 카테고리별 광고 렌더링
      renderAds("한식", "koreanAdsContainer");
      renderAds("중식", "chineseAdsContainer");
      renderAds("일식", "japaneseAdsContainer");
      renderAds("양식", "westernAdsContainer");
      renderAds("패스트푸드", "fastfoodAdsContainer");
      renderAds("치킨", "chickenAdsContainer");
      renderAds("카페", "cafeAdsContainer");
      renderAds("스트리트푸드", "streetfoodAdsContainer");
      renderAds("분식", "bunsikAdsContainer");

      // 카테고리 버튼 클릭 시 해당 섹션으로 스크롤 이동
      const categorySectionMap = {
        "한식": "koreanAdsSection",
        "중식": "chineseAdsSection",
        "일식": "japaneseAdsSection",
        "양식": "westernAdsSection",
        "패스트푸드": "fastfoodAdsSection",
        "치킨": "chickenAdsSection",
        "카페": "cafeAdsSection",
        "스트리트푸드": "streetfoodAdsSection",
        "분식": "bunsikAdsSection"
      };

      const categoryButtons = document.querySelectorAll('.category-btn');
      categoryButtons.forEach(button => {
        button.addEventListener('click', () => {
          const category = button.getAttribute('data-category');
          const sectionId = categorySectionMap[category];
          if (sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
          }
        });
      });

      // 홈 링크 클릭 시 카테고리 선택 영역으로 스크롤 이동
      const homeLinks = document.querySelectorAll('.home-link');
      homeLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          document.getElementById('categorySelection').scrollIntoView({ behavior: 'smooth' });
        });
      });

      // 6) 검색 기능 (일반 광고 대상)
      const searchButton = document.getElementById("searchButton");
      const searchInput = document.getElementById("searchInput");

      if (searchButton && searchInput) {
        searchButton.addEventListener("click", () => {
          const keyword = searchInput.value.trim().toLowerCase();
          if (!keyword) {
            alert("검색어를 입력하세요!");
            // 검색어가 없으면 모든 카테고리 재렌더링
            renderAds("한식", "koreanAdsContainer");
            renderAds("중식", "chineseAdsContainer");
            renderAds("일식", "japaneseAdsContainer");
            renderAds("양식", "westernAdsContainer");
            renderAds("패스트푸드", "fastfoodAdsContainer");
            renderAds("치킨", "chickenAdsContainer");
            renderAds("카페", "cafeAdsContainer");
            renderAds("스트리트푸드", "streetfoodAdsContainer");
            renderAds("분식", "bunsikAdsContainer");
            return;
          }

          function renderSearchedAds(category, containerId) {
            const filtered = generalAdsData.filter(ad =>
              ad.category === category &&
              (ad.title.toLowerCase().includes(keyword) || ad.phone.includes(keyword))
            );
            const container = document.getElementById(containerId);
            container.innerHTML = "";
            filtered.slice(0, 8).forEach(ad => {
              container.appendChild(createAdCard(ad));
            });
          }

          renderSearchedAds("한식", "koreanAdsContainer");
          renderSearchedAds("중식", "chineseAdsContainer");
          renderSearchedAds("일식", "japaneseAdsContainer");
          renderSearchedAds("양식", "westernAdsContainer");
          renderSearchedAds("패스트푸드", "fastfoodAdsContainer");
          renderSearchedAds("치킨", "chickenAdsContainer");
          renderSearchedAds("카페", "cafeAdsContainer");
          renderSearchedAds("스트리트푸드", "streetfoodAdsContainer");
          renderSearchedAds("분식", "bunsikAdsContainer");
          alert("검색 결과가 반영되었습니다.");
        });
      }
    });

    // 7) 공통 모달 기능 (모든 광고 카드 클릭 시 메인페이지 모달 형태로 열림)
    document.addEventListener("DOMContentLoaded", function () {
      const modalOverlay = document.getElementById("modalOverlay");
      const commonModal = document.getElementById("commonModal");
      const closeModalBtn = document.getElementById("closeModalBtn");
      const modalMainImage = document.getElementById("modalMainImage");
      const modalTitle = document.getElementById("modalTitle");
      const modalPhone = document.getElementById("modalPhone");
      const modalBiz = document.getElementById("modalBiz");
      const modalLocation = document.getElementById("modalLocation");
      const modalOpenDate = document.getElementById("modalOpenDate");
      const modalDelivery = document.getElementById("modalDelivery");
      const modalEvents = document.getElementById("modalEvents");
      const modalFacilities = document.getElementById("modalFacilities");
      const modalHiddenFields = document.getElementById("modalHiddenFields");
      const modalAdditionalInfo = document.getElementById("modalAdditionalInfo");
      const modalToggleBtn = document.getElementById("modalToggleBtn");
      const modalToggleBtn2 = document.getElementById("modalToggleBtn2");

      // 광고 카드 클릭 시 모달 열기 (이벤트 위임)
      document.body.addEventListener("click", function (event) {
        const target = event.target.closest(".ad-card");
        if (!target) return;

        // 광고 카드에서 데이터 가져오기
        modalTitle.textContent = target.dataset.title;
        modalPhone.textContent = target.dataset.phone;
        modalBiz.textContent = target.dataset.category;
        modalMainImage.src = target.dataset.img;

        // 강제 크기 적용 (600x400px)
        modalMainImage.style.width = "600px";
        modalMainImage.style.height = "400px";

        // 기타 정보 기본값 설정
        modalLocation.href = "https://map.kakao.com/";
        modalOpenDate.textContent = "오픈일 정보 없음";
        modalDelivery.textContent = "배달 정보 없음";
        modalEvents.textContent = "이벤트 정보 없음";
        modalFacilities.textContent = "장애인 편의 시설 정보 없음";
        modalAdditionalInfo.textContent = "여기에 추가 정보가 있습니다.";

        // 모달 열기
        modalOverlay.classList.remove("hidden");
        commonModal.classList.remove("hidden");
      });

      // 모달 닫기 함수
      function closeModal() {
        modalOverlay.classList.add("hidden");
        commonModal.classList.add("hidden");
      }

      closeModalBtn.addEventListener("click", closeModal);
      modalOverlay.addEventListener("click", closeModal);

      // 더보기/이전 버튼 토글 처리
      modalToggleBtn.addEventListener("click", () => {
        modalHiddenFields.classList.remove("hidden");
        modalToggleBtn.classList.add("hidden");
        modalToggleBtn2.classList.remove("hidden");
      });
      modalToggleBtn2.addEventListener("click", () => {
        modalHiddenFields.classList.add("hidden");
        modalToggleBtn.classList.remove("hidden");
        modalToggleBtn2.classList.add("hidden");
      });
    });
  </script>
</body>

</html>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>π μ„ λ¬Όν•¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center py-10">
    
    <div id="header" class="mb-6"></div>
    
    <!-- μ„ λ¬Όν•¨ μ λ© -->
    <section class="text-center mb-8">
        <h2 class="text-4xl font-extrabold text-pink-700">π λ‚΄ μ„ λ¬Όν•¨</h2>
        <p class="text-lg text-gray-600 mt-2">λ°›μ€ μΏ ν°κ³Ό μ„ λ¬Όμ„ ν™•μΈν•μ„Έμ”!</p>
    </section>
    
    <!-- μ„ λ¬Όν•¨ νƒ­ -->
    <div id="new-gift-alert" class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 max-w-lg text-center" role="alert">
        <p class="font-bold">π“Ά μƒλ΅μ΄ μ„ λ¬Όμ΄ λ„μ°©ν–μ–΄μ”!</p>
        <p>μ§€κΈ ν™•μΈν•΄λ³΄μ„Έμ”!</p>
    </div>
    
    <!-- μ„ λ¬Ό μ‚¬μ© ν†µκ³„ -->
    <div class="bg-white shadow-lg rounded-lg p-4 mb-6 text-center max-w-md">
        <h3 class="text-lg font-semibold text-gray-800">π― μ„ λ¬Ό μ‚¬μ© ν„ν™©</h3>
        <p class="text-gray-600 mt-2">μ‚¬μ©ν• μΏ ν°: <span id="used-coupons" class="font-bold text-pink-600">2</span>κ° / λ‚¨μ€ μΏ ν°: <span id="remaining-coupons" class="font-bold text-green-600">3</span>κ°</p>
    </div>
    
    <!-- μµκ·Ό λ°›μ€ μ„ λ¬Ό μ•λ¦Ό -->
    <div id="new-gift-alert" class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 max-w-lg hidden" role="alert">
        <p class="font-bold">π“Ά μƒλ΅μ΄ μ„ λ¬Όμ΄ λ„μ°©ν–μ–΄μ”!</p>
        <p>μ§€κΈ ν™•μΈν•΄λ³΄μ„Έμ”!</p>
    </div>
    
    <!-- μ„ λ¬Ό λ¦¬μ¤νΈ -->
    <div class="max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-4">
        <div class="bg-white p-6 rounded-lg shadow-lg text-center flex flex-col items-center animate-fade-in h-full flex justify-between">
            <div class="w-16 h-16 bg-yellow-300 text-white flex items-center justify-center rounded-full text-3xl">ποΈ</div>
            <h3 class="text-xl font-semibold mt-4 text-gray-800">10% ν• μΈ μΏ ν°</h3>
            <p class="text-gray-500 mt-2">μ ν¨κΈ°κ°„: 2025-06-30</p>
            <p class="text-sm text-gray-400">π μΉκµ¬κ°€ λ³΄λƒμ–΄μ”!</p>
            <button class="mt-auto bg-pink-500 text-white px-4 py-2 rounded-full shadow-md hover:bg-pink-600 transition use-button">μ‚¬μ©ν•κΈ°</button>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-lg text-center flex flex-col items-center animate-fade-in">
            <div class="w-16 h-16 bg-blue-300 text-white flex items-center justify-center rounded-full text-3xl">π«</div>
            <h3 class="text-xl font-semibold mt-4 text-gray-800">VIP μ΄λ€κ¶</h3>
            <p class="text-gray-500 mt-2">μ ν¨κΈ°κ°„: 2025-07-15</p>
            <button class="mt-4 bg-gray-300 text-gray-600 px-4 py-2 rounded-full shadow-md cursor-not-allowed">μ‚¬μ© μ™„λ£</button>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-lg text-center flex flex-col items-center animate-fade-in">
            <div class="w-16 h-16 bg-green-300 text-white flex items-center justify-center rounded-full text-3xl">π’³</div>
            <h3 class="text-xl font-semibold mt-4 text-gray-800">λ¬΄λ£ μλ£ μΏ ν°</h3>
            <p class="text-gray-500 mt-2">μ ν¨κΈ°κ°„: 2025-08-01</p>
            <button class="mt-4 bg-pink-500 text-white px-4 py-2 rounded-full shadow-md hover:bg-pink-600 transition use-button">μ‚¬μ©ν•κΈ°</button>
        </div>
    </div>
    
    <div id="footer" class="mt-20 pb-10 w-full"></div>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let usedCoupons = document.querySelectorAll('.bg-gray-300.cursor-not-allowed').length;
            let remainingCoupons = document.querySelectorAll('.use-button').length;
            
            const updateCounter = () => {
                document.getElementById("used-coupons").innerText = usedCoupons;
                document.getElementById("remaining-coupons").innerText = remainingCoupons;
            };
            
            const gifts = document.querySelectorAll(".use-button");
            gifts.forEach(button => {
                button.addEventListener("click", function () {
                    if (!this.disabled) {
                        this.innerText = "μ‚¬μ© μ™„λ£";
                        this.classList.remove("bg-pink-500", "hover:bg-pink-600");
                        this.classList.add("bg-gray-300", "text-gray-600", "cursor-not-allowed");
                        this.disabled = true;
                        
                        // λ¶€λ¨ μ”μ† λ°°κ²½μ„ λ³€κ²½ν•μ—¬ VIP μ΄λ€κ¶κ³Ό λ™μΌν•κ² μ„¤μ •
                        const parentCard = this.closest(".bg-white");
                        if (parentCard) {
                            parentCard.classList.remove("bg-white");
                            parentCard.classList.add("bg-gray-100");
                        }
                        
                        // μΉ΄μ΄ν„° μ—…λ°μ΄νΈ
                        usedCoupons++;
                        remainingCoupons--;
                        updateCounter();
            console.log(`μ‚¬μ©ν• μΏ ν°: ${usedCoupons}, λ‚¨μ€ μΏ ν°: ${remainingCoupons}`);
                    }
                });
            });
            
            const newGiftAlert = document.getElementById("new-gift-alert");
            const hasNewGifts = true; // API λ°μ΄ν„°λ΅ λ³€κ²½ κ°€λ¥
            if (hasNewGifts) {
                newGiftAlert.classList.remove("hidden");
            }
            
            updateCounter();
        });
        document.addEventListener("DOMContentLoaded", function () {
            const gifts = document.querySelectorAll(".use-button");
            gifts.forEach(button => {
                button.addEventListener("click", function () {
                    this.innerText = "μ‚¬μ© μ™„λ£";
                    this.classList.remove("bg-pink-500", "hover:bg-pink-600");
                    this.classList.add("bg-gray-300", "text-gray-600", "cursor-not-allowed");
                    this.disabled = true;
                    
                    // λ¶€λ¨ μ”μ† λ°°κ²½μ„ λ³€κ²½ν•μ—¬ VIP μ΄λ€κ¶κ³Ό λ™μΌν•κ² μ„¤μ •
                    const parentCard = this.closest(".bg-white");
                    if (parentCard) {
                        parentCard.classList.remove("bg-white");
                        parentCard.classList.add("bg-gray-100");
                    }
                });
            });
            
            const newGiftAlert = document.getElementById("new-gift-alert");
            const hasNewGifts = true; // API λ°μ΄ν„°λ΅ λ³€κ²½ κ°€λ¥
            if (hasNewGifts) {
                newGiftAlert.classList.remove("hidden");
            }
        });

        // ν—¤λ” λ° ν‘Έν„° λ΅λ“
        fetch("components/header.html")
            .then(response => response.text())
            .then(data => document.getElementById("header").innerHTML = data)
            .catch(error => console.error('ν—¤λ” λ΅λ”© μ‹¤ν¨:', error));
        
        fetch("components/footer.html")
            .then(response => response.text())
            .then(data => document.getElementById("footer").innerHTML = data)
            .catch(error => console.error('ν‘Έν„° λ΅λ”© μ‹¤ν¨:', error));
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>광고 홈페이지 (SSR+CSR 혼합 예시)</title>
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    .header-content { gap: 1rem; }
    .nav-links a { transition: color 0.3s ease; }
    footer p { font-size: 0.875rem; }
  </style>
</head>
<body class="bg-gray-50">
  <!-- 헤더 -->
  <div id="header-container"></div>

  <!-- 메인 콘텐츠 -->
  <main class="w-full max-w-screen-xl mx-auto px-4 sm:px-8 mt-8">
    <!-- (카테고리 버튼 및 상단 배너/슬라이더 등 기존 내용은 그대로...) -->
    <!-- 여기선 핵심 CSR/광고 영역 위주로 예시 -->

    <!-- 핫한 우리 동네 -->
    <section id="hotNeighborhoodSection" class="bg-white border-2 border-gray-300 rounded-lg p-6 mt-8 shadow relative">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-3xl font-bold">가장 핫한 우리 동네 (CSR)</h2>
        <a href="hottest neighborhood.html" class="text-blue-500 text-lg font-semibold hover:underline transition">+더보기</a>
      </div>
      <div id="hotNeighborhoodContainer" class="grid grid-cols-4 gap-6"></div>
    </section>

    <!-- 홍보의 추천 -->
    <section id="promoRecommendationSection" class="bg-white border-2 border-gray-300 rounded-lg p-6 mt-8 shadow relative">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-3xl font-bold">홍보의 추천 (CSR)</h2>
        <a href="recommendation.html" class="text-blue-500 text-lg font-semibold hover:underline transition">+더보기</a>
      </div>
      <div id="promoRecommendationContainer" class="grid grid-cols-4 gap-6"></div>
    </section>

    <!-- 오픈예정 -->
    <section id="scheduledtoopenSection" class="bg-white border-2 border-gray-300 rounded-lg p-6 mt-8 shadow relative">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-3xl font-bold">오픈예정 (CSR)</h2>
        <a href="open.html" class="text-blue-500 text-lg font-semibold hover:underline transition">+더보기</a>
      </div>
      <div id="scheduledtoopenContainer" class="grid grid-cols-4 gap-6"></div>
    </section>

    <!-- 가게자랑 -->
    <section id="storeprideSection" class="bg-white border-2 border-gray-300 rounded-lg p-6 mt-8 shadow relative">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-3xl font-bold">가게자랑 (CSR)</h2>
        <a href="storepride.html" class="text-blue-500 text-lg font-semibold hover:underline transition">+더보기</a>
      </div>
      <div id="storeprideContainer" class="grid grid-cols-4 gap-6"></div>
    </section>

    <!-- 전통시장 -->
    <section id="traditionalmarketSection" class="bg-white border-2 border-gray-300 rounded-lg p-6 mt-8 shadow relative">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-3xl font-bold">전통시장 (CSR)</h2>
        <a href="traditionalmarket.html" class="text-blue-500 text-lg font-semibold hover:underline transition">+더보기</a>
      </div>
      <div id="traditionalmarketContainer" class="grid grid-cols-4 gap-6"></div>
    </section>

    <!-- 지역 공연/예술/축제 -->
    <section id="localartSection" class="bg-white border-2 border-gray-300 rounded-lg p-6 mt-8 shadow relative">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-3xl font-bold">지역 공연 / 예술 / 축제 (CSR)</h2>
        <a href="performingarts.html" class="text-blue-500 text-lg font-semibold hover:underline transition">+더보기</a>
      </div>
      <div id="localartContainer" class="grid grid-cols-4 gap-6"></div>
    </section>
  </main>

  <!-- 푸터 -->
  <div id="footer-container"></div>

  <script>
    // 헤더/푸터 불러오기
    async function loadComponent(url, containerId) {
      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error("HTTP error! status: " + response.status);
        const html = await response.text();
        document.getElementById(containerId).innerHTML = html;
      } catch (error) {
        console.error("Error loading " + url + ":", error);
      }
    }

    // 데이터 없음 안내 문구(커스텀화)
    const emptyText = {
      hotNeighborhoodContainer: "광고 없음",
      promoRecommendationContainer: "광고 없음",
      scheduledtoopenContainer: "오픈예정 광고 없음",
      storeprideContainer: "등록된 가게자랑 없음",
      traditionalmarketContainer: "등록된 전통시장 없음",
      localartContainer: "등록된 공연/예술/축제 없음"
    };

    // CSR 카드 렌더 함수 (데이터 없을 시 안내문구)
    function renderSection(containerId, items, emptyMessage = "등록된 정보가 없습니다.") {
      const container = document.getElementById(containerId);
      container.innerHTML = "";
      if (!items || !items.length) {
        container.innerHTML = `<div class="col-span-4 text-center text-gray-400 py-8">${emptyMessage}</div>`;
        return;
      }
      items.forEach(item => {
        const adBox = document.createElement("div");
        adBox.className =
          "ad-box bg-white shadow-lg rounded-lg p-6 flex flex-col transform transition duration-300 hover:-translate-y-2 hover:shadow-2xl border-2 border-gray-300 cursor-pointer";
        adBox.innerHTML = `
          <img src="${item.img || 'https://via.placeholder.com/300x200'}" alt="${item.title}" class="h-40 w-full object-cover rounded mb-4">
          <h2 class="text-2xl font-bold text-center mb-2">${item.title}</h2>
          <a href="${item.link || '#'}" class="mt-4 bg-blue-500 text-white py-2 px-4 rounded text-center shadow-lg hover:bg-blue-600 transition">바로가기</a>
        `;
        container.appendChild(adBox);
      });
    }

    document.addEventListener("DOMContentLoaded", async () => {
      // ★ 예시 데이터 (→ 실서비스 연결 시 빈 배열로 처리됨)
      const data = {
        hotNeighborhoodContainer: [],
        promoRecommendationContainer: [],
        scheduledtoopenContainer: [],
        storeprideContainer: [],
        traditionalmarketContainer: [],
        localartContainer: []
      };

      // 헤더/푸터 항상 노출
      await loadComponent("components/header.html", "header-container");
      await loadComponent("components/footer.html", "footer-container");

      // 섹션별 렌더 (빈 데이터면 안내)
      renderSection("hotNeighborhoodContainer", data.hotNeighborhoodContainer, emptyText.hotNeighborhoodContainer);
      renderSection("promoRecommendationContainer", data.promoRecommendationContainer, emptyText.promoRecommendationContainer);
      renderSection("scheduledtoopenContainer", data.scheduledtoopenContainer, emptyText.scheduledtoopenContainer);
      renderSection("storeprideContainer", data.storeprideContainer, emptyText.storeprideContainer);
      renderSection("traditionalmarketContainer", data.traditionalmarketContainer, emptyText.traditionalmarketContainer);
      renderSection("localartContainer", data.localartContainer, emptyText.localartContainer);

      // 실제 데이터 연결 시 data.xxx = 서버응답값 으로 덮어씌우면 바로 카드로 출력됨
    });
  </script>
</body>
</html>

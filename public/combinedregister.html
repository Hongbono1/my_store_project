<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>통합 업종 등록/홍보 페이지</title>
  <link rel="stylesheet" href="/assets/css/tailwind.css" />
  <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=6286d4d9bc1d503495b03f46622b5dc8&autoload=false&libraries=services"></script>
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">
  <div id="header-placeholder"></div>
  <main class="flex-grow container mx-auto px-2 py-8">
    <div class="bg-white max-w-2xl mx-auto p-4 sm:p-6 rounded-2xl shadow-lg border border-gray-200">
      <h2 class="text-2xl sm:text-3xl font-bold text-center mb-6">통합 정보 등록/홍보</h2>
      <form id="bizForm" class="space-y-5" enctype="multipart/form-data">

        <!-- 1. 업종/카테고리/상호 -->
        <section>
          <div class="flex flex-col gap-2 mb-2">
            <label class="font-semibold">업종/분야 선택 <span class="text-red-500">*</span></label>
            <select name="category" id="category" class="border rounded px-3 py-2" required>
              <option value="">선택</option>
              <option value="음식점">음식점/카페</option>
              <option value="병원">병원/동물병원</option>
              <option value="약국">약국</option>
              <option value="미용">미용실/이발/뷰티</option>
              <option value="학원">학원/스터디</option>
              <option value="마트">마트/편의점</option>
              <option value="운동">운동/헬스</option>
              <option value="기타">기타</option>
            </select>
          </div>
          <div class="flex flex-col gap-2">
            <label class="font-semibold">상호명 <span class="text-red-500">*</span></label>
            <input name="businessName" class="border rounded px-3 py-2" required placeholder="예: 홍길동미용실"/>
          </div>
        </section>

        <!-- 2. 사업자 등록번호 인증, 자격증 업로드 -->
        <section class="border rounded p-3 bg-yellow-50">
          <label class="font-semibold block mb-2">사업자 등록 인증 <span class="text-red-500">*</span></label>
          <div class="flex items-center gap-2 mb-2">
            <input id="bizNumber1" maxlength="3" class="w-16 border rounded px-2 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'')" />
            <span>-</span>
            <input id="bizNumber2" maxlength="2" class="w-12 border rounded px-2 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'')" />
            <span>-</span>
            <input id="bizNumber3" maxlength="5" class="w-20 border rounded px-2 py-2" oninput="this.value=this.value.replace(/[^0-9]/g,'')" />
            <button type="button" onclick="verifyBizNumber()" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold px-3 py-2 rounded">인증</button>
          </div>
          <input type="file" name="businessCertImage" accept="image/*,application/pdf" class="mb-1"/>
          <span id="bizVerifyResult" class="block text-sm"></span>
          <div class="flex flex-col gap-2 mt-2">
            <label class="font-semibold">자격증(선택, jpg/pdf)</label>
            <input type="file" name="certificateImage" accept="image/*,application/pdf"/>
          </div>
        </section>

        <!-- 3. 대표자/연락처/개인정보 -->
        <section class="border rounded p-3 bg-indigo-50">
          <label class="font-semibold">대표자 정보</label>
          <div class="flex flex-col gap-2 mb-2">
            <input name="ownerName" placeholder="대표자 성함" class="border rounded px-3 py-2"/>
            <input type="date" name="birthDate" class="border rounded px-3 py-2"/>
            <input name="ownerPhone" placeholder="휴대폰번호(인증)" class="border rounded px-3 py-2"/>
            <button type="button" id="verifyPhoneButton" class="bg-indigo-500 text-white rounded px-3 py-2 w-32">휴대폰 인증</button>
            <input name="ownerEmail" placeholder="이메일" class="border rounded px-3 py-2"/>
            <input name="ownerAddress" placeholder="대표 주소" class="border rounded px-3 py-2"/>
            <span id="phoneVerifyResult" class="block text-sm"></span>
          </div>
        </section>

        <!-- 4. 운영 정보 -->
        <section>
          <div class="flex flex-col gap-2 mb-2">
            <label class="font-semibold">운영시간</label>
            <input name="businessHours" placeholder="09:00 ~ 20:00" class="border rounded px-3 py-2"/>
          </div>
          <div class="flex flex-col gap-2 mb-2">
            <label class="font-semibold">예약 가능 여부</label>
            <select name="reservation" class="border rounded px-3 py-2">
              <option value="가능">예약 가능</option>
              <option value="불가능">불가</option>
            </select>
          </div>
        </section>

        <!-- 5. 포트폴리오/현장 사진 -->
        <section class="border rounded p-3 bg-gray-50">
          <label class="font-semibold">포트폴리오(작업·시술·시공 사진 등, 최대 5장)</label>
          <input type="file" name="portfolioImages[]" multiple accept="image/*" class="mb-2"/>
          <div id="portfolioPreview" class="flex gap-2"></div>
        </section>

        <!-- 6. 서비스/설명/이벤트/쿠폰 -->
        <section>
          <div class="flex flex-col gap-2 mb-2">
            <label class="font-semibold">서비스/설명</label>
            <textarea name="serviceDetails" class="border rounded px-3 py-2" rows="3" placeholder="주요 서비스·이력 등"></textarea>
          </div>
          <div class="flex flex-col gap-2 mb-2">
            <label class="font-semibold">이벤트</label>
            <input name="event1" placeholder="이벤트 내용" class="border rounded px-3 py-2"/>
            <input name="event2" placeholder="이벤트 내용" class="border rounded px-3 py-2"/>
          </div>
          <div class="flex flex-col gap-2 mb-2">
            <label class="font-semibold">쿠폰 (직접설정)</label>
            <input name="coupon" placeholder="예: 10% 할인, 무료체험" class="border rounded px-3 py-2"/>
          </div>
        </section>

        <!-- 7. 메뉴 (필요시) -->
        <section>
          <label class="font-semibold">메뉴 등록(음식·미용·레슨 등 해당시)</label>
          <div class="flex flex-col gap-2">
            <input name="menu1" placeholder="메뉴1" class="border rounded px-3 py-2"/>
            <input name="menu2" placeholder="메뉴2" class="border rounded px-3 py-2"/>
          </div>
        </section>

        <!-- 8. 홈페이지/SNS/기타 -->
        <section>
          <label class="font-semibold">홈페이지/SNS</label>
          <input name="homepage" placeholder="홈페이지(선택)" class="border rounded px-3 py-2"/>
          <input name="instagram" placeholder="인스타그램(선택)" class="border rounded px-3 py-2"/>
        </section>

        <!-- 9. 주소/지도 -->
        <section class="border rounded p-3 bg-blue-50">
          <label class="font-semibold">주소 입력 <span class="text-red-500">*</span></label>
          <div class="flex gap-2 mb-2">
            <input name="postalCode" id="postalCode" placeholder="우편번호" readonly class="border rounded px-2 py-2 flex-1"/>
            <button type="button" onclick="openDaumPostcode()" class="bg-blue-500 text-white rounded px-3 py-2">주소 찾기</button>
          </div>
          <input name="roadAddress" id="roadAddress" placeholder="도로명 주소" readonly class="border rounded px-3 py-2 mb-2"/>
          <input name="detailAddress" id="detailAddress" placeholder="상세 주소" class="border rounded px-3 py-2"/>
          <div id="map" class="w-full h-48 border rounded mt-3"></div>
        </section>

        <!-- 10. 등록 -->
        <div class="text-center pt-2">
          <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold px-7 py-2 rounded-xl shadow">등록 완료</button>
        </div>

      </form>
    </div>
  </main>
  <div id="footer-placeholder"></div>
  <script>
    // 아래 기존 코드에서 필요한 기능만 추가/수정해서 사용하면 됩니다.

    // ... (Kakao 지도, 포트폴리오 미리보기, 사업자 인증, 휴대폰 인증 등 기존 combinedregister.html 스크립트 코드 복붙/수정) ...
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MALL HANKOOK | 카테고리 레이아웃</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 네오모피즘 카드 */
        .neo-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 1.2rem;
            box-shadow:
                6px 6px 16px #d9e0ec,
                -6px -6px 16px #ffffff;
            backdrop-filter: blur(16px) saturate(120%);
            transition: all .25s ease;
        }

        .neo-card:hover {
            transform: translateY(-4px);
            box-shadow:
                4px 4px 12px #cfd8e6,
                -4px -4px 12px #ffffff,
                0 8px 24px rgba(80, 130, 255, 0.15);
        }

        /* 3D 버튼 */
        .btn-3d {
            background: linear-gradient(90deg, #6dd5fa, #2980b9);
            border-radius: 1.3rem;
            padding: .5rem 1.5rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 0 #2393b3, 0 8px 16px rgba(0, 64, 128, 0.14);
            transition: all .15s;
        }

        .btn-3d:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #2393b3, 0 4px 10px rgba(0, 64, 128, 0.16);
        }

        /* 가로 스크롤 영역 (현재 사용은 X, 필요시 사용) */
        .scroll-x {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .scroll-x::-webkit-scrollbar {
            height: 6px;
        }

        .scroll-x::-webkit-scrollbar-thumb {
            background: #a3bffa;
            border-radius: 9999px;
        }

        /* 슬롯 카드 & 배지 (관리자용 슬롯 시각화용) */
        .slot-card {
            transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease,
                background-color .2s ease;
        }

        .slot-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 22px rgba(15, 23, 42, 0.16);
            border-color: rgba(59, 130, 246, 0.8);
            background-color: rgba(239, 246, 255, 0.85);
        }

        .badge-ad {
            background: rgba(59, 130, 246, 0.12);
            color: #1d4ed8;
        }

        .badge-img {
            background: rgba(34, 197, 94, 0.12);
            color: #15803d;
        }

        .badge-info {
            background: rgba(148, 163, 184, 0.16);
            color: #475569;
        }

        .modal-bg {
            backdrop-filter: blur(6px);
        }
    </style>
</head>


<body class="bg-gradient-to-br from-blue-50 via-white to-blue-100 min-h-screen text-gray-800">
    <!-- ✅ header.html 불러오기 -->
    <div id="header-placeholder"></div>

    <header class="py-6 text-center">
        <h1 class="text-3xl font-bold text-blue-700">우리동네 가게</h1>
        <p class="text-gray-600 mt-1">어떤 가게를 찾으세요? (카테고리 레이아웃 관리자: 슬롯 클릭 → 광고/기간 설정)</p>
    </header>

    <div class="max-w-6xl mx-auto grid grid-cols-12 gap-6 py-6 px-4">

        <!-- 좌측 사이드바 -->
        <aside class="col-span-3 neo-card p-3 h-full max-h-[1346px] overflow-y-auto">
            <h2 class="font-bold text-2xl mb-4 text-center">CATEGORY</h2>
            <ul class="space-y-2">

                <!-- 병원 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        병 원 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=hospital&category=종합병원"
                                class="block px-5 py-2 neo-card text-center">종합병원</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=내과"
                                class="block px-3 py-2 neo-card text-center">내과</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=치과"
                                class="block px-3 py-2 neo-card text-center">치과</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=소아과"
                                class="block px-3 py-2 neo-card text-center">소아과</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=정형외과"
                                class="block px-3 py-2 neo-card text-center">정형외과</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=산부인과"
                                class="block px-3 py-2 neo-card text-center">산부인과</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=한의원"
                                class="block px-3 py-2 neo-card text-center">한의원</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a></li>
                    </ul>
                </li>

                <!-- 약국 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        약 국 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=pharmacy&category=일반약국"
                                class="block px-3 py-2 neo-card text-center">일반약국</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=24시약국"
                                class="block px-3 py-2 neo-card text-center">24시약국</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=한약방"
                                class="block px-3 py-2 neo-card text-center">한약방</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a></li>
                    </ul>
                </li>

                <!-- 어린이집 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        어린이집 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-1 hidden">
                        <li><a href="/subcategory.html?type=kindergarten&category=국공립"
                                class="block px-3 py-2 neo-card text-center">어린이집 통합</a></li>
                    </ul>
                </li>

                <!-- 학원 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        학 원 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=academy&category=입시학원"
                                class="block px-3 py-2 neo-card text-center">입시학원</a></li>
                        <li><a href="/subcategory.html?type=academy&category=영어"
                                class="block px-3 py-2 neo-card text-center">영어</a>
                        </li>
                        <li><a href="/subcategory.html?type=academy&category=수학"
                                class="block px-3 py-2 neo-card text-center">수학</a>
                        </li>
                        <li><a href="/subcategory.html?type=academy&category=음악"
                                class="block px-3 py-2 neo-card text-center">음악</a>
                        </li>
                        <li><a href="/subcategory.html?type=academy&category=미술"
                                class="block px-3 py-2 neo-card text-center">미술</a>
                        </li>
                        <li><a href="/subcategory.html?type=academy&category=컴퓨터"
                                class="block px-3 py-2 neo-card text-center">컴퓨터</a></li>
                        <li><a href="/subcategory.html?type=academy&category=체육"
                                class="block px-3 py-2 neo-card text-center">체육</a>
                        </li>
                        <li><a href="/subcategory.html?type=academy&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>
                    </ul>
                </li>

                <!-- 마트 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        마 트 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=mart&category=대형마트"
                                class="block px-3 py-2 neo-card text-center">대형마트</a></li>
                        <li><a href="/subcategory.html?type=mart&category=중소마트"
                                class="block px-3 py-2 neo-card text-center">중소마트</a></li>
                        <li><a href="/subcategory.html?type=mart&category=슈퍼마켓"
                                class="block px-3 py-2 neo-card text-center">슈퍼마켓</a></li>
                        <li><a href="/subcategory.html?type=mart&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>
                    </ul>
                </li>

                <!-- 편의점 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-14 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        편의점 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=store&category=CU"
                                class="block px-3 py-2 neo-card text-center">CU</a>
                        </li>
                        <li><a href="/subcategory.html?type=store&category=GS25"
                                class="block px-3 py-2 neo-card text-center">GS25</a></li>
                        <li><a href="/subcategory.html?type=store&category=세븐일레븐"
                                class="block px-3 py-2 neo-card text-center">세븐일레븐</a></li>
                        <li><a href="/subcategory.html?type=store&category=이마트24"
                                class="block px-3 py-2 neo-card text-center">이마트24</a></li>
                        <li><a href="/subcategory.html?type=store&category=미니스톱"
                                class="block px-3 py-2 neo-card text-center">미니스톱</a></li>
                        <li><a href="/subcategory.html?type=store&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>
                    </ul>
                </li>

                <!-- 운동 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        운 동 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=exercise&category=헬스장"
                                class="block px-3 py-2 neo-card text-center">헬스장</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=필라테스"
                                class="block px-3 py-2 neo-card text-center">필라테스</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=요가"
                                class="block px-3 py-2 neo-card text-center">요가</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=태권도"
                                class="block px-3 py-2 neo-card text-center">태권도</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=스포츠센터"
                                class="block px-3 py-2 neo-card text-center">스포츠센터</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a></li>

                    </ul>
                </li>

                <!-- 미용/이발 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        미용/이발 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=미용"
                                class="block px-3 py-2 neo-card text-center">미용</a>
                        </li>
                        <li><a href="/subcategory.html?type=beauty&category=이발"
                                class="block px-3 py-2 neo-card text-center">이발</a>
                        </li>
                        <li><a href="/subcategory.html?type=beauty&category=네일"
                                class="block px-3 py-2 neo-card text-center">네일</a>
                        </li>
                        <li><a href="/subcategory.html?type=beauty&category=피부관리"
                                class="block px-3 py-2 neo-card text-center">피부관리</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=왁싱"
                                class="block px-3 py-2 neo-card text-center">왁싱</a>
                        </li>
                        <li><a href="/subcategory.html?type=beauty&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 스터디/독서실 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-8 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        스터디/독서실 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=스터디룸"
                                class="block px-3 py-2 neo-card text-center">스터디룸</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=독서실"
                                class="block px-3 py-2 neo-card text-center">독서실</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=도서관"
                                class="block px-3 py-2 neo-card text-center">도서관</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 목욕 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        목 욕 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=목욕"
                                class="block px-3 py-2 neo-card text-center">목 욕
                                전체</a>
                    </ul>
                </li>

                <!-- 세탁/옷수선 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-10 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        세탁/옷수선 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=laundry&category=세탁_옷_신발수선"
                                class="block px-3 py-2 neo-card text-center">세탁/옷수선 전체</a></li>

                    </ul>
                </li>

                <!-- 숙박 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        숙 박 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=stay&category=호텔"
                                class="block px-3 py-2 neo-card text-center">호텔</a>
                        </li>
                        <li><a href="/subcategory.html?type=stay&category=모텔"
                                class="block px-3 py-2 neo-card text-center">모텔</a>
                        </li>
                        <li><a href="/subcategory.html?type=stay&category=게스트하우스"
                                class="block px-3 py-2 neo-card text-center">게스트하우스</a></li>
                        <li><a href="/subcategory.html?type=stay&category=펜션"
                                class="block px-3 py-2 neo-card text-center">펜션</a>
                        </li>
                        <li><a href="/subcategory.html?type=stay&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 중고/구제 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        중고/구제 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=used&category=중고가전"
                                class="block px-3 py-2 neo-card text-center">중고가전</a></li>
                        <li><a href="/subcategory.html?type=used&category=중고가구"
                                class="block px-3 py-2 neo-card text-center">중고가구</a></li>
                        <li><a href="/subcategory.html?type=used&category=중고명품"
                                class="block px-3 py-2 neo-card text-center">중고명품</a></li>
                        <li><a href="/subcategory.html?type=used&category=리사이클"
                                class="block px-3 py-2 neo-card text-center">리사이클</a></li>
                        <li><a href="/subcategory.html?type=used&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 자동차 정비/수리 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-6 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        자동차 정비/수리 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=car&category=카센터"
                                class="block px-3 py-2 neo-card text-center">카센터</a>
                        </li>
                        <li><a href="/subcategory.html?type=car&category=정비소"
                                class="block px-3 py-2 neo-card text-center">정비소</a>
                        </li>
                        <li><a href="/subcategory.html?type=car&category=자동차용품"
                                class="block px-3 py-2 neo-card text-center">자동차용품</a></li>
                        <li><a href="/subcategory.html?type=car&category=타이어"
                                class="block px-3 py-2 neo-card text-center">타이어
                                전문점</a></li>
                        <li><a href="/subcategory.html?type=car&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 주유소 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-14 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        주유소 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=gas&category=직영주유소"
                                class="block px-3 py-2 neo-card text-center">직영주유소</a></li>
                        <li><a href="/subcategory.html?type=gas&category=알뜰주유소"
                                class="block px-3 py-2 neo-card text-center">알뜰주유소</a></li>
                        <li><a href="/subcategory.html?type=gas&category=충전소"
                                class="block px-3 py-2 neo-card text-center">충전소</a>
                        </li>
                        <li><a href="/subcategory.html?type=gas&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 반려동물 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        반려동물 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=pet&category=동물병원"
                                class="block px-3 py-2 neo-card text-center">동물병원</a>

                        <li><a href="/subcategory.html?type=pet&category=애견미용"
                                class="block px-3 py-2 neo-card text-center">애견미용</a>
                        </li>
                        <li><a href="/subcategory.html?type=pet&category=애견호텔"
                                class="block px-3 py-2 neo-card text-center">애견호텔</a>
                        </li>
                        <li><a href="/subcategory.html?type=pet&category=애견카페"
                                class="block px-3 py-2 neo-card text-center">애견카페</a>
                        </li>
                        <li><a href="/subcategory.html?type=pet&category=동물용품"
                                class="block px-3 py-2 neo-card text-center">동물용품</a>
                        </li>
                        <li><a href="/subcategory.html?type=pet&category=펫시터"
                                class="block px-3 py-2 neo-card text-center">펫시터</a>
                        </li>
                        <li><a href="/subcategory.html?type=pet&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 가전제품 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        가전제품 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=electronics&category=가전판매"
                                class="block px-3 py-2 neo-card text-center">가전판매</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=가전수리"
                                class="block px-3 py-2 neo-card text-center">가전수리</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=휴대폰"
                                class="block px-3 py-2 neo-card text-center">휴대폰</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=PC수리"
                                class="block px-3 py-2 neo-card text-center">PC수리</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a></li>

                    </ul>
                </li>

                <!-- 철물/자재 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        철물/자재 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=materials&category=철물점"
                                class="block px-3 py-2 neo-card text-center">철물점</a></li>
                        <li><a href="/subcategory.html?type=materials&category=건축자재"
                                class="block px-3 py-2 neo-card text-center">건축자재</a></li>
                        <li><a href="/subcategory.html?type=materials&category=인테리어자재"
                                class="block px-3 py-2 neo-card text-center">인테리어자재</a></li>
                        <li><a href="/subcategory.html?type=materials&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a></li>

                    </ul>
                </li>

                <!-- 간판/광고 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        간판/광고 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=sign&category=간판제작"
                                class="block px-3 py-2 neo-card text-center">간판제작</a></li>
                        <li><a href="/subcategory.html?type=sign&category=인쇄"
                                class="block px-3 py-2 neo-card text-center">인쇄</a>
                        </li>
                        <li><a href="/subcategory.html?type=sign&category=홍보물"
                                class="block px-3 py-2 neo-card text-center">홍보물</a>
                        </li>
                        <li><a href="/subcategory.html?type=sign&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 통신/인터넷/TV -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-7 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        통신/인터넷/TV <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=telecom&category=SK"
                                class="block px-3 py-2 neo-card text-center">SK</a>
                        </li>
                        <li><a href="/subcategory.html?type=telecom&category=KT"
                                class="block px-3 py-2 neo-card text-center">KT</a>
                        </li>
                        <li><a href="/subcategory.html?type=telecom&category=LG"
                                class="block px-3 py-2 neo-card text-center">LG</a>
                        </li>
                        <li><a href="/subcategory.html?type=telecom&category=인터넷_TV"
                                class="block px-3 py-2 neo-card text-center">인터넷_TV</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>

                <!-- 안경/사진/꽃집 -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-7 pr-3 py-2 neo-card flex justify-between items-center bg-sky-100 text-sky-700 font-bold text-xl"
                        onclick="toggleSub(this)">
                        안경/사진/꽃집 <span>▼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=shop&category=안경점"
                                class="block px-3 py-2 neo-card text-center">안경점</a>
                        </li>
                        <li><a href="/subcategory.html?type=shop&category=사진관"
                                class="block px-3 py-2 neo-card text-center">사진관</a>
                        </li>
                        <li><a href="/subcategory.html?type=shop&category=꽃집"
                                class="block px-3 py-2 neo-card text-center">꽃집</a>
                        </li>
                        <li><a href="/subcategory.html?type=shop&category=화원"
                                class="block px-3 py-2 neo-card text-center">화원</a>
                        </li>
                        <li><a href="/subcategory.html?type=shop&category=기타"
                                class="block px-3 py-2 neo-card text-center">기타</a>
                        </li>

                    </ul>
                </li>
            </ul>

            <!-- ✅ 좌측 광고 박스 슬롯 -->
            <div class="neo-card mt-6 p-4 text-center border-2 border-dashed border-blue-300 slot-card cursor-pointer js-slot"
                data-page="category_main" data-position="category_side_ad" data-label="카테고리 좌측 광고 박스">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="font-bold text-lg">광고 영역</h3>
                    <span
                        class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full inline-flex items-center gap-1">
                        ● 사이드 광고 슬롯
                    </span>
                </div>
                <p class="text-sm text-gray-600">이곳은 광고 배너/이미지가 들어갈 박스입니다. (클릭해서 설정)</p>
                <img src="/uploads/sample-ad.jpg" alt="광고 이미지" class="mt-3 w-full h-[30px] object-cover rounded-xl">
            </div>
        </aside>

        <!-- 중앙 메인 -->
        <main class="col-span-9 space-y-8">

            <!-- 메인 배너 (슬롯) -->
            <section class="relative h-60 neo-card flex items-center justify-center slot-card cursor-pointer js-slot"
                data-page="category_main" data-position="category_main_banner" data-label="카테고리 메인 상단 배너">
                <div class="absolute top-4 right-4">
                    <span
                        class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full inline-flex items-center gap-1">
                        ● 메인 배너 슬롯
                    </span>
                </div>
                <div class="text-center">
                    <h1 class="text-3xl font-bold mb-2">Premium 카테고리</h1>
                    <p class="text-gray-600 text-sm">카테고리 설명 문구를 여기에 넣습니다.</p>
                </div>
            </section>

            <!-- 파워 광고 -->
            <section class="mt-10">
                <div class="flex items-center justify-center gap-2 mb-1">
                    <h2 class="font-bold text-2xl text-purple-600 text-center">강력 추천</h2>
                    <span
                        class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full inline-flex items-center gap-1">
                        ● 파워 광고 슬롯 (3장 × 3그룹)
                    </span>
                </div>

                <!-- 뷰포트: 보이는 영역 -->
                <div id="powerViewport" class="relative overflow-hidden">
                    <!-- 트랙: 그룹(3장씩)들을 가로로 나열 -->
                    <div id="powerAdTrack"
                        class="flex transition-transform duration-500 ease-in-out will-change-transform">

                        <!-- 그룹 1: 카드 3개 -->
                        <div class="power-group flex basis-full shrink-0">
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_1" data-label="파워 광고 1번">
                                    <img src="/uploads/sample-1.jpg" alt="상호명 1"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 1</div>
                                        <div class="text-sm text-slate-600">업종: 한식</div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_2" data-label="파워 광고 2번">
                                    <img src="/uploads/sample-2.jpg" alt="상호명 2"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 2</div>
                                        <div class="text-sm text-slate-600">업종: 카페</div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_3" data-label="파워 광고 3번">
                                    <img src="/uploads/sample-3.jpg" alt="상호명 3"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 3</div>
                                        <div class="text-sm text-slate-600">업종: 미용실</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 그룹 2 -->
                        <div class="power-group flex basis-full shrink-0">
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_4" data-label="파워 광고 4번">
                                    <img src="/uploads/sample-1.jpg" alt="상호명 4"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 4</div>
                                        <div class="text-sm text-slate-600">업종: 한식</div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_5" data-label="파워 광고 5번">
                                    <img src="/uploads/sample-2.jpg" alt="상호명 5"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 5</div>
                                        <div class="text-sm text-slate-600">업종: 카페</div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_6" data-label="파워 광고 6번">
                                    <img src="/uploads/sample-3.jpg" alt="상호명 6"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 6</div>
                                        <div class="text-sm text-slate-600">업종: 미용실</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 그룹 3 -->
                        <div class="power-group flex basis-full shrink-0">
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_7" data-label="파워 광고 7번">
                                    <img src="/uploads/sample-1.jpg" alt="상호명 7"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 7</div>
                                        <div class="text-sm text-slate-600">업종: 한식</div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_8" data-label="파워 광고 8번">
                                    <img src="/uploads/sample-2.jpg" alt="상호명 8"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 8</div>
                                        <div class="text-sm text-slate-600">업종: 카페</div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-1/3 px-2">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200 slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="power_9" data-label="파워 광고 9번">
                                    <img src="/uploads/sample-3.jpg" alt="상호명 9"
                                        class="w-full h-60 md:h-64 object-cover">
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                        <div class="font-bold text-lg">상호명 9</div>
                                        <div class="text-sm text-slate-600">업종: 미용실</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- 좌/우 버튼 -->
                    <button id="prevBtn"
                        class="absolute left-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2">‹</button>
                    <button id="nextBtn"
                        class="absolute right-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2">›</button>
                </div>
            </section>

            <!-- 최고의 가게 영역 -->
            <section class="grid grid-cols-12 gap-6 items-stretch">

                <!-- 좌측: MVP + HIGHLIGHT -->
                <div class="col-span-3 h-full">

                    <div class="neo-card p-4 w-full h-full flex flex-col gap-4">
                        <!-- MVP -->
                        <div class="flex-1 flex flex-col">
                            <div class="flex items-center justify-between mb-1">
                                <h2 class="font-bold text-2xl text-blue-600 text-center">MVP</h2>
                                <span
                                    class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full inline-flex items-center gap-1">
                                    ● MVP 슬롯
                                </span>
                            </div>
                            <div class="neo-card p-0 overflow-hidden relative rounded-2xl h-full border-2 border-blue-500 slot-card cursor-pointer js-slot"
                                data-page="category_main" data-position="mvp" data-label="MVP 메인 가게">
                                <img src="/uploads/sample-left-top.jpg" class="w-full h-full object-cover"
                                    alt="상호명 Top">
                                <div
                                    class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                    <div class="font-bold text-lg leading-tight">상호명 Top</div>
                                    <div class="text-sm text-slate-600">업종: 한식</div>
                                </div>
                            </div>
                        </div>

                        <!-- HIGHLIGHT -->
                        <div class="flex-1 flex flex-col">
                            <div class="flex items-center justify-between mb-1">
                                <h2 class="font-bold text-2xl text-yellow-600 text-center">HIGHLIGHT</h2>
                                <span
                                    class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full inline-flex items-center gap-1">
                                    ● HIGHLIGHT 슬롯
                                </span>
                            </div>
                            <div class="neo-card p-0 overflow-hidden relative rounded-2xl h-full border-2 border-yellow-500 slot-card cursor-pointer js-slot"
                                data-page="category_main" data-position="highlight" data-label="HIGHLIGHT 메인 가게">
                                <img src="/uploads/sample-left-bottom.jpg" class="w-full h-full object-cover"
                                    alt="상호명 Bottom">
                                <div
                                    class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                    <div class="font-bold text-lg leading-tight">상호명 Bottom</div>
                                    <div class="text-sm text-slate-600">업종: 카페</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 우측: 최고의 가게 -->
                <div class="col-span-9 flex flex-col gap-6">

                    <div class="neo-card p-5">
                        <div class="flex items-center justify-center gap-2 mb-3">
                            <h2 class="font-bold text-2xl text-center">최고의 가게</h2>
                            <span
                                class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full inline-flex items-center gap-1">
                                ● BEST 가게 6슬롯
                            </span>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- 카드 1 -->
                            <a href="javascript:void(0)" class="block group">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl transition-transform slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="best_1" data-label="최고의 가게 1번">
                                    <div class="w-full h-60">
                                        <img src="/uploads/sample-1.jpg" alt="상호명 A" class="w-full h-full object-cover">
                                    </div>
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                                        <div class="font-bold text-lg leading-tight">상호명 A</div>
                                        <div class="text-sm text-slate-600">업종: 한식</div>
                                    </div>
                                </div>
                            </a>

                            <!-- 카드 2 -->
                            <a href="javascript:void(0)" class="block group">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl transition-transform slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="best_2" data-label="최고의 가게 2번">
                                    <div class="w-full h-60">
                                        <img src="/uploads/sample-2.jpg" alt="상호명 B" class="w-full h-full object-cover">
                                    </div>
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                                        <div class="font-bold text-lg leading-tight">상호명 B</div>
                                        <div class="text-sm text-slate-600">업종: 분식</div>
                                    </div>
                                </div>
                            </a>

                            <!-- 카드 3 -->
                            <a href="javascript:void(0)" class="block group">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl transition-transform slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="best_3" data-label="최고의 가게 3번">
                                    <div class="w-full h-60">
                                        <img src="/uploads/sample-3.jpg" alt="상호명 C" class="w-full h-full object-cover">
                                    </div>
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                                        <div class="font-bold text-lg leading-tight">상호명 C</div>
                                        <div class="text-sm text-slate-600">업종: 일식</div>
                                    </div>
                                </div>
                            </a>

                            <!-- 카드 4 -->
                            <a href="javascript:void(0)" class="block group">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl transition-transform slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="best_4" data-label="최고의 가게 4번">
                                    <div class="w-full h-60">
                                        <img src="/uploads/sample-4.jpg" alt="상호명 D" class="w-full h-full object-cover">
                                    </div>
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                                        <div class="font-bold text-lg leading-tight">상호명 D</div>
                                        <div class="text-sm text-slate-600">업종: 중식</div>
                                    </div>
                                </div>
                            </a>

                            <!-- 카드 5 -->
                            <a href="javascript:void(0)" class="block group">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl transition-transform slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="best_5" data-label="최고의 가게 5번">
                                    <div class="w-full h-60">
                                        <img src="/uploads/sample-5.jpg" alt="상호명 E" class="w-full h-full object-cover">
                                    </div>
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                                        <div class="font-bold text-lg leading-tight">상호명 E</div>
                                        <div class="text-sm text-slate-600">업종: 치킨</div>
                                    </div>
                                </div>
                            </a>

                            <!-- 카드 6 -->
                            <a href="javascript:void(0)" class="block group">
                                <div class="neo-card p-0 overflow-hidden relative rounded-2xl transition-transform slot-card cursor-pointer js-slot"
                                    data-page="category_main" data-position="best_6" data-label="최고의 가게 6번">
                                    <div class="w-full h-60">
                                        <img src="/uploads/sample-6.jpg" alt="상호명 F" class="w-full h-full object-cover">
                                    </div>
                                    <div
                                        class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                                        <div class="font-bold text-lg leading-tight">상호명 F</div>
                                        <div class="text-sm text-slate-600">업종: 카페</div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
            </section>


            <!-- ✅ 하단 박스 두 개 (사이드바 안 넘고 col-span-9 범위 안에서만) -->
            <div class="grid grid-cols-2 gap-6">
                <div class="neo-card p-6 text-center slot-card cursor-pointer js-slot" data-page="category_main"
                    data-position="bottom_box_1" data-label="하단 박스 1 (텍스트/배너)">
                    <h3 class="font-bold text-lg mb-2">하단 박스 1</h3>
                    <p class="text-gray-600 text-sm">이곳은 설명 텍스트</p>
                </div>
                <div class="neo-card p-6 text-center slot-card cursor-pointer js-slot" data-page="category_main"
                    data-position="bottom_box_2" data-label="하단 박스 2 (텍스트/배너)">
                    <h3 class="font-bold text-lg mb-2">하단 박스 2</h3>
                    <p class="text-gray-600 text-sm">이곳은 설명 텍스트</p>
                </div>
            </div>
    </div>
    </section>

    <!-- 오른쪽 하단 세로 네비게이션 -->
    <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">

        <!-- 이전 -->
        <div class="flex flex-col items-center">
            <button onclick="goBack()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                ←
            </button>
            <span class="text-xs mt-1 text-gray-600 font-semibold">이전</span>
        </div>

        <!-- 다음 -->
        <div class="flex flex-col items-center">
            <button onclick="goNext()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                →
            </button>
            <span class="text-xs mt-1 text-gray-600 font-semibold">다음</span>
        </div>

        <!-- 홈 -->
        <div class="flex flex-col items-center">
            <a href="/index.html"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow hover:from-blue-600 hover:to-blue-700 transition">
                🏠
            </a>
            <span class="text-xs mt-1 text-gray-600 font-semibold">홈</span>
        </div>
    </div>

    <!-- ✅ 광고/이미지/텍스트 + 기간/시간 등록 모달 -->
    <div id="adModal" class="fixed inset-0 bg-black/40 modal-bg hidden justify-center items-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-7 max-w-lg w-full border border-slate-200">

            <h2 id="modalTitle" class="text-lg font-bold mb-4">
                슬롯 설정
            </h2>

            <form id="adForm" class="space-y-4">
                <!-- 슬롯 설명 -->
                <div class="text-xs text-slate-600 bg-slate-50 border border-slate-100 rounded-lg p-3" id="slotInfo">
                    선택된 슬롯 정보가 여기에 표시됩니다.
                </div>

                <!-- 입력 방식 선택 -->
                <div>
                    <label class="block font-semibold mb-1 text-sm">입력 방식 선택</label>
                    <div class="flex flex-col gap-1 text-xs sm:flex-row sm:items-center sm:gap-4">
                        <label class="inline-flex items-center gap-1">
                            <input type="radio" name="adMode" id="modeCustom" value="custom" class="text-blue-600"
                                checked>
                            <span>이미지 + 링크 직접 입력</span>
                        </label>
                        <label class="inline-flex items-center gap-1">
                            <input type="radio" name="adMode" id="modeStore" value="store" class="text-blue-600">
                            <span>등록된 가게로 연결 (사업자번호 + 상호)</span>
                        </label>
                    </div>
                    <p class="text-[11px] text-slate-400 mt-1">
                        파워 광고 / MVP / BEST 영역은 <span class="font-semibold">'등록된 가게'</span> 또는
                        <span class="font-semibold">'이미지 + 링크'</span> 중 선택해서 설정할 수 있습니다.
                    </p>
                </div>

                <!-- 등록된 가게로 연결 (사업자번호 + 상호) -->
                <div id="storeModeFields" class="space-y-2 hidden">
                    <div>
                        <label for="businessNoInput" class="block font-semibold mb-1 text-sm">사업자 등록번호</label>
                        <input id="businessNoInput" type="text"
                            class="w-full border border-slate-300 p-2 rounded-lg text-sm" placeholder="예) 123-45-67890">
                    </div>
                    <div>
                        <label for="businessNameInput" class="block font-semibold mb-1 text-sm">상호명</label>
                        <input id="businessNameInput" type="text"
                            class="w-full border border-slate-300 p-2 rounded-lg text-sm" placeholder="예) 홍길동식당">
                    </div>
                    <p class="text-[11px] text-slate-400">
                        등록/가게 관리 페이지에 저장된 <span class="font-semibold">사업자번호 + 상호</span>와 일치하는 가게를 찾아,
                        해당 가게의 이미지와 상세 페이지 링크를 이 슬롯에 자동으로 연결합니다.
                    </p>
                </div>

                <!-- 이미지/링크 직접 입력 -->
                <div id="customModeFields" class="space-y-3">
                    <!-- 이미지 업로드 -->
                    <div>
                        <label class="block font-semibold mb-1 text-sm">이미지 파일 (선택)</label>
                        <input id="imageInput" type="file"
                            class="w-full border border-slate-300 p-2 rounded-lg text-sm">
                        <p class="text-[11px] text-slate-400 mt-1">
                            배너/카드에 들어갈 이미지를 선택하세요. (이미지 없이 링크/텍스트만 관리하는 용도로도 사용 가능)
                        </p>
                    </div>

                    <!-- 링크 입력 -->
                    <div>
                        <label class="block font-semibold mb-1 text-sm">클릭 시 이동 링크 (선택)</label>
                        <input id="linkInput" type="text"
                            placeholder="https://www.hongbono1.com/ndetail.html?id=1&type=food"
                            class="w-full border border-slate-300 p-2 rounded-lg text-sm">
                        <p class="text-[11px] text-slate-400 mt-1">
                            비워두면 링크 없이 이미지/배너만 표시됩니다.
                        </p>
                    </div>
                </div>

                <!-- ✅ 노출 기간/시간 입력 -->
                <div class="space-y-3">
                    <!-- 노출 기간 -->
                    <div>
                        <label class="block font-semibold mb-1 text-sm">노출 기간 (선택)</label>
                        <div class="flex items-center gap-2">
                            <input type="date" id="startDateInput"
                                class="border border-slate-300 rounded-lg p-2 text-sm w-full">
                            <span class="text-xs text-slate-500">~</span>
                            <input type="date" id="endDateInput"
                                class="border border-slate-300 rounded-lg p-2 text-sm w-full">
                        </div>
                        <p class="text-[11px] text-slate-400 mt-1">
                            시작일/종료일을 비워두면 기간 제한 없이 노출됩니다.
                        </p>
                    </div>

                    <!-- 노출 시간대 -->
                    <div>
                        <label class="block font-semibold mb-1 text-sm">노출 시간대 (선택)</label>
                        <div class="flex items-center gap-2">
                            <input type="time" id="startTimeInput"
                                class="border border-slate-300 rounded-lg p-2 text-sm w-full">
                            <span class="text-xs text-slate-500">~</span>
                            <input type="time" id="endTimeInput"
                                class="border border-slate-300 rounded-lg p-2 text-sm w-full">
                        </div>
                        <p class="text-[11px] text-slate-400 mt-1">
                            시간대를 비워두면 하루 종일 노출됩니다. (서버에서 현재 시간/기간에 맞는 슬롯만 출력하도록 활용)
                        </p>
                    </div>
                </div>

                <input type="hidden" id="selectedPage">
                <input type="hidden" id="selectedPosition">

                <div class="flex justify-end gap-3 pt-3">
                    <button type="button" id="closeModal"
                        class="px-4 py-2 border border-slate-300 rounded-lg text-sm text-slate-600 hover:bg-slate-50">
                        취소
                    </button>
                    <button type="button" id="saveAdBtn"
                        class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow text-sm hover:bg-blue-700">
                        저장
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- (옵션) 텍스트 전용 슬롯이 필요하면, foodSubmanager에서 사용한 textModal 그대로 추가해서 재활용 가능 -->

    <!-- ✅ footer.html 불러오기 -->
    <div id="footer-placeholder"></div>

    <script>
        // ✅ header/footer 동적 포함
        fetch("/components/header.html")
            .then(r => r.text())
            .then(d => document.getElementById("header-placeholder").innerHTML = d);

        fetch("/components/footer.html")
            .then(r => r.text())
            .then(d => document.getElementById("footer-placeholder").innerHTML = d);

        // ✅ 서브카테고리 토글 (간단한 토글 구조)
        function toggleSub(btn) {
            const ul = btn.nextElementSibling;
            if (!ul) return;
            ul.classList.toggle("hidden");
        }
    </script>

    <script>
        // ============================
        // 파워 광고 슬라이더
        // ============================
        document.addEventListener("DOMContentLoaded", () => {
            const viewport = document.getElementById("powerViewport");
            const track = document.getElementById("powerAdTrack");

            if (!viewport || !track) return;

            // DOM에 이미 있는 그룹 개수 사용
            let groups = track.querySelectorAll(".power-group").length;
            let index = 0;

            function updateSlider() {
                const slideWidth = viewport.clientWidth; // 보이는 영역 실제 폭(px)
                track.style.transform = `translateX(${-index * slideWidth}px)`;
            }

            function next() { index = (index + 1) % groups; updateSlider(); }
            function prev() { index = (index - 1 + groups) % groups; updateSlider(); }

            // 버튼
            const nextBtn = document.getElementById("nextBtn");
            const prevBtn = document.getElementById("prevBtn");
            if (nextBtn && prevBtn) {
                nextBtn.addEventListener("click", () => { stopAuto(); next(); startAuto(); });
                prevBtn.addEventListener("click", () => { stopAuto(); prev(); startAuto(); });
            }

            // 반응형
            window.addEventListener("resize", updateSlider);

            // 7초 자동 슬라이드
            const INTERVAL = 7000;
            let timer = null;
            function startAuto() { if (!timer) timer = setInterval(next, INTERVAL); }
            function stopAuto() { if (timer) { clearInterval(timer); timer = null; } }

            // 탭 비활성화 시 일시정지/복귀
            document.addEventListener("visibilitychange", () => {
                document.hidden ? stopAuto() : startAuto();
            });

            // 마우스 올리면 일시정지
            viewport.addEventListener("mouseenter", stopAuto);
            viewport.addEventListener("mouseleave", startAuto);

            updateSlider();
            startAuto();
        });
    </script>

    <script>
        // ============================
        // 슬롯 클릭 → 모달 열기
        // ============================
        function setupSlotClickCategory() {
            document.addEventListener("click", (e) => {
                const slotEl = e.target.closest(".js-slot");
                if (!slotEl) return;

                const page = slotEl.dataset.page || "category_main";
                const position = slotEl.dataset.position || "";
                const label = slotEl.dataset.label || "선택된 슬롯";

                // 광고/이미지 모달
                document.getElementById("selectedPage").value = page;
                document.getElementById("selectedPosition").value = position;
                document.getElementById("modalTitle").textContent = `슬롯 설정: ${label}`;
                document.getElementById("slotInfo").textContent = `${page} / ${position}`;

                document.getElementById("adModal").classList.remove("hidden");
                document.getElementById("adModal").classList.add("flex");
            });
        }

        // ============================
        // 모달 닫기
        // ============================
        function setupModalCloseCategory() {
            const adModal = document.getElementById("adModal");
            const closeBtn = document.getElementById("closeModal");

            if (!adModal || !closeBtn) return;

            closeBtn.addEventListener("click", () => {
                adModal.classList.add("hidden");
                adModal.classList.remove("flex");
            });

            adModal.addEventListener("click", (e) => {
                if (e.target === e.currentTarget) {
                    adModal.classList.add("hidden");
                    adModal.classList.remove("flex");
                }
            });
        }

        // ============================
        // 입력 모드 토글 (가게 / 커스텀)
        // ============================
        function setupModeToggleCategory() {
            const customFields = document.getElementById("customModeFields");
            const storeFields = document.getElementById("storeModeFields");
            const modeCustom = document.getElementById("modeCustom");
            const modeStore = document.getElementById("modeStore");

            if (!customFields || !storeFields || !modeCustom || !modeStore) return;

            const updateVisibility = () => {
                if (modeStore.checked) {
                    storeFields.classList.remove("hidden");
                    customFields.classList.add("hidden");
                } else {
                    customFields.classList.remove("hidden");
                    storeFields.classList.add("hidden");
                }
            };

            modeCustom.addEventListener("change", updateVisibility);
            modeStore.addEventListener("change", updateVisibility);

            // 초기 상태
            updateVisibility();
        }

        // ============================
        // 저장 버튼 → /category/ad/upload 또는 /category/ad/store
        // (page = 'category_main' 로 구분 저장)
        // + 노출 기간/시간 같이 전송
        // ============================
        function setupSaveCategory() {
            const saveBtn = document.getElementById("saveAdBtn");
            if (!saveBtn) return;

            saveBtn.addEventListener("click", async () => {
                const page = document.getElementById("selectedPage").value || "category_main";
                const position = document.getElementById("selectedPosition").value;
                const modeInput = document.querySelector('input[name="adMode"]:checked');
                const mode = modeInput ? modeInput.value : "custom";

                if (!page || !position) {
                    alert("슬롯 정보가 없습니다. 다시 선택해주세요.");
                    return;
                }

                // 공통: 기간/시간 값 읽기
                const startDate = (document.getElementById("startDateInput").value || "").trim();
                const endDate = (document.getElementById("endDateInput").value || "").trim();
                const startTime = (document.getElementById("startTimeInput").value || "").trim();
                const endTime = (document.getElementById("endTimeInput").value || "").trim();

                // 등록된 가게로 연결 모드
                if (mode === "store") {
                    const businessNo = (document.getElementById("businessNoInput").value || "").trim();
                    const businessName = (document.getElementById("businessNameInput").value || "").trim();

                    if (!businessNo || !businessName) {
                        alert("사업자번호와 상호를 모두 입력해주세요.");
                        return;
                    }

                    const body = {
                        page,
                        position,
                        biz_number: businessNo,
                        biz_name: businessName,
                        start_date: startDate || null,
                        end_date: endDate || null,
                        start_time: startTime || null,
                        end_time: endTime || null,
                    };

                    try {
                        const res = await fetch("/category/ad/store", {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify(body),
                        });
                        const data = await res.json();
                        if (data.ok) {
                            alert("가게가 이 슬롯에 연결되었습니다.");
                            document.getElementById("adModal").classList.add("hidden");
                            document.getElementById("adModal").classList.remove("flex");
                            document.getElementById("businessNoInput").value = "";
                            document.getElementById("businessNameInput").value = "";
                            // 기간/시간 초기화
                            document.getElementById("startDateInput").value = "";
                            document.getElementById("endDateInput").value = "";
                            document.getElementById("startTimeInput").value = "";
                            document.getElementById("endTimeInput").value = "";
                        } else {
                            alert("오류: " + (data.message || "가게 연결에 실패했습니다."));
                        }
                    } catch (err) {
                        console.error(err);
                        alert("가게 연결 중 오류가 발생했습니다.");
                    }

                    return;
                }

                // 이미지 + 링크 직접 입력 모드
                const imageFile = document.getElementById("imageInput").files[0];
                const link = document.getElementById("linkInput").value.trim();

                // 이미지, 링크, 기간/시간 모두 비어 있어도 저장할 수는 있게 함
                if (!imageFile && !link && !startDate && !endDate && !startTime && !endTime) {
                    const ok = confirm("이미지/링크/기간/시간이 모두 비어 있습니다.\n그래도 이 슬롯 정보를 저장하시겠습니까?");
                    if (!ok) return;
                }

                const formData = new FormData();
                formData.append("page", page);
                formData.append("position", position);
                formData.append("link_url", link);
                if (imageFile) {
                    formData.append("image", imageFile);
                }
                if (startDate) formData.append("start_date", startDate);
                if (endDate) formData.append("end_date", endDate);
                if (startTime) formData.append("start_time", startTime);
                if (endTime) formData.append("end_time", endTime);

                try {
                    const res = await fetch("/category/ad/upload", {
                        method: "POST",
                        body: formData
                    });
                    const data = await res.json();
                    if (data.ok) {
                        alert("저장 완료되었습니다.");
                        document.getElementById("adModal").classList.add("hidden");
                        document.getElementById("adModal").classList.remove("flex");
                        document.getElementById("imageInput").value = "";
                        document.getElementById("linkInput").value = "";
                        document.getElementById("startDateInput").value = "";
                        document.getElementById("endDateInput").value = "";
                        document.getElementById("startTimeInput").value = "";
                        document.getElementById("endTimeInput").value = "";
                    } else {
                        alert("오류: " + (data.message || "저장에 실패했습니다."));
                    }
                } catch (err) {
                    console.error(err);
                    alert("저장 중 오류가 발생했습니다.");
                }
            });
        }

        // ============================
        // 초기화
        // ============================
        document.addEventListener("DOMContentLoaded", () => {
            setupSlotClickCategory();
            setupModalCloseCategory();
            setupModeToggleCategory();
            setupSaveCategory();
        });
    </script>

    <script>
        function goBack() {
            if (document.referrer && document.referrer !== location.href) {
                window.history.back();
            } else {
                window.location.href = "/category.html";
            }
        }

        function goNext() {
            window.history.forward();
        }
    </script>
</body>

</html>
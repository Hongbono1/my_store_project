<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MALL HANKOOK | ì¹´í…Œê³ ë¦¬ ë ˆì´ì•„ì›ƒ ê´€ë¦¬ì</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Noto Sans KR', system-ui, -apple-system, BlinkMacSystemFont,
        'Segoe UI', sans-serif;
    }

    .neo-card {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 1rem;
      box-shadow:
        6px 6px 16px rgba(0, 0, 0, 0.12),
        -6px -6px 16px rgba(255, 255, 255, 0.95);
      transition: all 0.25s ease;
    }

    .neo-card:hover {
      transform: translateY(-3px);
      box-shadow:
        10px 10px 22px rgba(0, 0, 0, 0.2),
        -8px -8px 18px rgba(255, 255, 255, 1);
    }

    .slot-card {
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease,
        background-color .2s ease;
    }

    .slot-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 22px rgba(15, 23, 42, 0.16);
      border-color: rgba(59, 130, 246, 0.8);
      background-color: rgba(239, 246, 255, 0.85);
    }

    .layout-bg {
      background:
        radial-gradient(circle at top left, #dbeafe 0, transparent 55%),
        radial-gradient(circle at bottom right, #fef3c7 0, transparent 55%);
    }

    .badge-ad {
      background: rgba(59, 130, 246, 0.12);
      color: #1d4ed8;
    }

    .badge-img {
      background: rgba(34, 197, 94, 0.12);
      color: #15803d;
    }

    .badge-info {
      background: rgba(148, 163, 184, 0.16);
      color: #475569;
    }

    .modal-bg {
      backdrop-filter: blur(6px);
    }

    .tab-btn.active {
      border-bottom: 2px solid #3b82f6;
      color: #2563eb;
    }

    .tab-btn {
      border-bottom: 2px solid transparent;
      transition: all 0.2s ease;
    }
  </style>
</head>

<body class="bg-slate-50 text-slate-900">

  <!-- ì „ì²´ ë ˆì´ì•„ì›ƒ -->
  <div class="flex min-h-screen">

    <!-- ğŸ”µ ì™¼ìª½ ì‚¬ì´ë“œë°” -->
    <aside class="w-64 bg-white/85 backdrop-blur-xl border-r border-slate-200 px-5 py-6 flex flex-col gap-6">
      <div>
        <h1
          class="text-2xl font-extrabold bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 bg-clip-text text-transparent">
          MALL HANKOOK
        </h1>
        <p class="mt-1 text-xs text-slate-500">ì¹´í…Œê³ ë¦¬(category.html) ë ˆì´ì•„ì›ƒ ê´€ë¦¬</p>
      </div>

      <div class="space-y-2 text-sm">
        <p class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide mb-1">
          ê´€ë¦¬ ëŒ€ìƒ
        </p>
        <div class="border border-slate-200 rounded-lg px-3 py-2 bg-slate-50 text-xs leading-relaxed">
          <p class="font-semibold text-slate-700">FOOD ì¹´í…Œê³ ë¦¬ í˜ì´ì§€</p>
          <p class="text-slate-500 mt-1">
            ì™¼ìª½ FOOD CATEGORY ë©”ë‰´ëŠ” ê³ ì •.<br>
            ì˜¤ë¥¸ìª½ <span class="font-semibold">ê´‘ê³  / MVP / HIGHLIGHT / ìµœê³ ì˜ ê°€ê²Œ / íŒŒì›Œ ê´‘ê³ </span> ì˜ì—­ì„
            ì´ë¯¸ì§€ + ë§í¬/í…ìŠ¤íŠ¸ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.
          </p>
        </div>
      </div>

      <div class="space-y-2 text-xs text-slate-500">
        <p class="font-semibold text-[11px] uppercase tracking-wide">
          ì‚¬ìš© ë°©ë²•
        </p>
        <ol class="list-decimal list-inside space-y-1">
          <li>ì˜¤ë¥¸ìª½ ë ˆì´ì•„ì›ƒì—ì„œ <span class="font-semibold">íŒŒë€ ë°•ìŠ¤(ìŠ¬ë¡¯)</span>ë¥¼ í´ë¦­</li>
          <li>ì´ë¯¸ì§€/ë§í¬ or í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥ í›„ <span class="font-semibold">ì €ì¥</span></li>
          <li>ì¹´í…Œê³ ë¦¬ í˜ì´ì§€(category.html)ì— ë°˜ì˜</li>
        </ol>
      </div>

      <div class="mt-auto text-[11px] text-slate-400 leading-relaxed">
        ì´ í˜ì´ì§€ì—ì„œ ì„¤ì •ë˜ëŠ” ê°’ì€<br>
        <span class="font-semibold">admin_ad_slots (page = 'food_category')</span> ì— ì €ì¥ë©ë‹ˆë‹¤.
      </div>
    </aside>

    <!-- ğŸŸ£ ì˜¤ë¥¸ìª½ ë©”ì¸ -->
    <main class="flex-1 p-6 md:p-8 space-y-6">

      <!-- ìƒë‹¨ íƒ€ì´í‹€ -->
      <header class="flex items-center justify-between gap-3">
        <div>
          <h2 class="text-2xl font-bold flex items-center gap-2">
            FOOD ì¹´í…Œê³ ë¦¬ ë ˆì´ì•„ì›ƒ
          </h2>
          <p class="text-sm text-slate-500 mt-1">
            ì‹¤ì œ <span class="font-semibold">ì¹´í…Œê³ ë¦¬ í˜ì´ì§€</span>ì˜ êµ¬ì¡°ë¥¼ ë‹¨ìˆœí™”í•´ì„œ ë³´ì—¬ì£¼ê³ ,
            ê° ì˜ì—­ì„ ìŠ¬ë¡¯ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.
          </p>
        </div>
      </header>

      <!-- ğŸ§© ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ë¯¸ë¦¬ë³´ê¸° -->
      <section class="neo-card layout-bg p-5 md:p-7 border border-slate-200/70 max-w-6xl mx-auto space-y-5">
        <div class="flex items-center justify-between mb-2">
          <h3 class="text-lg font-semibold">
            ğŸ± FOOD ì¹´í…Œê³ ë¦¬ ë ˆì´ì•„ì›ƒ ë¯¸ë¦¬ë³´ê¸°
          </h3>
          <div class="flex items-center gap-2 text-[11px]">
            <span
              class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 badge-img border border-emerald-200 text-[10px]">
              â— ì´ë¯¸ì§€ ë°°ë„ˆ ìŠ¬ë¡¯
            </span>
            <span
              class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 badge-ad border border-blue-200 text-[10px]">
              â— ê´‘ê³ /ê°€ê²Œ ìŠ¬ë¡¯
            </span>
            <span
              class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 badge-info border border-slate-200 text-[10px]">
              â— í…ìŠ¤íŠ¸ ìŠ¬ë¡¯
            </span>
          </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-4 text-xs md:text-sm">

          <!-- ğŸ”¹ ì™¼ìª½: FOOD CATEGORY + ê´‘ê³ ë°•ìŠ¤ -->
          <div class="lg:col-span-4 space-y-3">
            <!-- FOOD CATEGORY ì„¤ëª… -->
            <div class="border border-slate-200 rounded-xl bg-white/80 p-3">
              <p class="font-semibold mb-1">FOOD CATEGORY ë©”ë‰´</p>
              <p class="text-[11px] text-slate-500">
                í•œì‹ / ì¤‘ì‹ / ì–‘ì‹ / ë¶„ì‹ / ì¹˜í‚¨ / ì¹´í˜ / íŒ¨ìŠ¤íŠ¸í‘¸ë“œ / ê¸°íƒ€ ë“±
                ì™¼ìª½ ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ì˜ì—­ (ê³ ì • êµ¬ì¡° ì„¤ëª…).
              </p>
            </div>

            <!-- ğŸ”§ FOOD CATEGORY ê´€ë¦¬ ë°•ìŠ¤ -->
            <div class="border border-slate-200 rounded-xl bg-white/90 p-3">
              <p class="font-semibold mb-2 text-sm">FOOD CATEGORY ê´€ë¦¬</p>

              <div class="flex gap-2 mb-2">
                <input id="newCategoryName" type="text"
                  class="flex-1 border border-slate-300 rounded-lg px-2 py-1 text-sm"
                  placeholder="ì˜ˆ) í•œì‹, ì¤‘ì‹, ì–‘ì‹, ë¶„ì‹...">
                <button id="addCategoryBtn" type="button"
                  class="px-3 py-1 rounded-lg bg-blue-600 text-white text-xs hover:bg-blue-700">
                  ì¶”ê°€
                </button>
              </div>

              <ul id="categoryList"
                class="space-y-1 text-xs text-slate-700 max-h-48 overflow-y-auto border border-slate-100 rounded-lg p-1">
                <!-- JSë¡œ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì´ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
              </ul>
            </div>

            <!-- ì‚¬ì´ë“œ ê´‘ê³  ë°•ìŠ¤ ìŠ¬ë¡¯ -->
            <div
              class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-xl p-3 bg-white/90 js-slot"
              data-page="food_category" data-position="category_sidebar_ad" data-label="ì¢Œì¸¡ ì‚¬ì´ë“œ ê´‘ê³  ë°•ìŠ¤">
              <div class="flex items-center justify-between">
                <p class="font-semibold">ì‚¬ì´ë“œ ê´‘ê³  ë°•ìŠ¤</p>
                <span class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full">ì´ë¯¸ì§€/ë°°ë„ˆ</span>
              </div>
              <p class="mt-1 text-[11px] text-slate-500">
                category.html ì™¼ìª½ í•˜ë‹¨ ê´‘ê³  ì´ë¯¸ì§€ ë°•ìŠ¤ì— ë“¤ì–´ê°€ëŠ” ì´ë¯¸ì§€ + ë§í¬.
              </p>
            </div>
          </div>

          <!-- ğŸ”¹ ì˜¤ë¥¸ìª½: ìƒë‹¨ ë©”ì¸ + ì„¤ëª… -->
          <div class="lg:col-span-8 space-y-3">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-3 items-stretch">

              <!-- ìƒë‹¨ ë©”ì¸ ë°°ë„ˆ -->
              <div class="md:col-span-2">
                <div
                  class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-xl p-3 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_main_banner" data-label="ìƒë‹¨ ë©”ì¸ ë°°ë„ˆ">
                  <div class="flex items-center justify-between">
                    <p class="font-semibold">ìƒë‹¨ ë©”ì¸ ë°°ë„ˆ</p>
                    <span class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">ì´ë¯¸ì§€ ë°°ë„ˆ</span>
                  </div>
                  <p class="mt-1 text-[11px] text-slate-500">
                    "Premium ì¹´í…Œê³ ë¦¬" ì˜ì—­ì˜ ìƒë‹¨ ë°°ê²½/ì´ë¯¸ì§€ (í•„ìš” ì‹œ í…ìŠ¤íŠ¸ ìœ„ì— ë°°ê²½ì²˜ëŸ¼ ì‚¬ìš©).
                  </p>
                </div>
              </div>

              <!-- ì„¤ëª… ë¬¸êµ¬ (í…ìŠ¤íŠ¸ ìŠ¬ë¡¯) -->
              <div>
                <div
                  class="slot-card cursor-pointer border border-dashed border-slate-300 rounded-xl p-3 bg-white/95 js-text-slot"
                  data-page="food_category" data-position="category_main_text" data-slot-type="text"
                  data-label="ìƒë‹¨ ì„¤ëª… ë¬¸êµ¬">
                  <div class="flex items-center justify-between">
                    <p class="font-semibold">ì¹´í…Œê³ ë¦¬ ì„¤ëª… ë¬¸êµ¬</p>
                    <span class="badge-info text-[10px] border border-slate-200 px-2 py-0.5 rounded-full">í…ìŠ¤íŠ¸ ìŠ¬ë¡¯</span>
                  </div>
                  <p class="mt-1 text-[11px] text-slate-500">
                    "ì¹´í…Œê³ ë¦¬ ì„¤ëª… ë¬¸êµ¬ë¥¼ ì—¬ê¸°ì— ë„£ìŠµë‹ˆë‹¤." ìë¦¬ì— ë“¤ì–´ê°ˆ ì•ˆë‚´ ë¬¸êµ¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
                  </p>
                </div>
              </div>
            </div>

            <!-- íŒŒì›Œ ê´‘ê³  ì˜ì—­ -->
            <div class="neo-card border border-slate-200 p-3 bg-white/90 space-y-2">
              <div class="flex items-center justify-between">
                <p class="font-semibold text-[13px]">íŒŒì›Œ ê´‘ê³  ìŠ¬ë¼ì´ë” (3ì¥ Ã— 3ê·¸ë£¹)</p>
                <span class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full">ê°€ê²Œ/ê´‘ê³  ìŠ¬ë¡¯</span>
              </div>
              <p class="text-[11px] text-slate-500">
                category.htmlì˜ "íŒŒì›Œ ê´‘ê³ " ì˜ì—­ì…ë‹ˆë‹¤. ê° ì¹´ë“œì— ì´ë¯¸ì§€ + ë§í¬ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
              </p>

              <div class="grid grid-cols-3 gap-2 text-[11px]">
                <!-- 1~9 ìŠ¬ë¡¯ -->
                <!-- 1 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_1" data-label="íŒŒì›Œ ê´‘ê³  1ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  1</p>
                  <p class="text-slate-500 mt-1">ì²« ë²ˆì§¸ ê·¸ë£¹, ì²« ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
                <!-- 2 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_2" data-label="íŒŒì›Œ ê´‘ê³  2ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  2</p>
                  <p class="text-slate-500 mt-1">ì²« ë²ˆì§¸ ê·¸ë£¹, ë‘ ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
                <!-- 3 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_3" data-label="íŒŒì›Œ ê´‘ê³  3ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  3</p>
                  <p class="text-slate-500 mt-1">ì²« ë²ˆì§¸ ê·¸ë£¹, ì„¸ ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
                <!-- 4 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_4" data-label="íŒŒì›Œ ê´‘ê³  4ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  4</p>
                  <p class="text-slate-500 mt-1">ë‘ ë²ˆì§¸ ê·¸ë£¹, ì²« ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
                <!-- 5 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_5" data-label="íŒŒì›Œ ê´‘ê³  5ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  5</p>
                  <p class="text-slate-500 mt-1">ë‘ ë²ˆì§¸ ê·¸ë£¹, ë‘ ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
                <!-- 6 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_6" data-label="íŒŒì›Œ ê´‘ê³  6ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  6</p>
                  <p class="text-slate-500 mt-1">ë‘ ë²ˆì§¸ ê·¸ë£¹, ì„¸ ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
                <!-- 7 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_7" data-label="íŒŒì›Œ ê´‘ê³  7ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  7</p>
                  <p class="text-slate-500 mt-1">ì„¸ ë²ˆì§¸ ê·¸ë£¹, ì²« ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
                <!-- 8 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_8" data-label="íŒŒì›Œ ê´‘ê³  8ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  8</p>
                  <p class="text-slate-500 mt-1">ì„¸ ë²ˆì§¸ ê·¸ë£¹, ë‘ ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
                <!-- 9 -->
                <div
                  class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-lg p-2 bg-white/90 js-slot"
                  data-page="food_category" data-position="category_power_9" data-label="íŒŒì›Œ ê´‘ê³  9ë²ˆ ì¹´ë“œ">
                  <p class="font-semibold">íŒŒì›Œ ê´‘ê³  9</p>
                  <p class="text-slate-500 mt-1">ì„¸ ë²ˆì§¸ ê·¸ë£¹, ì„¸ ë²ˆì§¸ ì¹´ë“œ.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ğŸ”¹ MVP / HIGHLIGHT / ìµœê³ ì˜ ê°€ê²Œ -->
        <div class="mt-4 grid grid-cols-1 lg:grid-cols-12 gap-4">
          <!-- MVP + HIGHLIGHT -->
          <div class="lg:col-span-4 space-y-3">
            <div
              class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-xl p-3 bg-white/95 js-slot"
              data-page="food_category" data-position="category_mvp" data-label="MVP ì¹´ë“œ">
              <div class="flex items-center justify-between">
                <p class="font-semibold text-blue-600">MVP</p>
                <span class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">ëŒ€í‘œ ê°€ê²Œ</span>
              </div>
              <p class="mt-1 text-[11px] text-slate-500">
                ì™¼ìª½ ìƒë‹¨ "MVP" ë°•ìŠ¤ì— ë“¤ì–´ê°ˆ ëŒ€í‘œ ê°€ê²Œ ì´ë¯¸ì§€ + ë§í¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
              </p>
            </div>

            <div
              class="slot-card cursor-pointer border border-dashed border-amber-300 rounded-xl p-3 bg-white/95 js-slot"
              data-page="food_category" data-position="category_highlight" data-label="HIGHLIGHT ì¹´ë“œ">
              <div class="flex items-center justify-between">
                <p class="font-semibold text-yellow-600">HIGHLIGHT</p>
                <span class="badge-img text-[10px] border border-amber-200 px-2 py-0.5 rounded-full">í•˜ì´ë¼ì´íŠ¸</span>
              </div>
              <p class="mt-1 text-[11px] text-slate-500">
                ì™¼ìª½ í•˜ë‹¨ "HIGHLIGHT" ë°•ìŠ¤ì— ë“¤ì–´ê°ˆ ì´ë¯¸ì§€ + ë§í¬.
              </p>
            </div>
          </div>

          <!-- ìµœê³ ì˜ ê°€ê²Œ 6ê°œ -->
          <div class="lg:col-span-8 neo-card border border-slate-200 p-4 bg-white/92">
            <div class="flex items-center justify-between mb-2">
              <p class="font-semibold text-[13px]">ìµœê³ ì˜ ê°€ê²Œ 6ê°œ</p>
              <span class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full">ê°€ê²Œ ì¹´ë“œ ìŠ¬ë¡¯</span>
            </div>
            <p class="text-[11px] text-slate-500 mb-3">
              category.html ìš°ì¸¡ "ìµœê³ ì˜ ê°€ê²Œ" ê·¸ë¦¬ë“œì— ë…¸ì¶œë˜ëŠ” 6ê°œ ì¹´ë“œì…ë‹ˆë‹¤.
            </p>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-[11px]">
              <!-- 1~6 -->
              <div
                class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-lg p-2 bg-white/95 js-slot"
                data-page="food_category" data-position="category_best_1" data-label="ìµœê³ ì˜ ê°€ê²Œ 1ë²ˆ ì¹´ë“œ">
                <p class="font-semibold">ìµœê³ ì˜ ê°€ê²Œ 1</p>
                <p class="text-slate-500 mt-1">ì²« ë²ˆì§¸ ì¹´ë“œ.</p>
              </div>

              <div
                class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-lg p-2 bg-white/95 js-slot"
                data-page="food_category" data-position="category_best_2" data-label="ìµœê³ ì˜ ê°€ê²Œ 2ë²ˆ ì¹´ë“œ">
                <p class="font-semibold">ìµœê³ ì˜ ê°€ê²Œ 2</p>
                <p class="text-slate-500 mt-1">ë‘ ë²ˆì§¸ ì¹´ë“œ.</p>
              </div>

              <div
                class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-lg p-2 bg-white/95 js-slot"
                data-page="food_category" data-position="category_best_3" data-label="ìµœê³ ì˜ ê°€ê²Œ 3ë²ˆ ì¹´ë“œ">
                <p class="font-semibold">ìµœê³ ì˜ ê°€ê²Œ 3</p>
                <p class="text-slate-500 mt-1">ì„¸ ë²ˆì§¸ ì¹´ë“œ.</p>
              </div>

              <div
                class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-lg p-2 bg-white/95 js-slot"
                data-page="food_category" data-position="category_best_4" data-label="ìµœê³ ì˜ ê°€ê²Œ 4ë²ˆ ì¹´ë“œ">
                <p class="font-semibold">ìµœê³ ì˜ ê°€ê²Œ 4</p>
                <p class="text-slate-500 mt-1">ë„¤ ë²ˆì§¸ ì¹´ë“œ.</p>
              </div>

              <div
                class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-lg p-2 bg-white/95 js-slot"
                data-page="food_category" data-position="category_best_5" data-label="ìµœê³ ì˜ ê°€ê²Œ 5ë²ˆ ì¹´ë“œ">
                <p class="font-semibold">ìµœê³ ì˜ ê°€ê²Œ 5</p>
                <p class="text-slate-500 mt-1">ë‹¤ì„¯ ë²ˆì§¸ ì¹´ë“œ.</p>
              </div>

              <div
                class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-lg p-2 bg-white/95 js-slot"
                data-page="food_category" data-position="category_best_6" data-label="ìµœê³ ì˜ ê°€ê²Œ 6ë²ˆ ì¹´ë“œ">
                <p class="font-semibold">ìµœê³ ì˜ ê°€ê²Œ 6</p>
                <p class="text-slate-500 mt-1">ì—¬ì„¯ ë²ˆì§¸ ì¹´ë“œ.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- ======================== -->
  <!-- ê´‘ê³ /ì´ë¯¸ì§€/í…ìŠ¤íŠ¸ ë“±ë¡ ëª¨ë‹¬ -->
  <!-- ======================== -->
  <div id="adModal" class="fixed inset-0 bg-black/40 modal-bg hidden justify-center items-center p-4 z-50">
    <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-7 max-w-lg w-full border border-slate-200">

      <h2 id="modalTitle" class="text-lg font-bold mb-4">
        ìŠ¬ë¡¯ ì„¤ì •
      </h2>

      <form id="adForm" class="space-y-4">
        <!-- ìŠ¬ë¡¯ ì„¤ëª… -->
        <div class="text-xs text-slate-600 bg-slate-50 border border-slate-100 rounded-lg p-3" id="slotInfo">
          ì„ íƒëœ ìŠ¬ë¡¯ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
        </div>

        <!-- ì…ë ¥ ë°©ì‹ ì„ íƒ -->
        <div>
          <label class="block font-semibold mb-1 text-sm">ì…ë ¥ ë°©ì‹ ì„ íƒ</label>
          <div class="flex flex-col gap-1 text-xs sm:flex-row sm:items-center sm:gap-4">
            <label class="inline-flex items-center gap-1">
              <input type="radio" name="adMode" id="modeCustom" value="custom" class="text-blue-600" checked>
              <span>ì´ë¯¸ì§€ + ë§í¬ ì§ì ‘ ì…ë ¥</span>
            </label>
            <label class="inline-flex items-center gap-1">
              <input type="radio" name="adMode" id="modeStore" value="store" class="text-blue-600">
              <span>ë“±ë¡ëœ ê°€ê²Œë¡œ ì—°ê²° (ì‚¬ì—…ìë²ˆí˜¸ + ìƒí˜¸)</span>
            </label>
          </div>
          <p class="text-[11px] text-slate-400 mt-1">
            ì¹´í…Œê³ ë¦¬ ë°°ë„ˆëŠ” <span class="font-semibold">'ì´ë¯¸ì§€ + ë§í¬'</span>ë¥¼,
            íŠ¹ì • ê°€ê²Œ ê´‘ê³  ìŠ¬ë¡¯ì€ <span class="font-semibold">'ë“±ë¡ëœ ê°€ê²Œ'</span>ë¥¼ ì„ íƒí•˜ì„¸ìš”.
          </p>
        </div>

        <!-- ë“±ë¡ëœ ê°€ê²Œë¡œ ì—°ê²° (ì‚¬ì—…ìë²ˆí˜¸ + ìƒí˜¸) -->
        <div id="storeModeFields" class="space-y-2 hidden">
          <div>
            <label for="businessNoInput" class="block font-semibold mb-1 text-sm">ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸</label>
            <input id="businessNoInput" type="text"
              class="w-full border border-slate-300 p-2 rounded-lg text-sm" placeholder="ì˜ˆ) 123-45-67890">
          </div>
          <div>
            <label for="businessNameInput" class="block font-semibold mb-1 text-sm">ìƒí˜¸ëª…</label>
            <input id="businessNameInput" type="text"
              class="w-full border border-slate-300 p-2 rounded-lg text-sm" placeholder="ì˜ˆ) í™ê¸¸ë™ì‹ë‹¹">
          </div>
          <p class="text-[11px] text-slate-400">
            ë“±ë¡/ê°€ê²Œ ê´€ë¦¬ í˜ì´ì§€ì— ì €ì¥ëœ <span class="font-semibold">ì‚¬ì—…ìë²ˆí˜¸ + ìƒí˜¸</span>ì™€ ì¼ì¹˜í•˜ëŠ” ê°€ê²Œë¥¼ ì°¾ì•„,
            í•´ë‹¹ ê°€ê²Œì˜ ì´ë¯¸ì§€ì™€ ìƒì„¸ í˜ì´ì§€ ë§í¬ë¥¼ ì´ ìŠ¬ë¡¯ì— ìë™ìœ¼ë¡œ ì—°ê²°í•©ë‹ˆë‹¤.
          </p>
        </div>

        <!-- ì´ë¯¸ì§€/ë§í¬ ì§ì ‘ ì…ë ¥ -->
        <div id="customModeFields" class="space-y-3">
          <!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ -->
          <div>
            <label class="block font-semibold mb-1 text-sm">ì´ë¯¸ì§€ íŒŒì¼ (ì„ íƒ)</label>
            <input id="imageInput" type="file"
              class="w-full border border-slate-300 p-2 rounded-lg text-sm">
            <p class="text-[11px] text-slate-400 mt-1">
              ë°°ë„ˆ/ì¹´ë“œì— ë“¤ì–´ê°ˆ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”. (ì´ë¯¸ì§€ ì—†ì´ ë§í¬/í…ìŠ¤íŠ¸ë§Œ ê´€ë¦¬í•˜ëŠ” ìš©ë„ë¡œë„ ì‚¬ìš© ê°€ëŠ¥)
            </p>
          </div>

          <!-- ë§í¬ ì…ë ¥ -->
          <div>
            <label class="block font-semibold mb-1 text-sm">í´ë¦­ ì‹œ ì´ë™ ë§í¬ (ì„ íƒ)</label>
            <input id="linkInput" type="text" placeholder="https://www.hongbono1.com/ndetail.html?id=1&type=food"
              class="w-full border border-slate-300 p-2 rounded-lg text-sm">
            <p class="text-[11px] text-slate-400 mt-1">
              ë¹„ì›Œë‘ë©´ ë§í¬ ì—†ì´ ì´ë¯¸ì§€/ë°°ë„ˆë§Œ í‘œì‹œë©ë‹ˆë‹¤.
            </p>
          </div>
        </div>

        <!-- ğŸ•’ ê´‘ê³  ê¸°ê°„ ì„¤ì • -->
        <div class="mt-2 border-t border-slate-100 pt-3">
          <p class="block font-semibold mb-2 text-sm">ê´‘ê³  ê¸°ê°„ ì„¤ì •</p>

          <div class="space-y-2 text-xs">
            <!-- ì‹œì‘ -->
            <div class="flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-2">
              <span class="w-20 text-slate-600 shrink-0">ì‹œì‘ ì‹œì </span>
              <div class="flex-1 flex gap-2">
                <input id="startDateInput" type="date"
                  class="w-1/2 border border-slate-300 rounded-lg px-2 py-1.5 text-xs" />
                <input id="startTimeInput" type="time"
                  class="w-1/2 border border-slate-300 rounded-lg px-2 py-1.5 text-xs" />
              </div>
            </div>

            <!-- ì¢…ë£Œ -->
            <div class="flex flex-col gap-1 sm:flex-row sm:items-center sm:gap-2">
              <span class="w-20 text-slate-600 shrink-0">ì¢…ë£Œ ì‹œì </span>
              <div class="flex-1 flex gap-2 items-center">
                <div class="flex-1 flex gap-2">
                  <input id="endDateInput" type="date"
                    class="w-1/2 border border-slate-300 rounded-lg px-2 py-1.5 text-xs" />
                  <input id="endTimeInput" type="time"
                    class="w-1/2 border border-slate-300 rounded-lg px-2 py-1.5 text-xs" />
                </div>
                <label class="inline-flex items-center gap-1 text-[11px] text-slate-500 shrink-0">
                  <input id="noEndCheckbox" type="checkbox" class="rounded border-slate-300" />
                  <span>ì¢…ë£Œ ì—†ìŒ</span>
                </label>
              </div>
            </div>

            <p class="text-[11px] text-slate-400">
              ì‹œì‘/ì¢…ë£Œ ì‹œì ì€ <span class="font-semibold">ê´‘ê³  ë…¸ì¶œ ê¸°ê°„</span>ê³¼
              ë©”ì¸/ëŒ€ì‹œë³´ë“œì˜ <span class="font-semibold">ê¸°ê°„ ì•Œë¦¼</span> ê¸°ëŠ¥ê³¼ ì—°ë™ë  ì˜ˆì •ì…ë‹ˆë‹¤.
              ì¢…ë£Œ ì‹œì ì„ ë¹„ì›Œë‘ê±°ë‚˜ â€˜ì¢…ë£Œ ì—†ìŒâ€™ì„ ì„ íƒí•˜ë©´ ìƒì‹œ ë…¸ì¶œë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
          </div>
        </div>

        <input type="hidden" id="selectedPage">
        <input type="hidden" id="selectedPosition">

        <div class="flex justify-end gap-3 pt-3">
          <button type="button" id="closeModal"
            class="px-4 py-2 border border-slate-300 rounded-lg text-sm text-slate-600 hover:bg-slate-50">
            ì·¨ì†Œ
          </button>
          <button type="button" id="saveAdBtn"
            class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow text-sm hover:bg-blue-700">
            ì €ì¥
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ======================== -->
  <!-- ğŸŸ¢ í…ìŠ¤íŠ¸ ì…ë ¥ ì „ìš© ëª¨ë‹¬ -->
  <!-- ======================== -->
  <div id="textModal" class="fixed inset-0 bg-black/40 modal-bg hidden justify-center items-center p-4 z-50">
    <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-7 max-w-lg w-full border border-slate-200">
      <h2 id="textModalTitle" class="text-lg font-bold mb-3">
        í…ìŠ¤íŠ¸ ì„¤ì •
      </h2>

      <form id="textForm" class="space-y-3">
        <div class="text-xs text-slate-600 bg-slate-50 border border-slate-100 rounded-lg p-3" id="textSlotInfo">
          ìƒë‹¨ ì„¤ëª… ë¬¸êµ¬ì²˜ëŸ¼ <span class="font-semibold">ê¸€ë§Œ ë“¤ì–´ê°€ëŠ” ì˜ì—­</span>ì„ ì„¤ì •í•©ë‹ˆë‹¤.
        </div>

        <div>
          <label class="block font-semibold mb-1 text-sm">í‘œì‹œí•  í…ìŠ¤íŠ¸</label>
          <textarea id="textContentInput" class="w-full border border-slate-300 rounded-lg p-2 text-sm min-h-[120px]"
            placeholder="ì˜ˆ) ì˜¤ëŠ˜ì€ 'ë”°ëˆí•œ êµ­ë°¥'ì´ ìƒê°ë‚˜ëŠ” ë‚ ì´ì—ìš”. ìš°ë¦¬ë™ë„¤ ì¸ê¸° í•œì‹ ê°€ê²Œë¥¼ ë§Œë‚˜ë³´ì„¸ìš”."></textarea>
        </div>

        <input type="hidden" id="textSelectedPage">
        <input type="hidden" id="textSelectedPosition">

        <div class="flex justify-end gap-3 pt-2">
          <button type="button" id="closeTextModal"
            class="px-4 py-2 border border-slate-300 rounded-lg text-sm text-slate-600 hover:bg-slate-50">
            ì·¨ì†Œ
          </button>
          <button type="button" id="saveTextBtn"
            class="px-4 py-2 bg-emerald-600 text-white rounded-lg shadow text-sm hover:bg-emerald-700">
            ì €ì¥
          </button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // ============================
    // ê³µí†µ: ê´‘ê³  ê¸°ê°„ í•„ë“œ ìˆ˜ì§‘/ê²€ì¦
    // ============================
    function collectAdPeriod() {
      const startDate = (document.getElementById("startDateInput").value || "").trim();
      const startTime = (document.getElementById("startTimeInput").value || "").trim();
      const endDate = (document.getElementById("endDateInput").value || "").trim();
      const endTime = (document.getElementById("endTimeInput").value || "").trim();
      const noEnd = document.getElementById("noEndCheckbox").checked;

      // ì‹œì‘: ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì±„ì›Œì§„ ê²½ìš° ê²½ê³ 
      if ((startDate && !startTime) || (!startDate && startTime)) {
        alert("ê´‘ê³  ì‹œì‘ ì‹œì ì€ ë‚ ì§œì™€ ì‹œê°„ì„ í•¨ê»˜ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        return null;
      }

      // ì¢…ë£Œ: noEndê°€ ì•„ë‹ˆë©´, ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì±„ì›Œì§„ ê²½ìš° ê²½ê³ 
      if (!noEnd && ((endDate && !endTime) || (!endDate && endTime))) {
        alert("ê´‘ê³  ì¢…ë£Œ ì‹œì ì€ ë‚ ì§œì™€ ì‹œê°„ì„ í•¨ê»˜ ì…ë ¥í•˜ê±°ë‚˜, 'ì¢…ë£Œ ì—†ìŒ'ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
        return null;
      }

      return {
        startDate,
        startTime,
        endDate: noEnd ? "" : endDate,
        endTime: noEnd ? "" : endTime,
        noEnd
      };
    }

    function resetAdPeriodFields() {
      document.getElementById("startDateInput").value = "";
      document.getElementById("startTimeInput").value = "";
      document.getElementById("endDateInput").value = "";
      document.getElementById("endTimeInput").value = "";
      document.getElementById("noEndCheckbox").checked = false;
      // ì¢…ë£Œ ì—†ìŒ í•´ì œ ì‹œ í•„ë“œ ë‹¤ì‹œ í™œì„±í™”
      document.getElementById("endDateInput").disabled = false;
      document.getElementById("endTimeInput").disabled = false;
    }

    function setupNoEndToggle() {
      const noEnd = document.getElementById("noEndCheckbox");
      const endDate = document.getElementById("endDateInput");
      const endTime = document.getElementById("endTimeInput");

      if (!noEnd || !endDate || !endTime) return;

      noEnd.addEventListener("change", () => {
        if (noEnd.checked) {
          endDate.value = "";
          endTime.value = "";
          endDate.disabled = true;
          endTime.disabled = true;
        } else {
          endDate.disabled = false;
          endTime.disabled = false;
        }
      });
    }

    // ============================
    // ìŠ¬ë¡¯ í´ë¦­ â†’ ëª¨ë‹¬ ì—´ê¸°
    // ============================
    function setupSlotClick() {
      document.addEventListener("click", (e) => {
        const slotEl = e.target.closest(".js-slot, .js-text-slot");
        if (!slotEl) return;

        const page = slotEl.dataset.page || "category_page";
        const position = slotEl.dataset.position || "";
        const label = slotEl.dataset.label || "ì„ íƒëœ ìŠ¬ë¡¯";
        const slotType =
          slotEl.dataset.slotType ||
          (slotEl.classList.contains("js-text-slot") ? "text" : "banner");

        if (slotType === "text") {
          // ğŸŸ¢ í…ìŠ¤íŠ¸ ì „ìš© ëª¨ë‹¬
          document.getElementById("textSelectedPage").value = page;
          document.getElementById("textSelectedPosition").value = position;
          document.getElementById("textModalTitle").textContent = `í…ìŠ¤íŠ¸ ì„¤ì •: ${label}`;
          document.getElementById("textSlotInfo").innerHTML =
            `ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ì˜ <span class="font-semibold">${position}</span> ìŠ¬ë¡¯ì— í‘œì‹œë  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.`;

          document.getElementById("textModal").classList.remove("hidden");
          document.getElementById("textModal").classList.add("flex");
        } else {
          // ğŸ”µ ì´ë¯¸ì§€/ë°°ë„ˆ ëª¨ë‹¬
          document.getElementById("selectedPage").value = page;
          document.getElementById("selectedPosition").value = position;
          document.getElementById("modalTitle").textContent = `ìŠ¬ë¡¯ ì„¤ì •: ${label}`;
          document.getElementById("slotInfo").textContent = `${page} / ${position}`;

          // ëª¨ë‹¬ ì—´ ë•Œ ì´ì „ ì…ë ¥ê°’(ì´ë¯¸ì§€/ë§í¬/ê¸°ê°„) ì´ˆê¸°í™”
          document.getElementById("imageInput").value = "";
          document.getElementById("linkInput").value = "";
          document.getElementById("businessNoInput").value = "";
          document.getElementById("businessNameInput").value = "";
          resetAdPeriodFields();

          document.getElementById("adModal").classList.remove("hidden");
          document.getElementById("adModal").classList.add("flex");
        }
      });
    }

    // ============================
    // ëª¨ë‹¬ ë‹«ê¸°
    // ============================
    function setupModalClose() {
      document.getElementById("closeModal").addEventListener("click", () => {
        document.getElementById("adModal").classList.add("hidden");
        document.getElementById("adModal").classList.remove("flex");
        // ë‹«ì„ ë•Œë„ ì…ë ¥ê°’ ì •ë¦¬
        document.getElementById("imageInput").value = "";
        document.getElementById("linkInput").value = "";
        document.getElementById("businessNoInput").value = "";
        document.getElementById("businessNameInput").value = "";
        resetAdPeriodFields();
      });

      document.getElementById("adModal").addEventListener("click", (e) => {
        if (e.target === e.currentTarget) {
          document.getElementById("adModal").classList.add("hidden");
          document.getElementById("adModal").classList.remove("flex");
          document.getElementById("imageInput").value = "";
          document.getElementById("linkInput").value = "";
          document.getElementById("businessNoInput").value = "";
          document.getElementById("businessNameInput").value = "";
          resetAdPeriodFields();
        }
      });
    }

    // ============================
    // í…ìŠ¤íŠ¸ ëª¨ë‹¬ ë‹«ê¸°
    // ============================
    function setupTextModalClose() {
      document.getElementById("closeTextModal").addEventListener("click", () => {
        document.getElementById("textModal").classList.add("hidden");
        document.getElementById("textModal").classList.remove("flex");
        document.getElementById("textContentInput").value = "";
      });

      document.getElementById("textModal").addEventListener("click", (e) => {
        if (e.target === e.currentTarget) {
          document.getElementById("textModal").classList.add("hidden");
          document.getElementById("textModal").classList.remove("flex");
          document.getElementById("textContentInput").value = "";
        }
      });
    }

    // ============================
    // ì…ë ¥ ëª¨ë“œ í† ê¸€ (ê°€ê²Œ / ì»¤ìŠ¤í…€)
    // ============================
    function setupModeToggle() {
      const customFields = document.getElementById("customModeFields");
      const storeFields = document.getElementById("storeModeFields");
      const modeCustom = document.getElementById("modeCustom");
      const modeStore = document.getElementById("modeStore");

      if (!customFields || !storeFields || !modeCustom || !modeStore) return;

      const updateVisibility = () => {
        if (modeStore.checked) {
          storeFields.classList.remove("hidden");
          customFields.classList.add("hidden");
        } else {
          customFields.classList.remove("hidden");
          storeFields.classList.add("hidden");
        }
      };

      modeCustom.addEventListener("change", updateVisibility);
      modeStore.addEventListener("change", updateVisibility);

      // ì´ˆê¸° ìƒíƒœ
      updateVisibility();
    }

    // ============================
    // ì €ì¥ ë²„íŠ¼ â†’ /category/ad/upload ë˜ëŠ” /category/ad/store
    // ============================
    function setupSave() {
      document.getElementById("saveAdBtn").addEventListener("click", async () => {
        const page = document.getElementById("selectedPage").value;
        const position = document.getElementById("selectedPosition").value;
        const modeInput = document.querySelector('input[name="adMode"]:checked');
        const mode = modeInput ? modeInput.value : "custom";

        if (!page || !position) {
          alert("ìŠ¬ë¡¯ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return;
        }

        // ê´‘ê³  ê¸°ê°„ ìˆ˜ì§‘/ê²€ì¦
        const period = collectAdPeriod();
        if (!period) return;

        // ğŸ½ ë“±ë¡ëœ ê°€ê²Œë¡œ ì—°ê²° ëª¨ë“œ
        if (mode === "store") {
          const businessNo = (document.getElementById("businessNoInput").value || "").trim();
          const businessName = (document.getElementById("businessNameInput").value || "").trim();

          if (!businessNo || !businessName) {
            alert("ì‚¬ì—…ìë²ˆí˜¸ì™€ ìƒí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
          }

          const body = {
            page,
            position,
            biz_number: businessNo,
            biz_name: businessName,
            // ê¸°ê°„ ì •ë³´ ê°™ì´ ì „ì†¡
            start_date: period.startDate || null,
            start_time: period.startTime || null,
            end_date: period.noEnd ? null : (period.endDate || null),
            end_time: period.noEnd ? null : (period.endTime || null),
            no_end: period.noEnd
          };

          try {
            const res = await fetch("/category/ad/store", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(body),
            });
            const data = await res.json();
            if (data.ok) {
              alert("ê°€ê²Œê°€ ì´ ìŠ¬ë¡¯ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.");
              document.getElementById("adModal").classList.add("hidden");
              document.getElementById("adModal").classList.remove("flex");
              document.getElementById("businessNoInput").value = "";
              document.getElementById("businessNameInput").value = "";
              resetAdPeriodFields();
            } else {
              alert("ì˜¤ë¥˜: " + (data.message || "ê°€ê²Œ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."));
            }
          } catch (err) {
            console.error(err);
            alert("ê°€ê²Œ ì—°ê²° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
          }

          return; // ì—¬ê¸°ì„œ ì¢…ë£Œ
        }

        // ğŸ¨ ì´ë¯¸ì§€ + ë§í¬ ì§ì ‘ ì…ë ¥ ëª¨ë“œ
        const imageFile = document.getElementById("imageInput").files[0];
        const link = document.getElementById("linkInput").value.trim();

        // ì´ë¯¸ì§€ ì—†ì´ ë§í¬ë§Œ ì €ì¥í•˜ëŠ” ê²ƒë„ í—ˆìš©
        if (!imageFile && !link && !period.startDate && !period.endDate && !period.noEnd) {
          const ok = confirm("ì´ë¯¸ì§€, ë§í¬, ê¸°ê°„ ì •ë³´ê°€ ëª¨ë‘ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.\nê·¸ë˜ë„ ì´ ìŠ¬ë¡¯ ì •ë³´ë§Œ ì €ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
          if (!ok) return;
        }

        const formData = new FormData();
        formData.append("page", page);
        formData.append("position", position);
        formData.append("link_url", link);

        // ê¸°ê°„ ì •ë³´ë„ ê°™ì´ ì „ì†¡ (ë°±ì—”ë“œì—ì„œ í•„ìš”ì‹œ ì‚¬ìš©)
        if (period.startDate) formData.append("start_date", period.startDate);
        if (period.startTime) formData.append("start_time", period.startTime);
        if (period.noEnd) {
          formData.append("no_end", "true");
        } else {
          if (period.endDate) formData.append("end_date", period.endDate);
          if (period.endTime) formData.append("end_time", period.endTime);
        }

        if (imageFile) {
          formData.append("image", imageFile);
        }

        try {
          const res = await fetch("/category/ad/upload", {
            method: "POST",
            body: formData
          });
          const data = await res.json();
          if (data.ok) {
            alert("ì €ì¥ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
            document.getElementById("adModal").classList.add("hidden");
            document.getElementById("adModal").classList.remove("flex");
            document.getElementById("imageInput").value = "";
            document.getElementById("linkInput").value = "";
            resetAdPeriodFields();
          } else {
            alert("ì˜¤ë¥˜: " + (data.message || "ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."));
          }
        } catch (err) {
          console.error(err);
          alert("ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        }
      });
    }

    // ============================
    // í…ìŠ¤íŠ¸ ì €ì¥ â†’ /category/ad/text/save
    // ============================
    function setupSaveText() {
      document.getElementById("saveTextBtn").addEventListener("click", async () => {
        const page = document.getElementById("textSelectedPage").value;
        const position = document.getElementById("textSelectedPosition").value;
        const content = document.getElementById("textContentInput").value.trim();

        if (!page || !position) {
          alert("ìŠ¬ë¡¯ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return;
        }
        if (!content) {
          alert("í‘œì‹œí•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        const body = { page, position, content };

        try {
          const res = await fetch("/category/ad/text/save", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(body),
          });
          const data = await res.json();
          if (data.ok) {
            alert("í…ìŠ¤íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
            document.getElementById("textModal").classList.add("hidden");
            document.getElementById("textModal").classList.remove("flex");
            document.getElementById("textContentInput").value = "";
          } else {
            alert("ì˜¤ë¥˜: " + (data.message || "ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."));
          }
        } catch (err) {
          console.error(err);
          alert("ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        }
      });
    }

    // ============================
    // FOOD CATEGORY ê´€ë¦¬
    // ============================
    async function loadFoodCategories() {
      const listEl = document.getElementById("categoryList");
      if (!listEl) return;

      try {
        const res = await fetch("/api/food-categories");
        const data = await res.json();

        listEl.innerHTML = "";

        if (!data.ok) {
          console.warn("FOOD CATEGORY ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", data.message);
          listEl.innerHTML =
            '<li class="text-[11px] text-red-400 px-2 py-1">ì¹´í…Œê³ ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨</li>';
          return;
        }

        if (!data.categories || data.categories.length === 0) {
          listEl.innerHTML =
            '<li class="text-[11px] text-slate-400 px-2 py-1">ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤.</li>';
          return;
        }

        for (const cat of data.categories) {
          const li = document.createElement("li");
          li.className =
            "flex items-center justify-between px-2 py-1 rounded-lg bg-slate-50 border border-slate-200";

          li.innerHTML = `
            <span class="text-[12px]">${cat.name}</span>
            <button
              type="button"
              class="text-[10px] text-red-500 hover:text-red-600"
              data-id="${cat.id}"
            >
              ì‚­ì œ
            </button>
          `;

          const deleteBtn = li.querySelector("button");
          deleteBtn.addEventListener("click", async () => {
            const ok = confirm(`'${cat.name}' ì¹´í…Œê³ ë¦¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`);
            if (!ok) return;

            try {
              const res = await fetch(`/api/food-categories/${cat.id}`, {
                method: "DELETE",
              });
              const data = await res.json();
              if (!data.ok) {
                alert(data.message || "ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
                return;
              }
              await loadFoodCategories();
            } catch (err) {
              console.error("deleteFoodCategory ERROR:", err);
              alert("ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
            }
          });

          listEl.appendChild(li);
        }
      } catch (err) {
        console.error("loadFoodCategories ERROR:", err);
        listEl.innerHTML =
          '<li class="text-[11px] text-red-400 px-2 py-1">ì¹´í…Œê³ ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜</li>';
      }
    }

    function setupFoodCategoryManagement() {
      const addCategoryBtn = document.getElementById("addCategoryBtn");
      if (addCategoryBtn) {
        addCategoryBtn.addEventListener("click", async () => {
          const input = document.getElementById("newCategoryName");
          if (!input) return;

          const name = input.value.trim();
          if (!name) {
            alert("ì¹´í…Œê³ ë¦¬ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            input.focus();
            return;
          }

          try {
            const res = await fetch("/api/food-categories", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ name }),
            });

            const data = await res.json();
            if (!data.ok) {
              alert(data.message || "ì¹´í…Œê³ ë¦¬ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
              return;
            }

            input.value = "";
            await loadFoodCategories();
          } catch (err) {
            console.error("createFoodCategory ERROR:", err);
            alert("ì¹´í…Œê³ ë¦¬ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
          }
        });
      }

      // í˜ì´ì§€ ë¡œë”© ì‹œ ì¹´í…Œê³ ë¦¬ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
      loadFoodCategories();
    }

    // ============================
    // ì´ˆê¸°í™”
    // ============================
    document.addEventListener("DOMContentLoaded", () => {
      setupSlotClick();
      setupModalClose();
      setupTextModalClose();
      setupModeToggle();
      setupNoEndToggle();
      setupSave();
      setupSaveText();
      setupFoodCategoryManagement();
    });
  </script>
</body>

</html>

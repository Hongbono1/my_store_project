<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MALL HANKOOK ë©”ì¸ ë ˆì´ì•„ì›ƒ ê´€ë¦¬ì | indexmanager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', system-ui, -apple-system, BlinkMacSystemFont,
                'Segoe UI', sans-serif;
        }

        .neo-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 1rem;
            box-shadow:
                6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.9);
            transition: all 0.3s ease;
        }

        .neo-card:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow:
                10px 10px 20px rgba(0, 0, 0, 0.2),
                -6px -6px 12px rgba(255, 255, 255, 1);
        }

        .slot-banner {
            position: relative;
            overflow: hidden;
        }

        .slot-banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slot-banner .slot-default {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        /* ê´€ë¦¬ì ëª¨ë‹¬ ê³µí†µ */
        .modal-bg {
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        .badge-ad {
            background: rgba(59, 130, 246, 0.12);
            color: #1d4ed8;
        }

        .badge-img {
            background: rgba(34, 197, 94, 0.12);
            color: #15803d;
        }

        .badge-info {
            background: rgba(148, 163, 184, 0.16);
            color: #475569;
        }
    </style>
</head>

<body class="bg-white text-gray-800">

    <!-- ìƒë‹¨ ê´€ë¦¬ì ì•ˆë‚´ ë  -->
    <header class="w-full border-b border-slate-200/70 bg-slate-50/80 backdrop-blur sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-2 flex items-center justify-between text-xs">
            <div class="flex items-center gap-2">
                <span
                    class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-[11px] font-bold">ADM</span>
                <div>
                    <p class="font-semibold text-slate-700">MALL HANKOOK Â· ë©”ì¸ ë ˆì´ì•„ì›ƒ ê´€ë¦¬ì</p>
                    <p class="text-[11px] text-slate-500">index.html í™”ë©´ì˜ ê´‘ê³ /ì´ë¯¸ì§€/í…ìŠ¤íŠ¸ ìŠ¬ë¡¯ì„ ì„¤ì •í•©ë‹ˆë‹¤. (í´ë¦­í•˜ë©´
                        ëª¨ë‹¬ ì—´ë¦¼)</p>
                </div>
            </div>
            <div class="hidden sm:flex flex-col items-end gap-0.5 text-[10px] text-slate-500">
                <span>page = <span class="font-mono font-semibold text-slate-800">"index"</span></span>
                <span>router: <span class="font-mono">/manager/ad/*</span></span>
            </div>
        </div>
    </header>

    <!-- í—¤ë” (ê¸°ì¡´ ì‚¬ìš©ì í—¤ë” ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´ ìœ ì§€) -->
    <div id="header-placeholder"></div>

    <!-- â‘  ìƒë‹¨ ë ë°°ë„ˆ -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 mt-16">
        <div id="slot_index_main_top"
            class="neo-card h-28 flex flex-col items-center justify-center text-center cursor-pointer slot-banner js-slot"
            data-page="index" data-position="index_main_top" data-label="ìƒë‹¨ ë ë°°ë„ˆ">
            <img class="slot-img hidden rounded-lg" alt="ê´‘ê³ ">
            <div class="slot-default">
                <div>
                    <p class="text-lg sm:text-xl md:text-2xl font-bold">ë„¤ì´ë²„ì— ìƒˆì§‘ë§ˆë ¨</p>
                    <p class="text-gray-600 text-sm sm:text-base">ë‚´ ì·¨í–¥ì„ ê¸°ë¡í•  ìƒˆë¡œìš´ ê³µê°„</p>
                </div>
            </div>
        </div>
    </div>

    <!-- â‘¡ ë©”ì¸ ë¹„ì£¼ì–¼ + â‘¢â‘£â‘¤ í”„ë¡œëª¨ 1/2/3 -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-8 grid grid-cols-1 md:grid-cols-3 gap-6 h-[500px] mt-10">
        <!-- ì¢Œì¸¡ ë©”ì¸ ë°°ë„ˆ -->
        <div class="md:col-span-2 h-full">
            <div id="slot_index_main_visual"
                class="rounded-lg shadow-md overflow-hidden h-full slot-banner cursor-pointer js-slot" data-page="index"
                data-position="index_main_visual" data-label="ë©”ì¸ ë¹„ì£¼ì–¼ ë°°ë„ˆ">
                <img class="slot-img hidden" alt="ë©”ì¸ ë°°ë„ˆ">
                <div class="slot-default bg-gray-100">
                    <img src="/uploads/main-banner.png" alt="ë©”ì¸ ë°°ë„ˆ" class="w-full h-full object-cover">
                </div>
            </div>
        </div>

        <!-- ìš°ì¸¡ í”„ë¡œëª¨ 1/2/3 -->
        <div class="flex flex-col gap-4 h-full">
            <div id="slot_index_promo_1" class="flex-1 cursor-pointer slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_promo_1" data-label="í”„ë¡œëª¨ì…˜ 1ë²ˆ">
                <img class="slot-img hidden" alt="í”„ë¡œëª¨ 1">
                <div class="slot-default bg-gray-200 h-full">Promo 1</div>
            </div>
            <div id="slot_index_promo_2" class="flex-1 cursor-pointer slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_promo_2" data-label="í”„ë¡œëª¨ì…˜ 2ë²ˆ">
                <img class="slot-img hidden" alt="í”„ë¡œëª¨ 2">
                <div class="slot-default bg-gray-200 h-full">Promo 2</div>
            </div>
            <div id="slot_index_promo_3" class="flex-1 cursor-pointer slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_promo_3" data-label="í”„ë¡œëª¨ì…˜ 3ë²ˆ">
                <img class="slot-img hidden" alt="í”„ë¡œëª¨ 3">
                <div class="slot-default bg-gray-200 h-full">Promo 3</div>
            </div>
        </div>
    </section>

    <!-- â‘¥ ìƒë‹¨ ì„œë¸Œ ë°•ìŠ¤ (ê²€ìƒ‰ì–´/ìµœì‹ ì†Œì‹/ì´ë²¤íŠ¸/ì¶”ì²œ) -->
    <section
        class="max-w-7xl mx-auto px-4 sm:px-6 py-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-center">
        <div>
            <h3 class="font-bold text-xl sm:text-2xl mb-2">ê²€ìƒ‰ì–´</h3>
            <a href="search.html">
                <div id="slot_index_sub_keywords" class="neo-card min-h-28 p-4 cursor-pointer js-text-slot"
                    data-page="index" data-position="index_sub_keywords" data-slot-type="text" data-label="ê²€ìƒ‰ì–´ ë°•ìŠ¤">
                    <div class="slot-default-text"></div>
                </div>
            </a>
        </div>
        <div>
            <h3 class="font-bold text-xl sm:text-2xl mb-2">ìµœì‹  ì†Œì‹</h3>
            <a href="news.html">
                <div id="slot_index_sub_news" class="neo-card min-h-28 p-4 cursor-pointer js-text-slot"
                    data-page="index" data-position="index_sub_news" data-slot-type="text" data-label="ìµœì‹  ì†Œì‹ ë°•ìŠ¤">
                    <div class="slot-default-text"></div>
                </div>
            </a>
        </div>
        <div>
            <h3 class="font-bold text-xl sm:text-2xl mb-2">ì´ë²¤íŠ¸ ì •ë³´</h3>
            <div id="slot_index_sub_events" class="neo-card min-h-28 p-4 cursor-pointer js-text-slot" data-page="index"
                data-position="index_sub_events" data-slot-type="text" data-label="ì´ë²¤íŠ¸ ì •ë³´ ë°•ìŠ¤">
                <div class="slot-default-text"></div>
            </div>
        </div>
        <div>
            <h3 class="font-bold text-xl sm:text-2xl mb-2">ì¶”ì²œ ì œí’ˆ</h3>
            <a href="recommend.html">
                <div id="slot_index_sub_recommends" class="neo-card min-h-28 p-4 cursor-pointer js-text-slot"
                    data-page="index" data-position="index_sub_recommends" data-slot-type="text" data-label="ì¶”ì²œ ì œí’ˆ ë°•ìŠ¤">
                    <div class="slot-default-text"></div>
                </div>
            </a>
        </div>
    </section>

    <!-- â‘¦ Best Pick (ìŠ¬ë¡¯ì´ ì•„ë‹ˆë¼ API/ë³„ë„ ê´€ë¦¬ ì˜ì—­ìœ¼ë¡œ ìœ ì§€) -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-10">
        <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-center">Best Pick</h2>
        <div id="bestViewport" class="relative overflow-hidden">
            <div id="bestTrack" class="flex transition-transform duration-500 ease-in-out will-change-transform">
                <div class="flex justify-center gap-6 w-full">
                    <!-- placeholder 6ê°œ -->
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                </div>
            </div>
            <button id="bestPrev"
                class="absolute left-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2 z-10">â€¹</button>
            <button id="bestNext"
                class="absolute right-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2 z-10">â€º</button>
        </div>
    </section>

    <!-- â‘§ ìš°ë¦¬ë™ë„¤ í•œë§ˆë”” -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-6">
        <div class="w-[73%] mx-auto">
            <div id="slot_index_oneword"
                class="neo-card h-28 sm:h-32 rounded-2xl flex flex-col items-center justify-center p-5 shadow-xl border-2 border-blue-400 cursor-pointer js-text-slot"
                data-page="index" data-position="index_oneword" data-slot-type="text" data-label="ìš°ë¦¬ë™ë„¤ í•œë§ˆë””">
                <div class="text-2xl sm:text-3xl font-semibold mb-3 text-blue-600">ğŸ“ ìš°ë¦¬ë™ë„¤ í•œë§ˆë””</div>
                <p id="oneword-content"
                    class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 text-center leading-tight">
                    ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
        </div>
    </section>

    <!-- â‘¨ ê¸°ëŠ¥ ì§„ì… ì¹´ë“œë“¤ -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-10 grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div class="grid grid-rows-2 gap-4">
            <a href="foodcategory.html" id="slot_index_food_delivery"
                class="slot-banner rounded-lg overflow-hidden js-slot" data-page="index"
                data-position="index_food_delivery" data-label="í™ë³´ì˜ ë°°ë‹¬ ì§„ì… ì¹´ë“œ">
                <img class="slot-img hidden" alt="í™ë³´ì˜ ë°°ë‹¬">
                <div class="slot-default bg-gray-200 h-32 sm:h-full hover:bg-gray-300">í™ë³´ì˜ ë°°ë‹¬</div>
            </a>
            <a href="ncategory2.html" id="slot_index_all_stores" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_all_stores" data-label="ìš°ë¦¬ë™ë„¤ ëª¨ë“ ê°€ê²Œ ì§„ì… ì¹´ë“œ">
                <img class="slot-img hidden" alt="ìš°ë¦¬ë™ë„¤ ëª¨ë“ ê°€ê²Œ">
                <div class="slot-default bg-gray-200 h-32 sm:h-full hover:bg-gray-300">ìš°ë¦¬ë™ë„¤ ëª¨ë“ ê°€ê²Œ</div>
            </a>
        </div>
        <div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4">
            <a href="hot.html" id="slot_index_hot_place" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_hot_place" data-label="ê°€ì¥ HOTí•œ ìš°ë¦¬ë™ë„¤">
                <img class="slot-img hidden" alt="ê°€ì¥ HOTí•œ ìš°ë¦¬ë™ë„¤">
                <div class="slot-default bg-gray-200 aspect-[4/3]">ê°€ì¥ HOTí•œ ìš°ë¦¬ë™ë„¤</div>
            </a>
            <a href="suggest.html" id="slot_index_suggest" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_suggest" data-label="í™ë³´ì˜ ì¶”ì²œ">
                <img class="slot-img hidden" alt="í™ë³´ì˜ ì¶”ì²œ">
                <div class="slot-default bg-gray-200 aspect-[4/3]">í™ë³´ì˜ ì¶”ì²œ</div>
            </a>
            <a href="open.html" id="slot_index_open" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_open" data-label="ì˜¤í”ˆ ì˜ˆì •">
                <img class="slot-img hidden" alt="ì˜¤í”ˆ ì˜ˆì •">
                <div class="slot-default bg-gray-200 aspect-[4/3]">ì˜¤í”ˆ ì˜ˆì •</div>
            </a>
            <a href="storepride.html" id="slot_index_store_pride" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_store_pride" data-label="ê°€ê²Œìë‘">
                <img class="slot-img hidden" alt="ê°€ê²Œìë‘">
                <div class="slot-default bg-gray-200 aspect-[4/3]">ê°€ê²Œìë‘</div>
            </a>
            <a href="traditionalmarket.html" id="slot_index_traditional"
                class="slot-banner rounded-lg overflow-hidden js-slot" data-page="index"
                data-position="index_traditional" data-label="ì „í†µì‹œì¥">
                <img class="slot-img hidden" alt="ì „í†µì‹œì¥">
                <div class="slot-default bg-gray-200 aspect-[4/3]">ì „í†µì‹œì¥</div>
            </a>
            <a href="performingart.html" id="slot_index_performing"
                class="slot-banner rounded-lg overflow-hidden js-slot" data-page="index"
                data-position="index_performing" data-label="ê³µì—°/ì˜ˆìˆ , ì¶•ì œ">
                <img class="slot-img hidden" alt="ê³µì—°/ì˜ˆìˆ , ì¶•ì œ">
                <div class="slot-default bg-gray-200 aspect-[4/3] font-bold">ê³µì—°/ì˜ˆìˆ , ì¶•ì œ</div>
            </a>
        </div>
    </section>

    <!-- â‘©â‘ª ì´ë²¤íŠ¸ / ì§€ì—­ ê²Œì‹œíŒ -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-10 grid grid-cols-1 sm:grid-cols-2 gap-6">
        <a href="event.html" id="slot_index_event" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_event" data-label="ì´ë²¤íŠ¸ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ì´ë²¤íŠ¸">
            <div
                class="slot-default bg-yellow-100 min-h-36 sm:min-h-52 hover:bg-yellow-200 flex items-center justify-center">
                <span class="text-lg font-bold">ì´ë²¤íŠ¸</span>
            </div>
        </a>
        <a href="localboard.html" id="slot_index_localboard" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_localboard" data-label="ì§€ì—­ ê²Œì‹œíŒ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ì§€ì—­ ê²Œì‹œíŒ">
            <div
                class="slot-default bg-blue-100 min-h-36 sm:min-h-52 hover:bg-blue-200 flex items-center justify-center">
                <span class="text-lg font-bold">ì§€ì—­ ê²Œì‹œíŒ</span>
            </div>
        </a>
    </section>

    <!-- â‘«â‘¬ ê³„ì ˆí…Œë§ˆ / ì‹ ê·œ íšŒì› í˜œíƒ -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-10 grid grid-cols-1 sm:grid-cols-2 gap-6">
        <a href="season.html" id="slot_index_season" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_season" data-label="ê³„ì ˆí…Œë§ˆ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ê³„ì ˆí…Œë§ˆ">
            <div
                class="slot-default bg-gray-200 min-h-36 sm:min-h-52 hover:bg-gray-300 flex items-center justify-center">
                <span class="text-lg font-bold">ê³„ì ˆí…Œë§ˆ</span>
            </div>
        </a>
        <a href="join.html" id="slot_index_join" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_join" data-label="ì‹ ê·œ íšŒì› í˜œíƒ">
            <img class="slot-img hidden" alt="ì‹ ê·œ íšŒì› í˜œíƒ">
            <div
                class="slot-default bg-gray-200 min-h-36 sm:min-h-52 hover:bg-gray-300 flex flex-col items-center justify-center p-3">
                <span class="text-lg font-bold">ì‹ ê·œ íšŒì› í˜œíƒ</span>
                <p class="text-xs text-gray-600 mt-1 text-center">ì„œë¹„ìŠ¤ ì•ˆì •í™” í›„ ì œê³µë  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
            </div>
        </a>
    </section>

    <!-- â‘® ê³ ê°ì§€ì› ë°•ìŠ¤ -->
    <section
        class="max-w-7xl mx-auto px-4 sm:px-6 py-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 text-center">
        <a href="review.html" id="slot_index_support_review" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_support_review" data-label="ë¦¬ë·°/í›„ê¸° ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ë¦¬ë·°/í›„ê¸°">
            <div
                class="slot-default bg-gray-200 min-h-28 sm:min-h-40 flex items-center justify-center hover:bg-gray-300">
                <span class="text-lg font-bold">ë¦¬ë·°/í›„ê¸°</span>
            </div>
        </a>
        <div id="slot_index_support_empty" class="slot-banner rounded-lg overflow-hidden js-slot cursor-pointer"
            data-page="index" data-position="index_support_empty" data-label="ì¤‘ì•™ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ì¤‘ì•™ ë°•ìŠ¤">
            <div class="slot-default bg-gray-200 min-h-28 sm:min-h-40 flex items-center justify-center">
                <!-- ë¹ˆ ë°•ìŠ¤ -->
            </div>
        </div>
        <a href="inquiryBoard.html" id="slot_index_support_inquiry"
            class="slot-banner rounded-lg overflow-hidden js-slot" data-page="index"
            data-position="index_support_inquiry" data-label="ë¬¸ì˜ê²Œì‹œíŒ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ë¬¸ì˜ê²Œì‹œíŒ">
            <div
                class="slot-default bg-gray-200 min-h-28 sm:min-h-40 hover:bg-gray-300 flex flex-col items-center justify-center p-3">
                <h4 class="font-bold text-base">ë¬¸ì˜ê²Œì‹œíŒ (Q&A)</h4>
                <p class="text-xs text-gray-600 mt-1 text-center">ê¶ê¸ˆí•œ ì ì„ ë‚¨ê²¨ì£¼ì„¸ìš”</p>
            </div>
        </a>
    </section>

    <!-- D2C ì˜ì—­ (ìŠ¬ë¡¯ë§Œ ë¯¸ë¦¬ ì¡ì•„ë‘ , í™”ë©´ì—ëŠ” ì•ˆ ë³´ì¼ ìˆ˜ ìˆìŒ) -->
    <div id="slot_index_d2c_banner" class="hidden js-slot" data-page="index" data-position="index_d2c_banner"
        data-label="D2C ìƒë‹¨ ë°°ë„ˆ"></div>
    <div id="slot_index_d2c_shop" class="hidden js-slot" data-page="index" data-position="index_d2c_shop"
        data-label="D2C ì‡¼í•‘ ë°•ìŠ¤"></div>

    <!-- í‘¸í„° -->
    <div id="footer-placeholder"></div>

    <!-- ì˜¤ë¥¸ìª½ í•˜ë‹¨ ë„¤ë¹„ -->
    <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">
        <div class="flex flex-col items-center">
            <button onclick="goBack()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow">â†</button>
            <span class="text-xs mt-1">ì´ì „</span>
        </div>
        <div class="flex flex-col items-center">
            <button onclick="goNext()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow">â†’</button>
            <span class="text-xs mt-1">ë‹¤ìŒ</span>
        </div>
        <div class="flex flex-col items-center">
            <a href="/index.html"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow">ğŸ </a>
            <span class="text-xs mt-1">í™ˆ</span>
        </div>
    </div>

    <!-- ======================== -->
    <!-- ğŸ› ê´‘ê³ /ì´ë¯¸ì§€/í…ìŠ¤íŠ¸ ë“±ë¡ ëª¨ë‹¬ -->
    <!-- ======================== -->

    <!-- ì´ë¯¸ì§€/ê°€ê²Œ ì—°ê²° ëª¨ë‹¬ -->
    <div id="adModal" class="fixed inset-0 bg-black/40 modal-bg hidden justify-center items-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-7 max-w-lg w-full border border-slate-200">

            <h2 id="modalTitle" class="text-lg font-bold mb-4">
                ìŠ¬ë¡¯ ì„¤ì •
            </h2>

            <!-- ìŠ¬ë¡¯ ì„¤ì • ëª¨ë‹¬ ë‚´ë¶€ì˜ í¼ -->
            <form id="slotForm" enctype="multipart/form-data" class="space-y-4">
                <!-- ê¸°ë³¸ ì •ë³´ (hidden) -->
                <input type="hidden" name="page" value="index" />
                <input type="hidden" name="position" value="" />

                <!-- ìŠ¬ë¡¯ íƒ€ì… -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ìŠ¬ë¡¯ íƒ€ì…</label>
                    <select name="slotType" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                        <option value="banner">ë°°ë„ˆ</option>
                        <option value="text">í…ìŠ¤íŠ¸</option>
                    </select>
                </div>

                <!-- ìŠ¬ë¡¯ ëª¨ë“œ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ìŠ¬ë¡¯ ëª¨ë“œ</label>
                    <select name="slotMode" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                        <option value="custom">ì§ì ‘ ì„¤ì •</option>
                        <option value="auto">ìë™</option>
                    </select>
                </div>

                <!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ì´ë¯¸ì§€</label>
                    <input type="file" name="image" accept="image/*" class="w-full px-3 py-2 border border-gray-300 rounded-md" />
                </div>

                <!-- ë§í¬ URL -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ë§í¬ URL</label>
                    <input type="text" name="linkUrl" placeholder="http://..." class="w-full px-3 py-2 border border-gray-300 rounded-md" />
                </div>

                <!-- í…ìŠ¤íŠ¸ ë‚´ìš© -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">í…ìŠ¤íŠ¸ ë‚´ìš©</label>
                    <textarea name="textContent" rows="3" placeholder="í…ìŠ¤íŠ¸ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-3 py-2 border border-gray-300 rounded-md"></textarea>
                </div>

                <!-- ê°€ê²Œ ì •ë³´ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ê°€ê²Œ ID</label>
                    <input type="text" name="storeId" placeholder="ê°€ê²Œ ID (ìˆ«ì)" class="w-full px-3 py-2 border border-gray-300 rounded-md" />
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ì‚¬ì—…ìë²ˆí˜¸</label>
                    <input type="text" name="businessNo" placeholder="123-45-67890" class="w-full px-3 py-2 border border-gray-300 rounded-md" />
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ìƒí˜¸ëª…</label>
                    <input type="text" name="businessName" placeholder="ìƒí˜¸ëª…" class="w-full px-3 py-2 border border-gray-300 rounded-md" />
                </div>

                <!-- ë…¸ì¶œ ê¸°ê°„ -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">ì‹œì‘ì¼</label>
                        <input type="date" name="startDate" class="w-full px-3 py-2 border border-gray-300 rounded-md" />
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">ì¢…ë£Œì¼</label>
                        <input type="date" name="endDate" class="w-full px-3 py-2 border border-gray-300 rounded-md" />
                    </div>
                </div>

                <!-- í¼ ë²„íŠ¼ë“¤ -->
                <div class="flex justify-end space-x-2 pt-4">
                    <button type="button" onclick="closeModal()" class="px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300">ì·¨ì†Œ</button>
                    <button type="submit" class="px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700">ì €ì¥</button>
                </div>
            </form>
        </div>
    </div>

    <!-- í…ìŠ¤íŠ¸ ì „ìš© ëª¨ë‹¬ -->
    <div id="textModal" class="fixed inset-0 bg-black/40 modal-bg hidden justify-center items-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-7 max-w-lg w-full border border-slate-200">
            <h2 id="textModalTitle" class="text-lg font-bold mb-3">
                í…ìŠ¤íŠ¸ ì„¤ì •
            </h2>

            <form id="textForm" class="space-y-3">
                <div class="text-xs text-slate-600 bg-slate-50 border border-slate-100 rounded-lg p-3"
                    id="textSlotInfo">
                    ì¸ë±ìŠ¤ í˜ì´ì§€ì˜ <span class="font-semibold">í…ìŠ¤íŠ¸ ìŠ¬ë¡¯</span> ë‚´ìš©ì„ ì„¤ì •í•©ë‹ˆë‹¤.
                </div>

                <div>
                    <label class="block font-semibold mb-1 text-sm">í‘œì‹œí•  í…ìŠ¤íŠ¸</label>
                    <textarea id="textContentInput"
                        class="w-full border border-slate-300 rounded-lg p-2 text-sm min-h-[120px]"
                        placeholder="ì˜ˆ) ì˜¤ëŠ˜ì€ ìš°ë¦¬ë™ë„¤ ìˆ¨ì€ ë§›ì§‘ì„ ë‘˜ëŸ¬ë³´ëŠ” ë‚ ì…ë‹ˆë‹¤."></textarea>
                </div>

                <input type="hidden" id="textSelectedPage">
                <input type="hidden" id="textSelectedPosition">

                <div class="flex justify-end gap-3 pt-2">
                    <button type="button" id="closeTextModal"
                        class="px-4 py-2 border border-slate-300 rounded-lg text-sm text-slate-600 hover:bg-slate-50">
                        ì·¨ì†Œ
                    </button>
                    <button type="button" id="saveTextBtn"
                        class="px-4 py-2 bg-emerald-600 text-white rounded-lg shadow text-sm hover:bg-emerald-700">
                        ì €ì¥
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ============================================================
        // ğŸ”¥ ì¸ë±ìŠ¤ìš© ìŠ¬ë¡¯ ë¡œë” (í”„ë¡ íŠ¸ì™€ ë™ì¼í•˜ê²Œ ìœ ì§€)
        // ============================================================

        async function loadBannerSlot(slotId, page, position) {
            const container = document.getElementById(slotId);
            if (!container) return;

            const img = container.querySelector(".slot-img");
            const defaultEl = container.querySelector(".slot-default");

            try {
                const res = await fetch(`/manager/ad/slot?page=${encodeURIComponent(page)}&position=${encodeURIComponent(position)}`);
                if (!res.ok) return;

                const json = await res.json();

                if (json.ok && json.slot && json.slot.image_url) {
                    if (img) {
                        img.src = json.slot.image_url;
                        img.classList.remove("hidden");
                    }
                    if (defaultEl) defaultEl.classList.add("hidden");

                    if (json.slot.link_url) {
                        container.style.cursor = "pointer";
                        container.addEventListener("click", (e) => {
                            // ê´€ë¦¬ì ëª¨ë‹¬ìš© í´ë¦­ê³¼ ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•´ js-slot í•¸ë“¤ëŸ¬ì—ì„œ ì²˜ë¦¬
                            if (e.defaultPrevented) return;
                            if (!e.target.closest(".js-slot, .js-text-slot")) {
                                e.preventDefault();
                                location.href = json.slot.link_url;
                            }
                        });
                    }
                }
            } catch (err) {
                console.error(`ìŠ¬ë¡¯ ë¡œë“œ ì‹¤íŒ¨ [${position}]:`, err);
            }
        }

        async function loadTextSlot(slotId, page, position, defaultRender) {
            const container = document.getElementById(slotId);
            if (!container) return;

            try {
                const res = await fetch(`/manager/ad/text/get?page=${encodeURIComponent(page)}&position=${encodeURIComponent(position)}`);
                if (!res.ok) {
                    defaultRender(container);
                    return;
                }

                const json = await res.json();

                if (json.ok && json.text && json.text.content) {
                    const textEl = container.querySelector(".slot-default-text") || container;
                    textEl.innerHTML = json.text.content;
                } else {
                    defaultRender(container);
                }
            } catch (err) {
                console.error(`í…ìŠ¤íŠ¸ ìŠ¬ë¡¯ ë¡œë“œ ì‹¤íŒ¨ [${position}]:`, err);
                defaultRender(container);
            }
        }

        const DEFAULT_DATA = {
            keywords: ["ê²€ìƒ‰ì–´1", "ê²€ìƒ‰ì–´2", "ê²€ìƒ‰ì–´3", "ê²€ìƒ‰ì–´4", "ê²€ìƒ‰ì–´5"],
            news: ["ì‹ ì œí’ˆ ì¶œì‹œ", "ì—…ë°ì´íŠ¸ ì†Œì‹", "ê³µì§€ì‚¬í•­", "ì ê²€ ì•ˆë‚´", "ì„œë¹„ìŠ¤ ê°œì„ "],
            events: ["ë´„ë§ì´ ì„¸ì¼", "íšŒì› ì „ìš© ì¿ í°", "í¬ì¸íŠ¸ 2ë°° ì ë¦½", "ì‹ ê·œ ê°€ì… ì´ë²¤íŠ¸", "ë¦¬ë·° ì‘ì„± ì´ë²¤íŠ¸"],
            recommends: ["ì¶”ì²œ ìƒí’ˆ A", "ì¶”ì²œ ìƒí’ˆ B", "ì¶”ì²œ ìƒí’ˆ C", "ì¶”ì²œ ìƒí’ˆ D", "ì¶”ì²œ ìƒí’ˆ E"]
        };

        function renderDefaultList(container, items) {
            const textEl = container.querySelector(".slot-default-text") || container;
            textEl.innerHTML = items.map(t => `<p class="text-xl leading-relaxed tracking-wide">${t}</p>`).join("");
        }

        async function loadOneWord() {
            const contentEl = document.getElementById("oneword-content");
            if (!contentEl) return;

            try {
                const slotRes = await fetch("/manager/ad/text/get?page=index&position=index_oneword");
                if (slotRes.ok) {
                    const slotJson = await slotRes.json();
                    if (slotJson.ok && slotJson.text && slotJson.text.content) {
                        contentEl.innerHTML = slotJson.text.content;
                        return;
                    }
                }

                const userRegion = localStorage.getItem("userRegion") || "ì˜ì •ë¶€";
                const onewordRes = await fetch(`/api/oneword?region=${encodeURIComponent(userRegion)}`);

                if (onewordRes.ok) {
                    const onewordData = await onewordRes.json();
                    let displayMessage = onewordData.message;

                    if (onewordData.keyword) {
                        displayMessage = displayMessage.replace(
                            `'${onewordData.keyword}'`,
                            `<span class="text-orange-500">'${onewordData.keyword}'</span>`
                        );
                    }
                    contentEl.innerHTML = displayMessage;
                } else {
                    contentEl.textContent = "ìš°ë¦¬ë™ë„¤ê°€ ì˜¤ëŠ˜ì€ ì°¨ë¶„í•œ í•˜ë£¨ë„¤ìš” ğŸ™‚";
                }

            } catch (err) {
                console.error("ìš°ë¦¬ë™ë„¤ í•œë§ˆë”” ë¡œë“œ ì‹¤íŒ¨:", err);
                contentEl.textContent = "ìš°ë¦¬ë™ë„¤ê°€ ì˜¤ëŠ˜ì€ ì°¨ë¶„í•œ í•˜ë£¨ë„¤ìš” ğŸ™‚";
            }
        }

        async function loadBestPick() {
            let allStores = [];
            try {
                const res = await fetch("/api/best-pick");
                if (res.ok) {
                    allStores = await res.json();
                }
            } catch (e) {
                console.error("Best Pick API ìš”ì²­ ì‹¤íŒ¨", e);
            }

            if (!allStores || allStores.length === 0) {
                allStores = Array.from({ length: 18 }, (_, i) => ({
                    id: i + 1,
                    name: `ìƒ˜í”Œ ${i + 1}`,
                    category: "ì—…ì¢…",
                    image: "/uploads/no-image.png"
                }));
            }

            const track = document.getElementById("bestTrack");
            let index = 0;
            let groups = [];

            function shuffle(array) {
                return array.sort(() => 0.5 - Math.random());
            }

            function makeGroups() {
                const shuffled = shuffle([...allStores]);
                const result = [];
                for (let i = 0; i < shuffled.length; i += 6) {
                    result.push(shuffled.slice(i, i + 6));
                }
                return result;
            }

            function createGroup(stores) {
                const group = document.createElement("div");
                group.className = "flex justify-center gap-6 basis-full shrink-0";
                stores.forEach(store => {
                    const card = document.createElement("a");
                    card.href = store.link || `detail.html?id=${store.id}`;
                    card.className = "block text-center w-28 sm:w-40";
                    card.innerHTML = `
                        <div class="neo-card w-28 h-28 sm:w-40 sm:h-40 rounded-full overflow-hidden mx-auto">
                            <img src="${store.image}" alt="${store.name}" class="w-full h-full object-cover">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg">${store.name}</p>
                        <p class="text-xs sm:text-sm text-gray-600">${store.category}</p>
                    `;
                    group.appendChild(card);
                });
                return group;
            }

            function renderGroup() {
                if (index >= groups.length) {
                    groups = makeGroups();
                    index = 0;
                }
                track.innerHTML = "";
                track.appendChild(createGroup(groups[index]));
            }

            function nextSlide() {
                index++;
                renderGroup();
            }

            document.getElementById("bestNext").addEventListener("click", nextSlide);
            document.getElementById("bestPrev").addEventListener("click", () => {
                index = index > 0 ? index - 1 : 0;
                renderGroup();
            });

            setInterval(nextSlide, 4000);
            groups = makeGroups();
            renderGroup();
        }

        // ============================================================
        // ğŸ›  ê´€ë¦¬ì ìŠ¬ë¡¯ í¸ì§‘ìš© ê¸°ëŠ¥ (ëª¨ë‹¬/ì €ì¥)
        // ============================================================

        function setupSlotClick() {
            document.addEventListener("click", (e) => {
                const slotEl = e.target.closest(".js-slot, .js-text-slot");
                if (!slotEl) return;

                // a íƒœê·¸ ê¸°ë³¸ ì´ë™ ë§‰ê¸°
                const linkParent = slotEl.closest("a[href]");
                if (linkParent) {
                    e.preventDefault();
                }

                e.preventDefault();

                const page = slotEl.dataset.page || "index";
                const position = slotEl.dataset.position || "";
                const label = slotEl.dataset.label || position || "ì„ íƒëœ ìŠ¬ë¡¯";
                const slotType =
                    slotEl.dataset.slotType ||
                    (slotEl.classList.contains("js-text-slot") ? "text" : "banner");

                if (slotType === "text") {
                    // í…ìŠ¤íŠ¸ í¸ì§‘ ëª¨ë‹¬
                    document.getElementById("textSelectedPage").value = page;
                    document.getElementById("textSelectedPosition").value = position;
                    document.getElementById("textModalTitle").textContent = `í…ìŠ¤íŠ¸ ì„¤ì •: ${label}`;
                    document.getElementById("textSlotInfo").innerHTML =
                        `index í˜ì´ì§€ì˜ <span class="font-semibold">${position}</span> ìŠ¬ë¡¯ì— í‘œì‹œë  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.`;

                    // í˜„ì¬ í…ìŠ¤íŠ¸ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì±„ìš°ê¸°
                    const currentTextEl = slotEl.querySelector(".slot-default-text") || slotEl;
                    const currentText = currentTextEl.innerText.trim();
                    document.getElementById("textContentInput").value = currentText;

                    const textModal = document.getElementById("textModal");
                    textModal.classList.remove("hidden");
                    textModal.classList.add("flex");
                } else {
                    // ë°°ë„ˆ/ì´ë¯¸ì§€ ëª¨ë‹¬
                    document.getElementById("selectedPage").value = page;
                    document.getElementById("selectedPosition").value = position;
                    document.getElementById("modalTitle").textContent = `ìŠ¬ë¡¯ ì„¤ì •: ${label}`;
                    document.getElementById("slotInfo").textContent = `${page} / ${position}`;

                    const adModal = document.getElementById("adModal");
                    adModal.classList.remove("hidden");
                    adModal.classList.add("flex");
                }
            });
        }

        function setupModalClose() {
            const modal = document.getElementById("adModal");
            document.getElementById("closeModal").addEventListener("click", () => {
                modal.classList.add("hidden");
                modal.classList.remove("flex");
            });
            modal.addEventListener("click", (e) => {
                if (e.target === e.currentTarget) {
                    modal.classList.add("hidden");
                    modal.classList.remove("flex");
                }
            });
        }

        function setupTextModalClose() {
            const modal = document.getElementById("textModal");
            document.getElementById("closeTextModal").addEventListener("click", () => {
                modal.classList.add("hidden");
                modal.classList.remove("flex");
            });
            modal.addEventListener("click", (e) => {
                if (e.target === e.currentTarget) {
                    modal.classList.add("hidden");
                    modal.classList.remove("flex");
                }
            });
        }

        function setupModeToggle() {
            const customFields = document.getElementById("customModeFields");
            const storeFields = document.getElementById("storeModeFields");
            const modeCustom = document.getElementById("modeCustom");
            const modeStore = document.getElementById("modeStore");

            if (!customFields || !storeFields || !modeCustom || !modeStore) return;

            const updateVisibility = () => {
                if (modeStore.checked) {
                    storeFields.classList.remove("hidden");
                    customFields.classList.add("hidden");
                } else {
                    customFields.classList.remove("hidden");
                    storeFields.classList.add("hidden");
                }
            };

            modeCustom.addEventListener("change", updateVisibility);
            modeStore.addEventListener("change", updateVisibility);
            updateVisibility();
        }

        function setupSave() {
            document.getElementById("saveAdBtn").addEventListener("click", async () => {
                const page = document.getElementById("selectedPage").value || "index";
                const position = document.getElementById("selectedPosition").value;
                const modeInput = document.querySelector('input[name="adMode"]:checked');
                const mode = modeInput ? modeInput.value : "custom";

                const startDate = document.getElementById("startDateInput").value;
                const endDate = document.getElementById("endDateInput").value;
                const startTime = document.getElementById("startTimeInput").value;
                const endTime = document.getElementById("endTimeInput").value;

                if (!page || !position) {
                    alert("ìŠ¬ë¡¯ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.");
                    return;
                }

                // ë“±ë¡ëœ ê°€ê²Œ ì—°ê²° ëª¨ë“œ
                if (mode === "store") {
                    const businessNo = (document.getElementById("businessNoInput").value || "").trim();
                    const businessName = (document.getElementById("businessNameInput").value || "").trim();

                    if (!businessNo || !businessName) {
                        alert("ì‚¬ì—…ìë²ˆí˜¸ì™€ ìƒí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                        return;
                    }

                    const body = {
                        page,
                        position,
                        biz_number: businessNo,
                        biz_name: businessName,
                        start_date: startDate || null,
                        end_date: endDate || null,
                        start_time: startTime || null,
                        end_time: endTime || null,
                    };

                    try {
                        const res = await fetch("/manager/ad/store", {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify(body),
                        });
                        const data = await res.json();
                        if (data.ok) {
                            alert("ê°€ê²Œê°€ ì´ ìŠ¬ë¡¯ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.");
                            document.getElementById("adModal").classList.add("hidden");
                            document.getElementById("adModal").classList.remove("flex");
                            document.getElementById("businessNoInput").value = "";
                            document.getElementById("businessNameInput").value = "";
                            document.getElementById("startDateInput").value = "";
                            document.getElementById("endDateInput").value = "";
                            document.getElementById("startTimeInput").value = "";
                            document.getElementById("endTimeInput").value = "";
                        } else {
                            alert("ì˜¤ë¥˜: " + (data.message || "ê°€ê²Œ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."));
                        }
                    } catch (err) {
                        console.error(err);
                        alert("ê°€ê²Œ ì—°ê²° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                    }

                    return;
                }

                // ì´ë¯¸ì§€ + ë§í¬ ì§ì ‘ ì…ë ¥ ëª¨ë“œ
                const imageFile = document.getElementById("imageInput").files[0];
                const link = document.getElementById("linkInput").value.trim();

                if (!imageFile && !link) {
                    const ok = confirm("ì´ë¯¸ì§€ì™€ ë§í¬ê°€ ëª¨ë‘ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.\nê·¸ë˜ë„ ì´ ìŠ¬ë¡¯ ì •ë³´ë§Œ ì €ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
                    if (!ok) return;
                }

                const formData = new FormData();
                formData.append("page", page);
                formData.append("position", position);
                formData.append("link_url", link);
                if (startDate) formData.append("start_date", startDate);
                if (endDate) formData.append("end_date", endDate);
                if (startTime) formData.append("start_time", startTime);
                if (endTime) formData.append("end_time", endTime);
                if (imageFile) {
                    formData.append("image", imageFile);
                }

                try {
                    const res = await fetch("/manager/ad/upload", {
                        method: "POST",
                        body: formData
                    });
                    const data = await res.json();
                    if (data.ok) {
                        alert("ì €ì¥ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
                        document.getElementById("adModal").classList.add("hidden");
                        document.getElementById("adModal").classList.remove("flex");
                        document.getElementById("imageInput").value = "";
                        document.getElementById("linkInput").value = "";
                        document.getElementById("startDateInput").value = "";
                        document.getElementById("endDateInput").value = "";
                        document.getElementById("startTimeInput").value = "";
                        document.getElementById("endTimeInput").value = "";
                        // ë³€ê²½ì‚¬í•­ ë°˜ì˜ì„ ìœ„í•´ ë‹¤ì‹œ ë¡œë“œí•´ë„ ë¨ (ì„ íƒ)
                        // location.reload();
                    } else {
                        alert("ì˜¤ë¥˜: " + (data.message || "ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."));
                    }
                } catch (err) {
                    console.error(err);
                    alert("ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                }
            });
        }

        function setupSaveText() {
            document.getElementById("saveTextBtn").addEventListener("click", async () => {
                const page = document.getElementById("textSelectedPage").value || "index";
                const position = document.getElementById("textSelectedPosition").value;
                const content = document.getElementById("textContentInput").value.trim();

                if (!page || !position) {
                    alert("ìŠ¬ë¡¯ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.");
                    return;
                }
                if (!content) {
                    alert("í‘œì‹œí•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    return;
                }

                const body = { page, position, content };

                try {
                    const res = await fetch("/manager/ad/text/save", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(body),
                    });
                    const data = await res.json();
                    if (data.ok) {
                        alert("í…ìŠ¤íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
                        document.getElementById("textModal").classList.add("hidden");
                        document.getElementById("textModal").classList.remove("flex");
                        // í™”ë©´ì—ë„ ë°”ë¡œ ë°˜ì˜
                        const target = document.querySelector(
                            `.js-text-slot[data-page="${page}"][data-position="${position}"] .slot-default-text`
                        );
                        if (target) target.innerHTML = content;
                    } else {
                        alert("ì˜¤ë¥˜: " + (data.message || "ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."));
                    }
                } catch (err) {
                    console.error(err);
                    alert("ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                }
            });
        }

        // ============================================================
        // ğŸš€ ì´ˆê¸°í™”
        // ============================================================
        document.addEventListener("DOMContentLoaded", async () => {

            // Header/Footer ë¡œë“œ
            fetch("/components/header.html")
                .then(r => r.text())
                .then(d => {
                    const el = document.getElementById("header-placeholder");
                    if (el) el.innerHTML = d;
                });
            fetch("/components/footer.html")
                .then(r => r.text())
                .then(d => {
                    const el = document.getElementById("footer-placeholder");
                    if (el) el.innerHTML = d;
                });

            // ë°°ë„ˆ ìŠ¬ë¡¯ë“¤ ë¡œë“œ
            const bannerSlots = [
                ["slot_index_main_top", "index", "index_main_top"],
                ["slot_index_main_visual", "index", "index_main_visual"],
                ["slot_index_promo_1", "index", "index_promo_1"],
                ["slot_index_promo_2", "index", "index_promo_2"],
                ["slot_index_promo_3", "index", "index_promo_3"],
                ["slot_index_food_delivery", "index", "index_food_delivery"],
                ["slot_index_all_stores", "index", "index_all_stores"],
                ["slot_index_hot_place", "index", "index_hot_place"],
                ["slot_index_suggest", "index", "index_suggest"],
                ["slot_index_open", "index", "index_open"],
                ["slot_index_store_pride", "index", "index_store_pride"],
                ["slot_index_traditional", "index", "index_traditional"],
                ["slot_index_performing", "index", "index_performing"],
                ["slot_index_event", "index", "index_event"],
                ["slot_index_localboard", "index", "index_localboard"],
                ["slot_index_season", "index", "index_season"],
                ["slot_index_join", "index", "index_join"],
                ["slot_index_d2c_banner", "index", "index_d2c_banner"],
                ["slot_index_d2c_shop", "index", "index_d2c_shop"],
                ["slot_index_support_review", "index", "index_support_review"],
                ["slot_index_support_empty", "index", "index_support_empty"],
                ["slot_index_support_inquiry", "index", "index_support_inquiry"],
            ];

            await Promise.all(bannerSlots.map(([id, page, pos]) => loadBannerSlot(id, page, pos)));

            // í…ìŠ¤íŠ¸ ìŠ¬ë¡¯ ë¡œë“œ
            loadTextSlot("slot_index_sub_keywords", "index", "index_sub_keywords",
                (c) => renderDefaultList(c, DEFAULT_DATA.keywords));
            loadTextSlot("slot_index_sub_news", "index", "index_sub_news",
                (c) => renderDefaultList(c, DEFAULT_DATA.news));
            loadTextSlot("slot_index_sub_events", "index", "index_sub_events",
                (c) => renderDefaultList(c, DEFAULT_DATA.events));
            loadTextSlot("slot_index_sub_recommends", "index", "index_sub_recommends",
                (c) => renderDefaultList(c, DEFAULT_DATA.recommends));

            // ìš°ë¦¬ë™ë„¤ í•œë§ˆë””
            loadOneWord();

            // Best Pick
            loadBestPick();

            // ê´€ë¦¬ììš© ëª¨ë‹¬/ì €ì¥ ê¸°ëŠ¥
            setupSlotClick();
            setupModalClose();
            setupTextModalClose();
            setupModeToggle();
            setupSave();
            setupSaveText();
        });

        // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
        function goBack() { return false; }
        function goNext() { window.history.forward(); }

        // indexmanager.html ë‚´ë¶€ JavaScriptì— ì¶”ê°€í•  í•¨ìˆ˜
        async function loadBannerSlot(page, position, els) {
            try {
                const res = await fetch(`/manager/ad/slot?page=${page}&position=${position}`);
                if (!res.ok) {
                    console.warn("ìŠ¬ë¡¯ ë¡œë“œ ì‹¤íŒ¨:", page, position, res.status);
                    // ì„œë²„ ì—ëŸ¬ì¼ ë•ŒëŠ” ê·¸ëƒ¥ no-imageë§Œ ì„¸íŒ…í•˜ê³  ë
                    if (els.img) els.img.src = "/no-image.png";
                    return;
                }

                const data = await res.json();

                if (!data || !data.ok || !data.slot) {
                    // ìŠ¬ë¡¯ì´ ì•„ì§ ë“±ë¡ ì•ˆ ëœ ìƒíƒœ
                    if (els.img) els.img.src = "/no-image.png";
                    if (els.text) els.text.textContent = "";
                    return;
                }

                const slot = data.slot;

                if (els.img) {
                    els.img.src = slot.image_url || "/no-image.png";
                }
                if (els.link) {
                    if (slot.link_url) {
                        els.link.href = slot.link_url;
                        els.link.target = "_blank";
                    } else {
                        els.link.removeAttribute("href");
                    }
                }
                if (els.text) {
                    els.text.textContent = slot.text_content || "";
                }

            } catch (err) {
                console.error("loadBannerSlot error:", err);
                if (els.img) els.img.src = "/no-image.png";
            }
        }
    </script>

</body>

</html>
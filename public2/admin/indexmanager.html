<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MALL HANKOOK ë©”ì¸ ë ˆì´ì•„ì›ƒ ê´€ë¦¬ì | indexmanager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', system-ui, -apple-system, BlinkMacSystemFont,
                'Segoe UI', sans-serif;
        }

        .neo-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 1rem;
            box-shadow:
                6px 6px 12px rgba(0, 0, 0, 0.15),
                -6px -6px 12px rgba(255, 255, 255, 0.9);
            transition: all 0.3s ease;
        }

        .neo-card:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow:
                10px 10px 20px rgba(0, 0, 0, 0.2),
                -6px -6px 12px rgba(255, 255, 255, 1);
        }

        .slot-banner {
            position: relative;
            overflow: hidden;
        }

        .slot-banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slot-banner .slot-default {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        /* ê´€ë¦¬ì ëª¨ë‹¬ ê³µí†µ */
        .modal-bg {
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        .badge-ad {
            background: rgba(59, 130, 246, 0.12);
            color: #1d4ed8;
        }

        .badge-img {
            background: rgba(34, 197, 94, 0.12);
            color: #15803d;
        }

        .badge-info {
            background: rgba(148, 163, 184, 0.16);
            color: #475569;
        }
    </style>
</head>

<body class="bg-white text-gray-800">

    <!-- ìƒë‹¨ ê´€ë¦¬ì ì•ˆë‚´ ë  -->
    <header class="w-full border-b border-slate-200/70 bg-slate-50/80 backdrop-blur sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-2 flex items-center justify-between text-xs">
            <div class="flex items-center gap-2">
                <span
                    class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-[11px] font-bold">ADM</span>
                <div>
                    <p class="font-semibold text-slate-700">MALL HANKOOK Â· ë©”ì¸ ë ˆì´ì•„ì›ƒ ê´€ë¦¬ì</p>
                    <p class="text-[11px] text-slate-500">index.html í™”ë©´ì˜ ê´‘ê³ /ì´ë¯¸ì§€/í…ìŠ¤íŠ¸ ìŠ¬ë¡¯ì„ ì„¤ì •í•©ë‹ˆë‹¤. (í´ë¦­í•˜ë©´
                        ëª¨ë‹¬ ì—´ë¦¼)</p>
                </div>
            </div>
            <div class="hidden sm:flex flex-col items-end gap-0.5 text-[10px] text-slate-500">
                <span>page = <span class="font-mono font-semibold text-slate-800">"index"</span></span>
                <span>router: <span class="font-mono">/manager/ad/*</span></span>
            </div>
        </div>
    </header>

    <!-- í—¤ë” (ê¸°ì¡´ ì‚¬ìš©ì í—¤ë” ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´ ìœ ì§€) -->
    <div id="header-placeholder"></div>

    <!-- â‘  ìƒë‹¨ ë ë°°ë„ˆ -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 mt-16">
        <div id="slot_index_main_top"
            class="neo-card h-28 flex flex-col items-center justify-center text-center cursor-pointer slot-banner js-slot"
            data-page="index" data-position="index_main_top" data-label="ìƒë‹¨ ë ë°°ë„ˆ">
            <img class="slot-img hidden rounded-lg" alt="ê´‘ê³ ">
            <div class="slot-default">
                <div>
                    <p class="text-lg sm:text-xl md:text-2xl font-bold">ë„¤ì´ë²„ì— ìƒˆì§‘ë§ˆë ¨</p>
                    <p class="text-gray-600 text-sm sm:text-base">ë‚´ ì·¨í–¥ì„ ê¸°ë¡í•  ìƒˆë¡œìš´ ê³µê°„</p>
                </div>
            </div>
        </div>
    </div>

    <!-- â‘¡ ë©”ì¸ ë¹„ì£¼ì–¼ + â‘¢â‘£â‘¤ í”„ë¡œëª¨ 1/2/3 -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-8 grid grid-cols-1 md:grid-cols-3 gap-6 h-[500px] mt-10">
        <!-- ì¢Œì¸¡ ë©”ì¸ ë°°ë„ˆ -->
        <div class="md:col-span-2 h-full">
            <div id="slot_index_main_visual"
                class="rounded-lg shadow-md overflow-hidden h-full slot-banner cursor-pointer js-slot" data-page="index"
                data-position="index_main_visual" data-label="ë©”ì¸ ë¹„ì£¼ì–¼ ë°°ë„ˆ">
                <img class="slot-img hidden" alt="ë©”ì¸ ë°°ë„ˆ">
                <div class="slot-default bg-gray-100">
                    <img src="/uploads/main-banner.png" alt="ë©”ì¸ ë°°ë„ˆ" class="w-full h-full object-cover">
                </div>
            </div>
        </div>

        <!-- ìš°ì¸¡ í”„ë¡œëª¨ 1/2/3 -->
        <div class="flex flex-col gap-4 h-full">
            <div id="slot_index_promo_1" class="flex-1 cursor-pointer slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_promo_1" data-label="í”„ë¡œëª¨ì…˜ 1ë²ˆ">
                <img class="slot-img hidden" alt="í”„ë¡œëª¨ 1">
                <div class="slot-default bg-gray-200 h-full">Promo 1</div>
            </div>
            <div id="slot_index_promo_2" class="flex-1 cursor-pointer slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_promo_2" data-label="í”„ë¡œëª¨ì…˜ 2ë²ˆ">
                <img class="slot-img hidden" alt="í”„ë¡œëª¨ 2">
                <div class="slot-default bg-gray-200 h-full">Promo 2</div>
            </div>
            <div id="slot_index_promo_3" class="flex-1 cursor-pointer slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_promo_3" data-label="í”„ë¡œëª¨ì…˜ 3ë²ˆ">
                <img class="slot-img hidden" alt="í”„ë¡œëª¨ 3">
                <div class="slot-default bg-gray-200 h-full">Promo 3</div>
            </div>
        </div>
    </section>

    <!-- â‘¥ ìƒë‹¨ ì„œë¸Œ ë°•ìŠ¤ (ê²€ìƒ‰ì–´/ìµœì‹ ì†Œì‹/ì´ë²¤íŠ¸/ì¶”ì²œ) -->
    <section
        class="max-w-7xl mx-auto px-4 sm:px-6 py-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-center">
        <div>
            <h3 class="font-bold text-xl sm:text-2xl mb-2">ê²€ìƒ‰ì–´</h3>
            <a href="search.html">
                <div id="slot_index_sub_keywords" class="neo-card min-h-28 p-4 cursor-pointer js-text-slot"
                    data-page="index" data-position="index_sub_keywords" data-slot-type="text" data-label="ê²€ìƒ‰ì–´ ë°•ìŠ¤">
                    <div class="slot-default-text"></div>
                </div>
            </a>
        </div>
        <div>
            <h3 class="font-bold text-xl sm:text-2xl mb-2">ìµœì‹  ì†Œì‹</h3>
            <a href="news.html">
                <div id="slot_index_sub_news" class="neo-card min-h-28 p-4 cursor-pointer js-text-slot"
                    data-page="index" data-position="index_sub_news" data-slot-type="text" data-label="ìµœì‹  ì†Œì‹ ë°•ìŠ¤">
                    <div class="slot-default-text"></div>
                </div>
            </a>
        </div>
        <div>
            <h3 class="font-bold text-xl sm:text-2xl mb-2">ì´ë²¤íŠ¸ ì •ë³´</h3>
            <div id="slot_index_sub_events" class="neo-card min-h-28 p-4 cursor-pointer js-text-slot" data-page="index"
                data-position="index_sub_events" data-slot-type="text" data-label="ì´ë²¤íŠ¸ ì •ë³´ ë°•ìŠ¤">
                <div class="slot-default-text"></div>
            </div>
        </div>
        <div>
            <h3 class="font-bold text-xl sm:text-2xl mb-2">ì¶”ì²œ ì œí’ˆ</h3>
            <a href="recommend.html">
                <div id="slot_index_sub_recommends" class="neo-card min-h-28 p-4 cursor-pointer js-text-slot"
                    data-page="index" data-position="index_sub_recommends" data-slot-type="text" data-label="ì¶”ì²œ ì œí’ˆ ë°•ìŠ¤">
                    <div class="slot-default-text"></div>
                </div>
            </a>
        </div>
    </section>

    <!-- â‘¦ Best Pick (ìŠ¬ë¡¯ì´ ì•„ë‹ˆë¼ API/ë³„ë„ ê´€ë¦¬ ì˜ì—­ìœ¼ë¡œ ìœ ì§€) -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-10">
        <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-center">Best Pick</h2>
        <div id="bestViewport" class="relative overflow-hidden">
            <div id="bestTrack" class="flex transition-transform duration-500 ease-in-out will-change-transform">
                <div class="flex justify-center gap-6 w-full">
                    <!-- placeholder 6ê°œ -->
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                    <div class="w-32 sm:w-40 text-center">
                        <div class="neo-card w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden mx-auto">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg text-gray-400">ìƒí˜¸ëª…</p>
                        <p class="text-xs sm:text-sm text-gray-400">ì—…ì¢…</p>
                    </div>
                </div>
            </div>
            <button id="bestPrev"
                class="absolute left-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2 z-10">â€¹</button>
            <button id="bestNext"
                class="absolute right-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2 z-10">â€º</button>
        </div>
    </section>

    <!-- â‘§ ìš°ë¦¬ë™ë„¤ í•œë§ˆë”” -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-6">
        <div class="w-[73%] mx-auto">
            <div id="slot_index_oneword"
                class="neo-card h-28 sm:h-32 rounded-2xl flex flex-col items-center justify-center p-5 shadow-xl border-2 border-blue-400 cursor-pointer js-text-slot"
                data-page="index" data-position="index_oneword" data-slot-type="text" data-label="ìš°ë¦¬ë™ë„¤ í•œë§ˆë””">
                <div class="text-2xl sm:text-3xl font-semibold mb-3 text-blue-600">ğŸ“ ìš°ë¦¬ë™ë„¤ í•œë§ˆë””</div>
                <p id="oneword-content"
                    class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 text-center leading-tight">
                    ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
        </div>
    </section>

    <!-- â‘¨ ê¸°ëŠ¥ ì§„ì… ì¹´ë“œë“¤ -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-10 grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div class="grid grid-rows-2 gap-4">
            <a href="foodcategory.html" id="slot_index_food_delivery"
                class="slot-banner rounded-lg overflow-hidden js-slot" data-page="index"
                data-position="index_food_delivery" data-label="í™ë³´ì˜ ë°°ë‹¬ ì§„ì… ì¹´ë“œ">
                <img class="slot-img hidden" alt="í™ë³´ì˜ ë°°ë‹¬">
                <div class="slot-default bg-gray-200 h-32 sm:h-full hover:bg-gray-300">í™ë³´ì˜ ë°°ë‹¬</div>
            </a>
            <a href="ncategory2.html" id="slot_index_all_stores" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_all_stores" data-label="ìš°ë¦¬ë™ë„¤ ëª¨ë“ ê°€ê²Œ ì§„ì… ì¹´ë“œ">
                <img class="slot-img hidden" alt="ìš°ë¦¬ë™ë„¤ ëª¨ë“ ê°€ê²Œ">
                <div class="slot-default bg-gray-200 h-32 sm:h-full hover:bg-gray-300">ìš°ë¦¬ë™ë„¤ ëª¨ë“ ê°€ê²Œ</div>
            </a>
        </div>
        <div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4">
            <a href="hot.html" id="slot_index_hot_place" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_hot_place" data-label="ê°€ì¥ HOTí•œ ìš°ë¦¬ë™ë„¤">
                <img class="slot-img hidden" alt="ê°€ì¥ HOTí•œ ìš°ë¦¬ë™ë„¤">
                <div class="slot-default bg-gray-200 aspect-[4/3]">ê°€ì¥ HOTí•œ ìš°ë¦¬ë™ë„¤</div>
            </a>
            <a href="suggest.html" id="slot_index_suggest" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_suggest" data-label="í™ë³´ì˜ ì¶”ì²œ">
                <img class="slot-img hidden" alt="í™ë³´ì˜ ì¶”ì²œ">
                <div class="slot-default bg-gray-200 aspect-[4/3]">í™ë³´ì˜ ì¶”ì²œ</div>
            </a>
            <a href="open.html" id="slot_index_open" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_open" data-label="ì˜¤í”ˆ ì˜ˆì •">
                <img class="slot-img hidden" alt="ì˜¤í”ˆ ì˜ˆì •">
                <div class="slot-default bg-gray-200 aspect-[4/3]">ì˜¤í”ˆ ì˜ˆì •</div>
            </a>
            <a href="storepride.html" id="slot_index_store_pride" class="slot-banner rounded-lg overflow-hidden js-slot"
                data-page="index" data-position="index_store_pride" data-label="ê°€ê²Œìë‘">
                <img class="slot-img hidden" alt="ê°€ê²Œìë‘">
                <div class="slot-default bg-gray-200 aspect-[4/3]">ê°€ê²Œìë‘</div>
            </a>
            <a href="traditionalmarket.html" id="slot_index_traditional"
                class="slot-banner rounded-lg overflow-hidden js-slot" data-page="index"
                data-position="index_traditional" data-label="ì „í†µì‹œì¥">
                <img class="slot-img hidden" alt="ì „í†µì‹œì¥">
                <div class="slot-default bg-gray-200 aspect-[4/3]">ì „í†µì‹œì¥</div>
            </a>
            <a href="performingart.html" id="slot_index_performing"
                class="slot-banner rounded-lg overflow-hidden js-slot" data-page="index"
                data-position="index_performing" data-label="ê³µì—°/ì˜ˆìˆ , ì¶•ì œ">
                <img class="slot-img hidden" alt="ê³µì—°/ì˜ˆìˆ , ì¶•ì œ">
                <div class="slot-default bg-gray-200 aspect-[4/3] font-bold">ê³µì—°/ì˜ˆìˆ , ì¶•ì œ</div>
            </a>
        </div>
    </section>

    <!-- â‘©â‘ª ì´ë²¤íŠ¸ / ì§€ì—­ ê²Œì‹œíŒ -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-10 grid grid-cols-1 sm:grid-cols-2 gap-6">
        <a href="event.html" id="slot_index_event" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_event" data-label="ì´ë²¤íŠ¸ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ì´ë²¤íŠ¸">
            <div
                class="slot-default bg-yellow-100 min-h-36 sm:min-h-52 hover:bg-yellow-200 flex items-center justify-center">
                <span class="text-lg font-bold">ì´ë²¤íŠ¸</span>
            </div>
        </a>
        <a href="localboard.html" id="slot_index_localboard" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_localboard" data-label="ì§€ì—­ ê²Œì‹œíŒ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ì§€ì—­ ê²Œì‹œíŒ">
            <div
                class="slot-default bg-blue-100 min-h-36 sm:min-h-52 hover:bg-blue-200 flex items-center justify-center">
                <span class="text-lg font-bold">ì§€ì—­ ê²Œì‹œíŒ</span>
            </div>
        </a>
    </section>

    <!-- â‘«â‘¬ ê³„ì ˆí…Œë§ˆ / ì‹ ê·œ íšŒì› í˜œíƒ -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 py-10 grid grid-cols-1 sm:grid-cols-2 gap-6">
        <a href="season.html" id="slot_index_season" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_season" data-label="ê³„ì ˆí…Œë§ˆ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ê³„ì ˆí…Œë§ˆ">
            <div
                class="slot-default bg-gray-200 min-h-36 sm:min-h-52 hover:bg-gray-300 flex items-center justify-center">
                <span class="text-lg font-bold">ê³„ì ˆí…Œë§ˆ</span>
            </div>
        </a>
        <a href="join.html" id="slot_index_join" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_join" data-label="ì‹ ê·œ íšŒì› í˜œíƒ">
            <img class="slot-img hidden" alt="ì‹ ê·œ íšŒì› í˜œíƒ">
            <div
                class="slot-default bg-gray-200 min-h-36 sm:min-h-52 hover:bg-gray-300 flex flex-col items-center justify-center p-3">
                <span class="text-lg font-bold">ì‹ ê·œ íšŒì› í˜œíƒ</span>
                <p class="text-xs text-gray-600 mt-1 text-center">ì„œë¹„ìŠ¤ ì•ˆì •í™” í›„ ì œê³µë  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
            </div>
        </a>
    </section>

    <!-- â‘® ê³ ê°ì§€ì› ë°•ìŠ¤ -->
    <section
        class="max-w-7xl mx-auto px-4 sm:px-6 py-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 text-center">
        <a href="review.html" id="slot_index_support_review" class="slot-banner rounded-lg overflow-hidden js-slot"
            data-page="index" data-position="index_support_review" data-label="ë¦¬ë·°/í›„ê¸° ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ë¦¬ë·°/í›„ê¸°">
            <div
                class="slot-default bg-gray-200 min-h-28 sm:min-h-40 flex items-center justify-center hover:bg-gray-300">
                <span class="text-lg font-bold">ë¦¬ë·°/í›„ê¸°</span>
            </div>
        </a>
        <div id="slot_index_support_empty" class="slot-banner rounded-lg overflow-hidden js-slot cursor-pointer"
            data-page="index" data-position="index_support_empty" data-label="ì¤‘ì•™ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ì¤‘ì•™ ë°•ìŠ¤">
            <div class="slot-default bg-gray-200 min-h-28 sm:min-h-40 flex items-center justify-center">
                <!-- ë¹ˆ ë°•ìŠ¤ -->
            </div>
        </div>
        <a href="inquiryBoard.html" id="slot_index_support_inquiry"
            class="slot-banner rounded-lg overflow-hidden js-slot" data-page="index"
            data-position="index_support_inquiry" data-label="ë¬¸ì˜ê²Œì‹œíŒ ë°•ìŠ¤">
            <img class="slot-img hidden" alt="ë¬¸ì˜ê²Œì‹œíŒ">
            <div
                class="slot-default bg-gray-200 min-h-28 sm:min-h-40 hover:bg-gray-300 flex flex-col items-center justify-center p-3">
                <h4 class="font-bold text-base">ë¬¸ì˜ê²Œì‹œíŒ (Q&A)</h4>
                <p class="text-xs text-gray-600 mt-1 text-center">ê¶ê¸ˆí•œ ì ì„ ë‚¨ê²¨ì£¼ì„¸ìš”</p>
            </div>
        </a>
    </section>

    <!-- D2C ì˜ì—­ (ìŠ¬ë¡¯ë§Œ ë¯¸ë¦¬ ì¡ì•„ë‘ , í™”ë©´ì—ëŠ” ì•ˆ ë³´ì¼ ìˆ˜ ìˆìŒ) -->
    <div id="slot_index_d2c_banner" class="hidden js-slot" data-page="index" data-position="index_d2c_banner"
        data-label="D2C ìƒë‹¨ ë°°ë„ˆ"></div>
    <div id="slot_index_d2c_shop" class="hidden js-slot" data-page="index" data-position="index_d2c_shop"
        data-label="D2C ì‡¼í•‘ ë°•ìŠ¤"></div>

    <!-- í‘¸í„° -->
    <div id="footer-placeholder"></div>

    <!-- ì˜¤ë¥¸ìª½ í•˜ë‹¨ ë„¤ë¹„ -->
    <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">
        <div class="flex flex-col items-center">
            <button onclick="goBack()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow">â†</button>
            <span class="text-xs mt-1">ì´ì „</span>
        </div>
        <div class="flex flex-col items-center">
            <button onclick="goNext()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow">â†’</button>
            <span class="text-xs mt-1">ë‹¤ìŒ</span>
        </div>
        <div class="flex flex-col items-center">
            <a href="/index.html"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow">ğŸ </a>
            <span class="text-xs mt-1">í™ˆ</span>
        </div>
    </div>

    <!-- ======================== -->
    <!-- ğŸ› ê´‘ê³ /ì´ë¯¸ì§€/í…ìŠ¤íŠ¸ ë“±ë¡ ëª¨ë‹¬ -->
    <!-- ======================== -->

    <!-- ì´ë¯¸ì§€/ê°€ê²Œ ì—°ê²° ëª¨ë‹¬ (ì´ì „ ìŠ¤íƒ€ì¼ ë³µêµ¬ ë²„ì „) -->
    <div id="adModal" class="fixed inset-0 bg-black/40 modal-bg hidden justify-center items-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-7 max-w-2xl w-full border border-slate-200">
            <!-- í—¤ë” ì˜ì—­ -->
            <div class="flex items-start justify-between mb-4">
                <div>
                    <h2 id="modalTitle" class="text-lg font-bold mb-1">ìŠ¬ë¡¯ ì„¤ì •</h2>
                    <p class="text-xs text-slate-500">
                        ì¸ë±ìŠ¤ ë©”ì¸ì˜ ì„ íƒëœ ì˜ì—­ì— ë…¸ì¶œë  ê´‘ê³ /ì´ë¯¸ì§€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
                        <span id="slotInfo" class="ml-1 font-mono text-[11px] text-slate-400"></span>
                    </p>
                </div>
                <button type="button" class="text-slate-400 hover:text-slate-600 text-xl leading-none"
                    onclick="document.getElementById('adModal').classList.add('hidden');document.getElementById('adModal').classList.remove('flex');">
                    Ã—
                </button>
            </div>

            <!-- â˜… ì‹¤ì œ ì „ì†¡ë˜ëŠ” í¼: ì´ë¦„ë“¤ì€ ì„œë²„(indexmanagerAdController)ì—ì„œ ê¸°ëŒ€í•˜ëŠ” ê°’ ê·¸ëŒ€ë¡œ ìœ ì§€ â˜… -->
            <form id="slotForm" enctype="multipart/form-data" class="space-y-5">
                <!-- ê¸°ë³¸ ì •ë³´ (hidden) -->
                <input type="hidden" name="page" value="index" />
                <input type="hidden" name="position" value="" />

                <!-- ìŠ¬ë¡¯ íƒ€ì… -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">ìŠ¬ë¡¯ íƒ€ì…</label>
                    <select name="slotType" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm">
                        <option value="banner">ë°°ë„ˆ (ì´ë¯¸ì§€)</option>
                        <option value="text">í…ìŠ¤íŠ¸</option>
                    </select>
                </div>

                <!-- ì„¤ì • ë°©ì‹ (ì˜ˆì „ì²˜ëŸ¼ ì§ì ‘ ì„¤ì • / ê°€ê²Œ ìë™ì—°ê²° í† ê¸€) -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ì„¤ì • ë°©ì‹</label>
                    <div class="inline-flex rounded-full bg-slate-100 p-1 text-xs gap-1">
                        <label
                            class="inline-flex items-center gap-1 px-3 py-1 rounded-full bg-white shadow-sm cursor-pointer">
                            <input type="radio" id="modeCustom" name="slotMode" value="custom" class="accent-blue-600"
                                checked />
                            <span>ì§ì ‘ ì„¤ì •</span>
                        </label>
                        <label class="inline-flex items-center gap-1 px-3 py-1 rounded-full cursor-pointer">
                            <input type="radio" id="modeStore" name="slotMode" value="auto" class="accent-blue-600" />
                            <span>ê°€ê²Œ ìë™ ì—°ê²°</span>
                        </label>
                    </div>
                </div>

                <!-- ğŸ”µ ì§ì ‘ ì„¤ì • ì˜ì—­ (ì»¤ìŠ¤í…€ ëª¨ë“œ) -->
                <div id="customModeFields" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">ì´ë¯¸ì§€ íŒŒì¼</label>
                        <input type="file" name="image" accept="image/*"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" />
                        <p class="mt-1 text-[11px] text-slate-400">
                            ê¶Œì¥: 1200Ã—400 ì´ìƒ JPG/PNG
                        </p>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">í´ë¦­ ì‹œ ì´ë™í•  ë§í¬(URL)</label>
                        <input type="text" name="linkUrl" placeholder="ì˜ˆ) https://www.hongbono1.com/xxxx"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" />
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">ë³´ì¡° í…ìŠ¤íŠ¸(ì„ íƒ)</label>
                        <textarea name="textContent" rows="3" placeholder="ë°°ë„ˆ ìœ„ì— í•¨ê»˜ í‘œì‹œí•  ë¬¸êµ¬ê°€ ìˆë‹¤ë©´ ì…ë ¥í•˜ì„¸ìš”."
                            class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm"></textarea>
                    </div>
                </div>

                <!-- ğŸŸ¢ ê°€ê²Œ ìë™ ì—°ê²° ì˜ì—­ (store ëª¨ë“œ) -->
                <div id="storeModeFields" class="space-y-4 hidden">
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ê°€ê²Œ ID</label>
                            <input type="text" name="storeId" placeholder="ì˜ˆ) 12"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" />
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì‚¬ì—…ìë²ˆí˜¸</label>
                            <input type="text" name="businessNo" placeholder="123-45-67890"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" />
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ìƒí˜¸ëª…</label>
                            <input type="text" name="businessName" placeholder="ìƒí˜¸ëª…"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" />
                        </div>
                    </div>
                    <p class="text-[11px] text-slate-400">
                        ì¶”í›„ ê°€ê²Œ ì •ë³´ í…Œì´ë¸”ê³¼ ì—°ë™í•˜ì—¬ ìë™ìœ¼ë¡œ ë°°ë„ˆ ì´ë¯¸ì§€/ë§í¬ë¥¼ ì±„ìš°ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.
                    </p>
                </div>

                <!-- ë…¸ì¶œ ê¸°ê°„ -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">ë…¸ì¶œ ì‹œì‘ì¼</label>
                        <input type="date" name="startDate"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" />
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">ë…¸ì¶œ ì¢…ë£Œì¼</label>
                        <input type="date" name="endDate"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" />
                    </div>
                </div>

                <!-- ë²„íŠ¼ë“¤ -->
                <div class="flex justify-end gap-2 pt-3">
                    <button type="button"
                        class="px-4 py-2 text-sm text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200"
                        onclick="document.getElementById('adModal').classList.add('hidden');document.getElementById('adModal').classList.remove('flex');">
                        ì·¨ì†Œ
                    </button>
                    <button type="submit" class="px-4 py-2 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700">
                        ì €ì¥
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ================================
        // ê³µí†µ ìƒìˆ˜ / ê¸°ë³¸ ë°ì´í„°
        // ================================
        const DEFAULT_DATA = {
            keywords: ["ê²€ìƒ‰ì–´1", "ê²€ìƒ‰ì–´2", "ê²€ìƒ‰ì–´3", "ê²€ìƒ‰ì–´4", "ê²€ìƒ‰ì–´5"],
            news: ["ì‹ ì œí’ˆ ì¶œì‹œ", "ì—…ë°ì´íŠ¸ ì†Œì‹", "ê³µì§€ì‚¬í•­", "ì ê²€ ì•ˆë‚´", "ì„œë¹„ìŠ¤ ê°œì„ "],
            events: ["ë´„ë§ì´ ì„¸ì¼", "íšŒì› ì „ìš© ì¿ í°", "í¬ì¸íŠ¸ 2ë°° ì ë¦½", "ì‹ ê·œ ê°€ì… ì´ë²¤íŠ¸", "ë¦¬ë·° ì‘ì„± ì´ë²¤íŠ¸"],
            recommends: ["ì¶”ì²œ ìƒí’ˆ A", "ì¶”ì²œ ìƒí’ˆ B", "ì¶”ì²œ ìƒí’ˆ C", "ì¶”ì²œ ìƒí’ˆ D", "ì¶”ì²œ ìƒí’ˆ E"]
        };

        function renderDefaultList(container, items) {
            const target = container.querySelector(".slot-default-text") || container;
            target.innerHTML = items
                .map(t => `<p class="text-xl leading-relaxed tracking-wide">${t}</p>`)
                .join("");
        }

        // ================================
        // ë°°ë„ˆ ìŠ¬ë¡¯ ë¡œë“œ (ì´ë¯¸ì§€)
        // ================================
        async function loadAllBannerSlots() {
            const slotEls = document.querySelectorAll(".js-slot");
            const tasks = Array.from(slotEls).map(async (slotEl) => {
                const page = slotEl.dataset.page || "index";
                const position = slotEl.dataset.position || "";
                if (!position) return;

                const img = slotEl.querySelector(".slot-img");
                const defaultEl = slotEl.querySelector(".slot-default");

                try {
                    const res = await fetch(`/manager/ad/slot?page=${encodeURIComponent(page)}&position=${encodeURIComponent(position)}`);
                    if (!res.ok) return;

                    const json = await res.json();
                    const slot = json && json.ok ? json.slot : null;

                    if (slot && slot.image_url && img) {
                        img.src = slot.image_url;
                        img.classList.remove("hidden");
                        if (defaultEl) defaultEl.classList.add("hidden");
                    }
                } catch (err) {
                    console.error(`ìŠ¬ë¡¯ ë¡œë“œ ì‹¤íŒ¨ [${page}/${position}]`, err);
                }
            });

            await Promise.all(tasks);
        }

        // ================================
        // í…ìŠ¤íŠ¸ ìŠ¬ë¡¯ ë¡œë“œ
        // ================================
        function getDefaultTexts(position) {
            switch (position) {
                case "index_sub_keywords":
                    return DEFAULT_DATA.keywords;
                case "index_sub_news":
                    return DEFAULT_DATA.news;
                case "index_sub_events":
                    return DEFAULT_DATA.events;
                case "index_sub_recommends":
                    return DEFAULT_DATA.recommends;
                default:
                    return null;
            }
        }

        async function loadAllTextSlots() {
            const textSlots = document.querySelectorAll(".js-text-slot");

            for (const slotEl of textSlots) {
                const page = slotEl.dataset.page || "index";
                const position = slotEl.dataset.position || "";
                const target = slotEl.querySelector(".slot-default-text") || slotEl;

                try {
                    const res = await fetch(`/manager/ad/text/get?page=${encodeURIComponent(page)}&position=${encodeURIComponent(position)}`);
                    if (res.ok) {
                        const data = await res.json();
                        if (data && data.ok && data.slot && data.slot.text_content) {
                            target.textContent = data.slot.text_content;
                            continue;
                        }
                    }
                } catch (err) {
                    console.error("í…ìŠ¤íŠ¸ ìŠ¬ë¡¯ ë¡œë“œ ì˜¤ë¥˜:", page, position, err);
                }

                // ë“±ë¡ëœ í…ìŠ¤íŠ¸ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ë Œë”ë§
                const defaults = getDefaultTexts(position);
                if (defaults && defaults.length > 0) {
                    renderDefaultList(slotEl, defaults);
                } else {
                    target.textContent = "";
                }
            }
        }

        // ================================
        // ìš°ë¦¬ë™ë„¤ í•œë§ˆë””
        // ================================
        async function loadOneWord() {
            const contentEl = document.getElementById("oneword-content");
            if (!contentEl) return;

            try {
                // 1) ê´€ë¦¬ì í…ìŠ¤íŠ¸ ìŠ¬ë¡¯ ìš°ì„ 
                const slotRes = await fetch("/manager/ad/text/get?page=index&position=index_oneword");
                if (slotRes.ok) {
                    const slotJson = await slotRes.json();
                    if (slotJson.ok && slotJson.text && slotJson.text.content) {
                        contentEl.innerHTML = slotJson.text.content;
                        return;
                    }
                }

                // 2) APIì—ì„œ ê°€ì ¸ì˜¤ê¸°
                const userRegion = localStorage.getItem("userRegion") || "ì˜ì •ë¶€";
                const onewordRes = await fetch(`/api/oneword?region=${encodeURIComponent(userRegion)}`);

                if (onewordRes.ok) {
                    const onewordData = await onewordRes.json();
                    let displayMessage = onewordData.message;

                    if (onewordData.keyword) {
                        displayMessage = displayMessage.replace(
                            `'${onewordData.keyword}'`,
                            `<span class="text-orange-500">'${onewordData.keyword}'</span>`
                        );
                    }
                    contentEl.innerHTML = displayMessage;
                } else {
                    contentEl.textContent = "ìš°ë¦¬ë™ë„¤ê°€ ì˜¤ëŠ˜ì€ ì°¨ë¶„í•œ í•˜ë£¨ë„¤ìš” ğŸ™‚";
                }

            } catch (err) {
                console.error("ìš°ë¦¬ë™ë„¤ í•œë§ˆë”” ë¡œë“œ ì‹¤íŒ¨:", err);
                contentEl.textContent = "ìš°ë¦¬ë™ë„¤ê°€ ì˜¤ëŠ˜ì€ ì°¨ë¶„í•œ í•˜ë£¨ë„¤ìš” ğŸ™‚";
            }
        }

        // ================================
        // Best Pick
        // ================================
        async function loadBestPick() {
            let allStores = [];
            try {
                const res = await fetch("/api/best-pick");
                if (res.ok) {
                    allStores = await res.json();
                }
            } catch (e) {
                console.error("Best Pick API ìš”ì²­ ì‹¤íŒ¨", e);
            }

            if (!allStores || allStores.length === 0) {
                allStores = Array.from({ length: 18 }, (_, i) => ({
                    id: i + 1,
                    name: `ìƒ˜í”Œ ${i + 1}`,
                    category: "ì—…ì¢…",
                    image: "/uploads/no-image.png"
                }));
            }

            const track = document.getElementById("bestTrack");
            let index = 0;
            let groups = [];

            function shuffle(array) {
                return array.sort(() => 0.5 - Math.random());
            }

            function makeGroups() {
                const shuffled = shuffle([...allStores]);
                const result = [];
                for (let i = 0; i < shuffled.length; i += 6) {
                    result.push(shuffled.slice(i, i + 6));
                }
                return result;
            }

            function createGroup(stores) {
                const group = document.createElement("div");
                group.className = "flex justify-center gap-6 basis-full shrink-0";
                stores.forEach(store => {
                    const card = document.createElement("a");
                    card.href = store.link || `detail.html?id=${store.id}`;
                    card.className = "block text-center w-28 sm:w-40";
                    card.innerHTML = `
                        <div class="neo-card w-28 h-28 sm:w-40 sm:h-40 rounded-full overflow-hidden mx-auto">
                            <img src="${store.image}" alt="${store.name}" class="w-full h-full object-cover">
                        </div>
                        <p class="mt-2 font-bold text-base sm:text-lg">${store.name}</p>
                        <p class="text-xs sm:text-sm text-gray-400">${store.category}</p>
                    `;
                    group.appendChild(card);
                });
                return group;
            }

            function renderGroup() {
                if (index >= groups.length) {
                    groups = makeGroups();
                    index = 0;
                }
                track.innerHTML = "";
                track.appendChild(createGroup(groups[index]));
            }

            function nextSlide() {
                index++;
                renderGroup();
            }

            const nextBtn = document.getElementById("bestNext");
            const prevBtn = document.getElementById("bestPrev");

            if (nextBtn) nextBtn.addEventListener("click", nextSlide);
            if (prevBtn) {
                prevBtn.addEventListener("click", () => {
                    index = index > 0 ? index - 1 : 0;
                    renderGroup();
                });
            }

            setInterval(nextSlide, 4000);
            groups = makeGroups();
            renderGroup();
        }

        // ================================
        // ëª¨ë‹¬ ê´€ë ¨
        // ================================
        function openAdModal(page, position, label) {
            const modal = document.getElementById("adModal");
            const form = document.getElementById("slotForm");
            const title = document.getElementById("modalTitle");

            if (title) {
                title.textContent = `ìŠ¬ë¡¯ ì„¤ì •: ${label}`;
            }

            if (form) {
                const pageInput = form.querySelector("input[name='page']");
                const posInput = form.querySelector("input[name='position']");
                if (pageInput) pageInput.value = page;
                if (posInput) posInput.value = position;

                // ê¸°ë³¸ê°’ ì´ˆê¸°í™” (í•„ìš” ì‹œ)
                const imageInput = form.querySelector("input[name='image']");
                const linkInput = form.querySelector("input[name='linkUrl']");
                const textArea = form.querySelector("textarea[name='textContent']");
                const storeIdInput = form.querySelector("input[name='storeId']");
                const bizNoInput = form.querySelector("input[name='businessNo']");
                const bizNameInput = form.querySelector("input[name='businessName']");
                const startDateInput = form.querySelector("input[name='startDate']");
                const endDateInput = form.querySelector("input[name='endDate']");

                if (imageInput) imageInput.value = "";
                if (linkInput) linkInput.value = "";
                if (textArea) textArea.value = "";
                if (storeIdInput) storeIdInput.value = "";
                if (bizNoInput) bizNoInput.value = "";
                if (bizNameInput) bizNameInput.value = "";

                // ë‚ ì§œ ê¸°ë³¸ê°’ (ì˜¤ëŠ˜ ~ +7ì¼)
                const today = new Date();
                const toYYYYMMDD = (d) => d.toISOString().slice(0, 10);
                const end = new Date(today);
                end.setDate(end.getDate() + 7);

                if (startDateInput && !startDateInput.value) {
                    startDateInput.value = toYYYYMMDD(today);
                }
                if (endDateInput && !endDateInput.value) {
                    endDateInput.value = toYYYYMMDD(end);
                }
            }

            if (modal) {
                modal.classList.remove("hidden");
                modal.classList.add("flex");
            }
        }

        function closeModal() {
            const modal = document.getElementById("adModal");
            if (modal) {
                modal.classList.add("hidden");
                modal.classList.remove("flex");
            }
        }

        function setupAdModalClose() {
            const modal = document.getElementById("adModal");
            if (!modal) return;

            // ë°”ê¹¥ ì˜ì—­ í´ë¦­ ì‹œ ë‹«ê¸°
            modal.addEventListener("click", (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
        }

        function setupTextModalClose() {
            const modal = document.getElementById("textModal");
            const closeBtn = document.getElementById("closeTextModal");

            if (closeBtn) {
                closeBtn.addEventListener("click", () => {
                    modal.classList.add("hidden");
                    modal.classList.remove("flex");
                });
            }

            if (modal) {
                modal.addEventListener("click", (e) => {
                    if (e.target === e.currentTarget) {
                        modal.classList.add("hidden");
                        modal.classList.remove("flex");
                    }
                });
            }
        }

        // ================================
        // ìŠ¬ë¡¯ í´ë¦­ â†’ ëª¨ë‹¬ ì—´ê¸°
        // ================================
        function setupSlotClick() {
            document.addEventListener("click", (e) => {
                const slotEl = e.target.closest(".js-slot, .js-text-slot");
                if (!slotEl) return;

                // a íƒœê·¸ ê¸°ë³¸ ì´ë™ ë§‰ê¸°
                const linkParent = slotEl.closest("a[href]");
                if (linkParent) {
                    e.preventDefault();
                }
                e.preventDefault();

                const page = slotEl.dataset.page || "index";
                const position = slotEl.dataset.position || "";
                const label = slotEl.dataset.label || position || "ì„ íƒëœ ìŠ¬ë¡¯";
                const isTextSlot =
                    slotEl.classList.contains("js-text-slot") ||
                    slotEl.dataset.slotType === "text";

                if (isTextSlot) {
                    // í…ìŠ¤íŠ¸ í¸ì§‘ ëª¨ë‹¬
                    const pageInput = document.getElementById("textSelectedPage");
                    const posInput = document.getElementById("textSelectedPosition");
                    const contentInput = document.getElementById("textContentInput");
                    const titleEl = document.getElementById("textModalTitle");
                    const infoEl = document.getElementById("textSlotInfo");

                    if (pageInput) pageInput.value = page;
                    if (posInput) posInput.value = position;
                    if (titleEl) titleEl.textContent = `í…ìŠ¤íŠ¸ ì„¤ì •: ${label}`;
                    if (infoEl) {
                        infoEl.innerHTML =
                            `index í˜ì´ì§€ì˜ <span class="font-semibold">${position}</span> ìŠ¬ë¡¯ì— í‘œì‹œë  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.`;
                    }

                    const currentTextEl = slotEl.querySelector(".slot-default-text") || slotEl;
                    const currentText = currentTextEl ? currentTextEl.innerText.trim() : "";
                    if (contentInput) contentInput.value = currentText;

                    const textModal = document.getElementById("textModal");
                    if (textModal) {
                        textModal.classList.remove("hidden");
                        textModal.classList.add("flex");
                    }
                } else {
                    // ë°°ë„ˆ/ì´ë¯¸ì§€ ìŠ¬ë¡¯ ëª¨ë‹¬
                    openAdModal(page, position, label);
                }
            });
        }

        // ================================
        // ì €ì¥ (ë°°ë„ˆ ìŠ¬ë¡¯)
        // ================================
        function setupSave() {
            const form = document.getElementById("slotForm");
            if (!form) {
                console.warn("setupSave: slotFormì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.");
                return;
            }

            form.addEventListener("submit", async (e) => {
                e.preventDefault();

                try {
                    const formData = new FormData(form);

                    const response = await fetch("/manager/ad/upload", {
                        method: "POST",
                        body: formData
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const data = await response.json();

                    if (data.ok) {
                        alert("ìŠ¬ë¡¯ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
                        closeModal();
                        // í˜ì´ì§€ ì „ì²´ ìƒˆë¡œê³ ì¹¨ ëŒ€ì‹ , ìŠ¬ë¡¯ë§Œ ë‹¤ì‹œ ë¡œë“œí•´ë„ ë¨
                        await loadAllBannerSlots();
                    } else {
                        throw new Error(data.message || "ì €ì¥ ì‹¤íŒ¨");
                    }

                } catch (err) {
                    console.error("ìŠ¬ë¡¯ ì €ì¥ ì˜¤ë¥˜:", err);
                    alert(`ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${err.message}`);
                }
            });
        }

        // ================================
        // ì €ì¥ (í…ìŠ¤íŠ¸ ìŠ¬ë¡¯)
        // ================================
        function setupSaveText() {
            const btn = document.getElementById("saveTextBtn");
            if (!btn) return;

            btn.addEventListener("click", async () => {
                const pageInput = document.getElementById("textSelectedPage");
                const posInput = document.getElementById("textSelectedPosition");
                const contentInput = document.getElementById("textContentInput");

                const page = pageInput ? pageInput.value || "index" : "index";
                const position = posInput ? posInput.value : "";
                const content = contentInput ? contentInput.value.trim() : "";

                if (!page || !position) {
                    alert("ìŠ¬ë¡¯ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.");
                    return;
                }
                if (!content) {
                    alert("í‘œì‹œí•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    return;
                }

                const body = { page, position, content };

                try {
                    const res = await fetch("/manager/ad/text/save", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(body),
                    });
                    const data = await res.json();
                    if (data.ok) {
                        alert("í…ìŠ¤íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");

                        const textModal = document.getElementById("textModal");
                        if (textModal) {
                            textModal.classList.add("hidden");
                            textModal.classList.remove("flex");
                        }

                        // í™”ë©´ì—ë„ ë°”ë¡œ ë°˜ì˜
                        const target = document.querySelector(
                            `.js-text-slot[data-page="${page}"][data-position="${position}"] .slot-default-text`
                        );
                        if (target) target.innerHTML = content;
                    } else {
                        alert("ì˜¤ë¥˜: " + (data.message || "ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."));
                    }
                } catch (err) {
                    console.error(err);
                    alert("ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                }
            });
        }

        // ================================
        // ê¸°íƒ€ ë„¤ë¹„ê²Œì´ì…˜
        // ================================
        function goBack() { window.history.back(); }
        function goNext() { window.history.forward(); }
        window.goBack = goBack;
        window.goNext = goNext;
        window.closeModal = closeModal; // HTML onclickìš©

        // ================================
        // ğŸš€ ì´ˆê¸°í™”
        // ================================
        document.addEventListener("DOMContentLoaded", async () => {
            // Header/Footer ë¡œë“œ
            fetch("/components/header.html")
                .then(r => r.text())
                .then(d => {
                    const el = document.getElementById("header-placeholder");
                    if (el) el.innerHTML = d;
                });

            fetch("/components/footer.html")
                .then(r => r.text())
                .then(d => {
                    const el = document.getElementById("footer-placeholder");
                    if (el) el.innerHTML = d;
                });

            // ìŠ¬ë¡¯ ë¡œë“œ
            await loadAllBannerSlots();
            await loadAllTextSlots();

            // ìš°ë¦¬ë™ë„¤ í•œë§ˆë””
            loadOneWord();

            // Best Pick
            loadBestPick();

            // ê´€ë¦¬ììš© ê¸°ëŠ¥ ì„¸íŒ…
            setupSlotClick();
            setupAdModalClose();
            setupTextModalClose();
            setupSave();
            setupSaveText();
        });
    </script>


</body>

</html>
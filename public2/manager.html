<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MALL HANKOOK | 메인 레이아웃 광고/이미지 관리자</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', system-ui, -apple-system, BlinkMacSystemFont,
                'Segoe UI', sans-serif;
        }

        .neo-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 1rem;
            box-shadow:
                6px 6px 16px rgba(0, 0, 0, 0.12),
                -6px -6px 16px rgba(255, 255, 255, 0.95);
            transition: all 0.25s ease;
        }

        .neo-card:hover {
            transform: translateY(-3px);
            box-shadow:
                10px 10px 22px rgba(0, 0, 0, 0.2),
                -8px -8px 18px rgba(255, 255, 255, 1);
        }

        .slot-card {
            transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease,
                background-color .2s ease;
        }

        .slot-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 22px rgba(15, 23, 42, 0.16);
            border-color: rgba(59, 130, 246, 0.8);
            background-color: rgba(239, 246, 255, 0.85);
        }

        .layout-bg {
            background:
                radial-gradient(circle at top left, #dbeafe 0, transparent 55%),
                radial-gradient(circle at bottom right, #fef3c7 0, transparent 55%);
        }

        .badge-ad {
            background: rgba(59, 130, 246, 0.12);
            color: #1d4ed8;
        }

        .badge-img {
            background: rgba(34, 197, 94, 0.12);
            color: #15803d;
        }

        .badge-info {
            background: rgba(148, 163, 184, 0.16);
            color: #475569;
        }

        .modal-bg {
            backdrop-filter: blur(6px);
        }

        .dot {
            width: 42px;
            height: 42px;
            border-radius: 9999px;
            background: linear-gradient(135deg, #e5e7eb, #f9fafb);
            box-shadow:
                inset 2px 2px 4px rgba(148, 163, 184, 0.5),
                inset -2px -2px 4px rgba(255, 255, 255, 0.9);
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-900">

    <!-- 전체 레이아웃 -->
    <div class="flex min-h-screen">

        <!-- 🔵 왼쪽 사이드바 -->
        <aside class="w-64 bg-white/85 backdrop-blur-xl border-r border-slate-200 px-5 py-6 flex flex-col gap-6">
            <div>
                <h1
                    class="text-2xl font-extrabold bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 bg-clip-text text-transparent">
                    MALL HANKOOK
                </h1>
                <p class="mt-1 text-xs text-slate-500">메인(index.html) 레이아웃 관리</p>
            </div>

            <div>
                <p class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide mb-2">
                    페이지 선택
                </p>
                <nav id="pageList" class="space-y-1 text-sm">
                    <!-- JS에서 채움 -->
                </nav>
            </div>

            <div class="mt-auto text-[11px] text-slate-400 leading-relaxed">
                1. 왼쪽에서 <span class="font-semibold">메인 페이지</span>를 선택하고<br>
                2. 오른쪽 레이아웃에서 <span class="font-semibold">박스(슬롯)</span>를 클릭하면<br>
                3. <span class="font-semibold">이미지 + 링크</span>를 등록할 수 있습니다.<br>
                (텍스트 영역도 슬롯으로 지정하여 추후 수정 가능)
            </div>
        </aside>

        <!-- 🟣 오른쪽 메인 -->
        <main class="flex-1 p-6 md:p-8 space-y-6">

            <!-- 상단 타이틀 -->
            <header class="flex items-center justify-between gap-3">
                <div>
                    <h2 id="pageTitle" class="text-2xl font-bold flex items-center gap-2">
                        메인 페이지 레이아웃
                    </h2>
                    <p id="pageDesc" class="text-sm text-slate-500 mt-1">
                        index.html에 있는 박스(배너/이미지/추천/텍스트 영역)를 한눈에 보고, 필요한 위치에 이미지를 등록합니다.
                    </p>
                </div>
            </header>

            <!-- 🧩 메인 페이지 레이아웃 미리보기 -->
            <section class="neo-card layout-bg p-5 md:p-7 border border-slate-200/70 max-w-6xl mx-auto space-y-5">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="text-lg font-semibold">
                        🏠 index.html 메인 레이아웃 미리보기
                    </h3>
                    <div class="flex items-center gap-2 text-[11px]">
                        <span
                            class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 badge-ad border border-blue-200 text-[10px]">
                            ● 광고/배너 슬롯
                        </span>
                        <span
                            class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 badge-img border border-emerald-200 text-[10px]">
                            ● 이미지 배너 슬롯
                        </span>
                        <span
                            class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 badge-info border border-slate-200 text-[10px]">
                            ● 텍스트/정보 슬롯
                        </span>
                    </div>
                </div>

                <div class="space-y-4 text-xs md:text-sm">
                    <!-- 1. 상단 띠배너 -->
                    <div class="slot-card cursor-pointer border border-dashed border-blue-200 rounded-xl p-3 bg-white/85 js-slot"
                        data-page="index" data-position="index_main_top" data-label="상단 띠배너 (네이버 새집마련 자리)">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-semibold">① 상단 띠배너</p>
                                <p class="text-[11px] text-slate-500">
                                    페이지 최상단에 나오는 긴 가로 배너. (네이버에 새집마련 위치)
                                </p>
                            </div>
                            <span
                                class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] badge-ad border border-blue-200">
                                광고/배너 슬롯
                            </span>
                        </div>
                    </div>

                    <!-- 2. 메인 배너 + 우측 프로모 1/2/3 -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3 items-stretch">
                        <!-- 메인 비주얼 배너 -->
                        <div class="md:col-span-2">
                            <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-xl p-3 bg-white/80 flex flex-col justify-between js-slot h-full"
                                data-page="index" data-position="index_main_visual" data-label="메인 큰 배너 (가운데 큰 이미지)">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="font-semibold">② 메인 비주얼 배너</p>
                                        <p class="text-[11px] text-slate-500">
                                            중앙의 큰 이미지 배너. 사이트 대표 이미지/광고용으로 사용.
                                        </p>
                                    </div>
                                    <span
                                        class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] badge-img border border-emerald-200">
                                        이미지 배너 슬롯
                                    </span>
                                </div>
                                <div
                                    class="mt-2 h-24 md:h-28 bg-gradient-to-r from-slate-100 to-slate-200 rounded-lg flex items-center justify-center text-[11px] text-slate-400">
                                    (index.html 중앙 큰 배너 자리)
                                </div>
                            </div>
                        </div>

                        <!-- 우측 프로모 1/2/3 -->
                        <div class="flex flex-col gap-2 h-full">
                            <div class="slot-card cursor-pointer border border-dashed border-blue-200 rounded-xl p-2 bg-white/85 js-slot flex-1"
                                data-page="index" data-position="index_promo_1" data-label="우측 프로모션 1">
                                <div class="flex items-center justify-between">
                                    <span class="font-medium text-[12px]">③ 프로모션 1</span>
                                    <span
                                        class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full">광고/배너</span>
                                </div>
                                <p class="mt-1 text-[11px] text-slate-500">메인 우측 상단 작은 배너 이미지</p>
                            </div>

                            <div class="slot-card cursor-pointer border border-dashed border-blue-200 rounded-xl p-2 bg-white/85 js-slot flex-1"
                                data-page="index" data-position="index_promo_2" data-label="우측 프로모션 2">
                                <div class="flex items-center justify-between">
                                    <span class="font-medium text-[12px]">④ 프로모션 2</span>
                                    <span
                                        class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full">광고/배너</span>
                                </div>
                                <p class="mt-1 text-[11px] text-slate-500">메인 우측 중간 배너 이미지</p>
                            </div>

                            <div class="slot-card cursor-pointer border border-dashed border-blue-200 rounded-xl p-2 bg-white/85 js-slot flex-1"
                                data-page="index" data-position="index_promo_3" data-label="우측 프로모션 3">
                                <div class="flex items-center justify-between">
                                    <span class="font-medium text-[12px]">⑤ 프로모션 3</span>
                                    <span
                                        class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full">광고/배너</span>
                                </div>
                                <p class="mt-1 text-[11px] text-slate-500">메인 우측 하단 배너 이미지</p>
                            </div>
                        </div>
                    </div>

                    <!-- 3. 상단 서브 박스 (검색어/최신소식/이벤트/추천 제품) -->
                    <div class="neo-card border border-slate-200 p-3 bg-white/90">
                        <p class="font-semibold mb-2 text-[13px]">⑥ 상단 서브 박스 (검색어 / 최신소식 / 이벤트 / 추천 제품)</p>
                        <p class="text-[11px] text-slate-500 mb-2">
                            각 박스를 클릭하면, 해당 영역에 사용할 이미지 배너 또는 텍스트/콘텐츠를 설정할 수 있습니다.
                        </p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-[11px]">

                            <!-- 검색어 (텍스트 슬롯) -->
                            <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-text-slot"
                                data-page="index" data-position="index_sub_keywords" data-slot-type="text"
                                data-label="상단 서브: 검색어 박스">
                                <div class="flex items-center justify-between">
                                    <p class="font-semibold mb-1">검색어 박스</p>
                                    <span
                                        class="badge-info text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">텍스트
                                        슬롯</span>
                                </div>
                                <p class="text-slate-500">
                                    이 박스에 들어갈 문구/리스트를 관리자 페이지에서 텍스트로 입력합니다.
                                </p>
                            </div>

                            <!-- 최신 소식 -->
                            <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                data-page="index" data-position="index_sub_news" data-label="상단 서브: 최신 소식 박스">
                                <div class="flex items-center justify-between">
                                    <p class="font-semibold mb-1">최신 소식 박스</p>
                                    <span
                                        class="badge-info text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">텍스트/콘텐츠</span>
                                </div>
                                <p class="text-slate-500">
                                    공지/업데이트/알림 텍스트 또는 이미지 배너 설정.
                                </p>
                            </div>

                            <!-- 이벤트 정보 -->
                            <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                data-page="index" data-position="index_sub_events" data-label="상단 서브: 이벤트 정보 박스">
                                <div class="flex items-center justify-between">
                                    <p class="font-semibold mb-1">이벤트 정보 박스</p>
                                    <span
                                        class="badge-info text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">텍스트/콘텐츠</span>
                                </div>
                                <p class="text-slate-500">
                                    진행 중인 이벤트 요약 텍스트 또는 이미지 배너 설정.
                                </p>
                            </div>

                            <!-- 추천 제품 -->
                            <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                data-page="index" data-position="index_sub_recommends" data-label="상단 서브: 추천 제품 박스">
                                <div class="flex items-center justify-between">
                                    <p class="font-semibold mb-1">추천 제품 박스</p>
                                    <span
                                        class="badge-info text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">텍스트/콘텐츠</span>
                                </div>
                                <p class="text-slate-500">
                                    추천 상품 리스트 또는 간단 이미지 배너 설정.
                                </p>
                            </div>

                        </div>
                    </div>

                    <!-- 4. Best Pick 슬라이더 -->
                    <div class="slot-card cursor-pointer border border-dashed border-blue-300 rounded-xl p-3 bg-white/90 js-slot"
                        data-page="index" data-position="index_bestpick" data-label="Best Pick 슬라이더 (원 6개)">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-semibold">⑦ Best Pick 슬라이더</p>
                                <p class="text-[11px] text-slate-500">
                                    중앙에 동그라미 안에 가게가 <span class="font-semibold">6개</span>씩 돌아가며 보이는 영역.
                                    (현재는 /api/best-pick 기준)
                                </p>
                            </div>
                            <span
                                class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] badge-info border border-blue-200">
                                원 6개 가게 추천
                            </span>
                        </div>
                        <div class="mt-3 flex items-center justify-center gap-2">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                    </div>

                    <!-- 우리동네 한마디 (텍스트 슬롯) -->
                    <div class="slot-card cursor-pointer border border-dashed border-emerald-300 rounded-xl p-3 bg-white/90 js-text-slot"
                        data-page="index" data-position="index_oneword" data-slot-type="text"
                        data-label="우리동네 한마디 텍스트 박스">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-semibold">⑧ 우리동네 한마디</p>
                                <p class="text-[11px] text-slate-500">
                                    여기 문장은 관리자 페이지에서 직접 글로 입력해서 보여주는 영역입니다.
                                </p>
                            </div>
                            <span
                                class="inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] badge-info border border-emerald-200">
                                텍스트 슬롯
                            </span>
                        </div>
                    </div>

                    <!-- 6. 홍보의 배달 / 우리동네 모든가게 / HOT / 추천 / 오픈 / 가게자랑 / 전통시장 / 공연예술 -->
                    <div class="neo-card border border-slate-200 p-3 bg-white/90 space-y-2">
                        <p class="font-semibold text-[13px] mb-1">
                            ⑨ 기능 진입 카드 (이미지 배너) <br class="sm:hidden">
                            <span class="text-[11px] text-slate-500">각 카드마다 이미지를 넣은 후 해당 페이지로 이동시키는 이미지 배너 영역</span>
                        </p>

                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-2 text-[11px]">
                            <!-- 왼쪽 2칸: 홍보의 배달 / 우리동네 모든가게 -->
                            <div class="grid grid-rows-2 gap-2">
                                <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                    data-page="index" data-position="index_food_delivery" data-label="홍보의 배달 이미지 배너">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold">홍보의 배달</span>
                                        <span
                                            class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                            배너</span>
                                    </div>
                                    <p class="mt-1 text-slate-500">
                                        배달 관련 메인 진입용 이미지 배너 + 링크.
                                    </p>
                                </div>

                                <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                    data-page="index" data-position="index_all_stores" data-label="우리동네 모든가게 이미지 배너">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold">우리동네 모든가게</span>
                                        <span
                                            class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                            배너</span>
                                    </div>
                                    <p class="mt-1 text-slate-500">
                                        전체 가게 리스트 진입용 이미지 배너 + 링크.
                                    </p>
                                </div>
                            </div>

                            <!-- 오른쪽 2칸: HOT / 추천 / 오픈 / 가게자랑 / 전통시장 / 공연 -->
                            <div class="lg:col-span-2 grid grid-cols-2 gap-2">
                                <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                    data-page="index" data-position="index_hot_place" data-label="가장 HOT한 우리동네 이미지 배너">
                                    <div class="flex items-center justify-between">
                                        <p class="font-semibold">가장 HOT한 우리동네</p>
                                        <span
                                            class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                            배너</span>
                                    </div>
                                    <p class="mt-1 text-slate-500">핫플레이스 진입용 이미지 배너 + 링크.</p>
                                </div>

                                <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                    data-page="index" data-position="index_suggest" data-label="홍보의 추천 이미지 배너">
                                    <div class="flex items-center justify-between">
                                        <p class="font-semibold">홍보의 추천</p>
                                        <span
                                            class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                            배너</span>
                                    </div>
                                    <p class="mt-1 text-slate-500">추천 가게/콘텐츠 진입 이미지 배너 + 링크.</p>
                                </div>

                                <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                    data-page="index" data-position="index_open" data-label="오픈 예정 이미지 배너">
                                    <div class="flex items-center justify-between">
                                        <p class="font-semibold">오픈 예정</p>
                                        <span
                                            class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                            배너</span>
                                    </div>
                                    <p class="mt-1 text-slate-500">오픈 예정 가게 리스트로 이동하는 이미지 배너.</p>
                                </div>

                                <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                    data-page="index" data-position="index_store_pride" data-label="가게 자랑 이미지 배너">
                                    <div class="flex items-center justify-between">
                                        <p class="font-semibold">가게 자랑</p>
                                        <span
                                            class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                            배너</span>
                                    </div>
                                    <p class="mt-1 text-slate-500">스토어 프라이드 진입용 이미지 배너.</p>
                                </div>

                                <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                    data-page="index" data-position="index_traditional" data-label="전통시장 이미지 배너">
                                    <div class="flex items-center justify-between">
                                        <p class="font-semibold">전통시장</p>
                                        <span
                                            class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                            배너</span>
                                    </div>
                                    <p class="mt-1 text-slate-500">전통시장 소개/목록 진입용 이미지 배너.</p>
                                </div>

                                <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-2 js-slot"
                                    data-page="index" data-position="index_performing" data-label="공연/예술, 축제 이미지 배너">
                                    <div class="flex items-center justify-between">
                                        <p class="font-semibold">공연/예술, 축제</p>
                                        <span
                                            class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                            배너</span>
                                    </div>
                                    <p class="mt-1 text-slate-500">공연/예술 페이지 진입용 이미지 배너.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 7. 이벤트 / 지역 게시판 -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                        <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-xl p-3 bg-white/90 js-slot"
                            data-page="index" data-position="index_event" data-label="이벤트 카드 이미지 배너">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold">⑩ 이벤트</span>
                                <span
                                    class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                    배너</span>
                            </div>
                            <p class="mt-1 text-[11px] text-slate-500">
                                우리동네 이벤트/쿠폰/행사 진입용 이미지 배너.
                            </p>
                        </div>
                        <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-xl p-3 bg-white/90 js-slot"
                            data-page="index" data-position="index_localboard" data-label="지역 게시판 카드 이미지 배너">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold">⑪ 지역 게시판</span>
                                <span
                                    class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                    배너</span>
                            </div>
                            <p class="mt-1 text-[11px] text-slate-500">
                                동네 소식/잡담/공지 게시판 진입용 이미지 배너.
                            </p>
                        </div>
                    </div>

                    <!-- 8. 계절테마 / 신규 회원 혜택 -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                        <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-xl p-3 bg-white/90 js-slot"
                            data-page="index" data-position="index_season" data-label="계절테마 카드 이미지 배너">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold">⑫ 계절테마</span>
                                <span
                                    class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                    배너</span>
                            </div>
                            <p class="mt-1 text-[11px] text-slate-500">
                                제철/계절 컨텐츠 진입용 이미지 배너.
                            </p>
                        </div>
                        <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-xl p-3 bg-white/90 js-slot"
                            data-page="index" data-position="index_join" data-label="신규 회원 혜택 카드 이미지 배너">
                            <div class="flex items-center justify-between">
                                <span class="font-semibold">⑬ 신규 회원 혜택</span>
                                <span
                                    class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                    배너</span>
                            </div>
                            <p class="mt-1 text-[11px] text-slate-500">
                                회원가입 혜택 안내용 이미지 배너.
                            </p>
                        </div>
                    </div>

                    <!-- 9. D2C 쇼핑몰 광고 배너 / 쇼핑몰 들어가기 -->
                    <div class="neo-card border border-slate-200 p-3 bg-white/90">
                        <p class="font-semibold text-[13px] mb-2">⑭ 쇼핑몰 광고 배너 / 쇼핑몰 들어가기</p>
                        <div class="flex flex-col sm:flex-row items-stretch gap-2 text-[11px]">
                            <div class="slot-card cursor-pointer border border-dashed border-blue-200 rounded-lg p-3 flex-1 js-slot"
                                data-page="index" data-position="index_d2c_banner" data-label="쇼핑몰 광고 배너 영역">
                                <div class="flex items-center justify-between">
                                    <span class="font-semibold">쇼핑몰 광고 배너</span>
                                    <span
                                        class="badge-ad text-[10px] border border-blue-200 px-2 py-0.5 rounded-full">광고/배너
                                        슬롯</span>
                                </div>
                                <p class="mt-1 text-slate-500">
                                    브랜드/쇼핑몰 홍보용 텍스트/로고 배너.
                                </p>
                            </div>
                            <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-3 w-full sm:w-64 js-slot"
                                data-page="index" data-position="index_d2c_shop" data-label="쇼핑몰 들어가기 버튼 박스">
                                <div class="flex items-center justify-between">
                                    <span class="font-semibold">쇼핑몰 들어가기</span>
                                    <span
                                        class="badge-img text-[10px] border border-emerald-200 px-2 py-0.5 rounded-full">이미지
                                        배너</span>
                                </div>
                                <p class="mt-1 text-slate-500">클릭 시 쇼핑몰 페이지로 이동하는 이미지 버튼.</p>
                            </div>
                        </div>
                    </div>

                    <!-- 10. 고객지원 3박스 (리뷰 / 중앙 비워짐 / 문의게시판) -->
                    <div class="neo-card border border-slate-200 p-3 bg-white/90">
                        <p class="font-semibold text-[13px] mb-2">⑮ 고객지원 박스 (리뷰 / 중앙 박스 / 문의게시판)</p>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 text-[11px]">
                            <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-3 js-slot"
                                data-page="index" data-position="index_support_review" data-label="리뷰/후기 박스 이미지/텍스트 배너">
                                <p class="font-semibold">리뷰/후기</p>
                                <p class="mt-1 text-slate-500">리뷰/후기 관련 이미지/텍스트 배너.</p>
                            </div>
                            <div class="slot-card cursor-pointer border border-dashed border-slate-200 rounded-lg p-3 js-slot"
                                data-page="index" data-position="index_support_empty" data-label="중앙 빈 박스 (자유 사용)">
                                <p class="font-semibold">(비워둔 중앙 박스)</p>
                                <p class="mt-1 text-slate-500">추후 공지/이벤트/배너 등으로 자유 사용 가능.</p>
                            </div>
                            <div class="slot-card cursor-pointer border border-dashed border-emerald-200 rounded-lg p-3 js-slot"
                                data-page="index" data-position="index_support_inquiry" data-label="문의게시판 카드 이미지 배너">
                                <p class="font-semibold">문의게시판 (Q&A)</p>
                                <p class="mt-1 text-slate-500">문의 작성 페이지 진입용 이미지 배너.</p>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

        </main>
    </div>

    <!-- ======================== -->
    <!-- 광고/이미지/텍스트 등록 모달 -->
    <!-- ======================== -->
    <div id="adModal" class="fixed inset-0 bg-black/40 modal-bg hidden justify-center items-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-7 max-w-lg w-full border border-slate-200">

            <h2 id="modalTitle" class="text-lg font-bold mb-4">
                슬롯 설정
            </h2>

            <form id="adForm" class="space-y-4">
                <!-- 슬롯 설명 -->
                <div class="text-xs text-slate-600 bg-slate-50 border border-slate-100 rounded-lg p-3" id="slotInfo">
                    선택된 슬롯 정보가 여기에 표시됩니다.
                </div>

                <!-- 이미지 업로드 -->
                <div>
                    <label class="block font-semibold mb-1 text-sm">이미지 파일 (선택)</label>
                    <input id="imageInput" type="file" class="w-full border border-slate-300 p-2 rounded-lg text-sm">
                    <p class="text-[11px] text-slate-400 mt-1">
                        배너/카드에 들어갈 이미지를 선택하세요. (이미지 없이 링크/텍스트만 관리하는 용도로도 사용 가능)
                    </p>
                </div>

                <!-- 링크 입력 -->
                <div>
                    <label class="block font-semibold mb-1 text-sm">클릭 시 이동 링크 (선택)</label>
                    <input id="linkInput" type="text" placeholder="https://www.hongbono1.com/detail.html?id=1"
                        class="w-full border border-slate-300 p-2 rounded-lg text-sm">
                    <p class="text-[11px] text-slate-400 mt-1">
                        비워두면 링크 없이 이미지/배너만 표시됩니다.
                    </p>
                </div>

                <input type="hidden" id="selectedPage">
                <input type="hidden" id="selectedPosition">

                <div class="flex justify-end gap-3 pt-3">
                    <button type="button" id="closeModal"
                        class="px-4 py-2 border border-slate-300 rounded-lg text-sm text-slate-600 hover:bg-slate-50">
                        취소
                    </button>
                    <button type="button" id="saveAdBtn"
                        class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow text-sm hover:bg-blue-700">
                        저장
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ======================== -->
    <!-- 🟢 텍스트 입력 전용 모달 -->
    <!-- ======================== -->
    <div id="textModal" class="fixed inset-0 bg-black/40 modal-bg hidden justify-center items-center p-4 z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-7 max-w-lg w-full border border-slate-200">
            <h2 id="textModalTitle" class="text-lg font-bold mb-3">
                텍스트 설정
            </h2>

            <form id="textForm" class="space-y-3">
                <div class="text-xs text-slate-600 bg-slate-50 border border-slate-100 rounded-lg p-3" id="textSlotInfo">
                    상단 서브 박스나 '우리동네 한마디'처럼<br>
                    <span class="font-semibold">글만 들어가는 영역</span>을 설정합니다.
                </div>

                <div>
                    <label class="block font-semibold mb-1 text-sm">표시할 텍스트</label>
                    <textarea id="textContentInput"
                        class="w-full border border-slate-300 rounded-lg p-2 text-sm min-h-[120px]"
                        placeholder="예) 오늘 우리동네는 '붕어빵'이 대세예요! 따끈한 간식, 지금 바로 만나보세요."></textarea>
                </div>

                <input type="hidden" id="textSelectedPage">
                <input type="hidden" id="textSelectedPosition">

                <div class="flex justify-end gap-3 pt-2">
                    <button type="button" id="closeTextModal"
                        class="px-4 py-2 border border-slate-300 rounded-lg text-sm text-slate-600 hover:bg-slate-50">
                        취소
                    </button>
                    <button type="button" id="saveTextBtn"
                        class="px-4 py-2 bg-emerald-600 text-white rounded-lg shadow text-sm hover:bg-emerald-700">
                        저장
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ============================
        // 페이지 리스트 (왼쪽)
        // ============================
        const PAGES = [
            {
                key: "index",
                label: "메인 페이지 (index.html)",
                desc: "메인 화면의 모든 박스를 한눈에 보고, 배너/이미지/텍스트 슬롯을 설정합니다.",
                active: true
            },
            {
                key: "storepride",
                label: "가게 자랑 (storepride.html)",
                desc: "추후 레이아웃 관리 예정",
                active: false
            },
            {
                key: "performingart",
                label: "공연/예술 (performingart.html)",
                desc: "추후 레이아웃 관리 예정",
                active: false
            }
        ];

        function renderPageList() {
            const container = document.getElementById("pageList");
            container.innerHTML = "";

            PAGES.forEach(page => {
                const btn = document.createElement("button");
                btn.type = "button";
                btn.className =
                    "w-full text-left px-3 py-2 rounded-lg text-sm flex flex-col border " +
                    (page.active
                        ? "bg-blue-50 text-blue-700 border-blue-200 cursor-pointer"
                        : "bg-slate-50 text-slate-500 border-slate-100");

                btn.textContent = page.label;
                btn.dataset.key = page.key;

                btn.addEventListener("click", () => {
                    if (!page.active) {
                        alert("이 페이지 레이아웃 관리는 나중에 추가할 예정입니다.\n지금은 메인(index.html)만 설정 가능합니다.");
                        return;
                    }
                    document.getElementById("pageTitle").textContent = "메인 페이지 레이아웃";
                    document.getElementById("pageDesc").textContent = page.desc;
                });

                container.appendChild(btn);
            });
        }

        // ============================
        // 슬롯 클릭 → 모달 열기
        // ============================
        function setupSlotClick() {
            document.addEventListener("click", (e) => {
                const slotEl = e.target.closest(".js-slot, .js-text-slot");
                if (!slotEl) return;

                const page = slotEl.dataset.page || "index";
                const position = slotEl.dataset.position || "";
                const label = slotEl.dataset.label || "선택된 슬롯";
                const slotType = slotEl.dataset.slotType ||
                    (slotEl.classList.contains("js-text-slot") ? "text" : "banner");

                if (slotType === "text") {
                    // 🟢 텍스트 전용 모달 열기
                    document.getElementById("textSelectedPage").value = page;
                    document.getElementById("textSelectedPosition").value = position;
                    document.getElementById("textModalTitle").textContent = `텍스트 설정: ${label}`;

                    document.getElementById("textModal").classList.remove("hidden");
                    document.getElementById("textModal").classList.add("flex");
                } else {
                    // 🔵 이미지/배너 모달 열기 (기존 동작)
                    document.getElementById("selectedPage").value = page;
                    document.getElementById("selectedPosition").value = position;
                    document.getElementById("modalTitle").textContent = `슬롯 설정: ${label}`;
                    document.getElementById("adModal").classList.remove("hidden");
                    document.getElementById("adModal").classList.add("flex");
                }
            });
        }

        // ============================
        // 모달 닫기
        // ============================
        function setupModalClose() {
            document.getElementById("closeModal").addEventListener("click", () => {
                document.getElementById("adModal").classList.add("hidden");
                document.getElementById("adModal").classList.remove("flex");
            });

            document.getElementById("adModal").addEventListener("click", (e) => {
                if (e.target === e.currentTarget) {
                    document.getElementById("adModal").classList.add("hidden");
                    document.getElementById("adModal").classList.remove("flex");
                }
            });
        }

        // ============================
        // 텍스트 모달 닫기
        // ============================
        function setupTextModalClose() {
            document.getElementById("closeTextModal").addEventListener("click", () => {
                document.getElementById("textModal").classList.add("hidden");
                document.getElementById("textModal").classList.remove("flex");
            });

            document.getElementById("textModal").addEventListener("click", (e) => {
                if (e.target === e.currentTarget) {
                    document.getElementById("textModal").classList.add("hidden");
                    document.getElementById("textModal").classList.remove("flex");
                }
            });
        }

        // ============================
        // 저장 버튼 → /manager/ad/upload
        // ============================
        function setupSave() {
            document.getElementById("saveAdBtn").addEventListener("click", async () => {
                const page = document.getElementById("selectedPage").value;
                const position = document.getElementById("selectedPosition").value;
                const imageFile = document.getElementById("imageInput").files[0];
                const link = document.getElementById("linkInput").value.trim();

                if (!page || !position) {
                    alert("슬롯 정보가 없습니다. 다시 선택해주세요.");
                    return;
                }

                // 이미지 없이 링크만 저장하는 것도 허용 (텍스트 슬롯을 위해)
                if (!imageFile && !link) {
                    const ok = confirm("이미지와 링크가 모두 비어 있습니다.\n그래도 이 슬롯 정보만 저장하시겠습니까?");
                    if (!ok) return;
                }

                const formData = new FormData();
                formData.append("page", page);
                formData.append("position", position);
                formData.append("link_url", link);
                if (imageFile) {
                    formData.append("image", imageFile);
                }

                try {
                    const res = await fetch("/manager/ad/upload", {
                        method: "POST",
                        body: formData
                    });
                    const data = await res.json();
                    if (data.ok) {
                        alert("저장 완료되었습니다.");
                        document.getElementById("adModal").classList.add("hidden");
                        document.getElementById("adModal").classList.remove("flex");
                        document.getElementById("imageInput").value = "";
                        document.getElementById("linkInput").value = "";
                    } else {
                        alert("오류: " + (data.message || "저장에 실패했습니다."));
                    }
                } catch (err) {
                    console.error(err);
                    alert("저장 중 오류가 발생했습니다.");
                }
            });
        }

        // ============================
        // 텍스트 저장 → /manager/ad/text/save
        // ============================
        function setupSaveText() {
            document.getElementById("saveTextBtn").addEventListener("click", async () => {
                const page = document.getElementById("textSelectedPage").value;
                const position = document.getElementById("textSelectedPosition").value;
                const content = document.getElementById("textContentInput").value.trim();

                if (!page || !position) {
                    alert("슬롯 정보가 없습니다. 다시 선택해주세요.");
                    return;
                }
                if (!content) {
                    alert("표시할 텍스트를 입력해주세요.");
                    return;
                }

                const body = { page, position, content };

                try {
                    const res = await fetch("/manager/ad/text/save", {  // ✅ 경로 수정
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(body),
                    });
                    const data = await res.json();
                    if (data.ok) {
                        alert("텍스트가 저장되었습니다.");
                        document.getElementById("textModal").classList.add("hidden");
                        document.getElementById("textModal").classList.remove("flex");
                        document.getElementById("textContentInput").value = "";
                    } else {
                        alert("오류: " + (data.message || "저장에 실패했습니다."));
                    }
                } catch (err) {
                    console.error(err);
                    alert("저장 중 오류가 발생했습니다.");
                }
            });
        }

        document.addEventListener("DOMContentLoaded", () => {
            renderPageList();
            setupSlotClick();
            setupModalClose();
            setupTextModalClose();
            setupSave();
            setupSaveText();
        });
    </script>
</body>

</html>
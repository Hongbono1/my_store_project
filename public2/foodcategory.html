<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¹´í…Œê³ ë¦¬ í˜ì´ì§€</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ë„¤ì˜¤ëª¨í”¼ì¦˜ ì¹´ë“œ */
    .neo-card {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 1.2rem;
      box-shadow:
        6px 6px 16px #d9e0ec,
        -6px -6px 16px #ffffff;
      backdrop-filter: blur(16px) saturate(120%);
      transition: all .25s ease;
    }

    .neo-card:hover {
      transform: translateY(-4px);
      box-shadow:
        4px 4px 12px #cfd8e6,
        -4px -4px 12px #ffffff,
        0 8px 24px rgba(80, 130, 255, 0.15);
    }

    /* 3D ë²„íŠ¼ */
    .btn-3d {
      background: linear-gradient(90deg, #6dd5fa, #2980b9);
      border-radius: 1.3rem;
      padding: .5rem 1.5rem;
      font-weight: bold;
      color: white;
      box-shadow: 0 4px 0 #2393b3, 0 8px 16px rgba(0, 64, 128, 0.14);
      transition: all .15s;
    }

    .btn-3d:active {
      transform: translateY(2px);
      box-shadow: 0 2px 0 #2393b3, 0 4px 10px rgba(0, 64, 128, 0.16);
    }

    /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ì˜ì—­ */
    .scroll-x {
      display: flex;
      gap: 1rem;
      overflow-x: auto;
      scrollbar-width: thin;
    }

    .scroll-x::-webkit-scrollbar {
      height: 6px;
    }

    .scroll-x::-webkit-scrollbar-thumb {
      background: #a3bffa;
      border-radius: 9999px;
    }
  </style>
</head>


<body class="bg-gradient-to-br from-blue-50 via-white to-blue-100 min-h-screen text-gray-800">
  <!-- âœ… header.html ë¶ˆëŸ¬ì˜¤ê¸° -->
  <div id="header-placeholder"></div>

  <header class="py-6 text-center">
    <h1 class="text-3xl font-bold text-blue-700">ì¹´í…Œê³ ë¦¬ í˜ì´ì§€</h1>
    <p class="text-gray-600 mt-1">ì›í•˜ëŠ” ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
  </header>

  <!-- âœ… ì¢Œì¸¡ ì‚¬ì´ë“œ ë°” -->
  <div class="max-w-6xl mx-auto grid grid-cols-12 gap-6 py-6 px-4">

    <aside class="col-span-3 neo-card p-5">
      <h2 class="font-bold text-lg mb-4 text-center">FOOD CATEGORY</h2>
      <ul class="space-y-2 text-sm">

        <!-- âœ… í•œì‹ (ì„œë¸Œì¹´í…Œê³ ë¦¬ ìˆìŒ) -->
        <li>
          <button class="w-full text-left px-3 py-2 neo-card flex justify-between items-center"
            onclick="toggleSub(this)">
            í•œì‹ <span>â–¼</span>
          </button>
          <ul class="ml-4 mt-1 space-y-1 hidden">
            <!-- ì „ë¶€ í•œì‹ ë¦¬ìŠ¤íŠ¸ë¡œ ë³´ë‚´ë˜, sub íŒŒë¼ë¯¸í„°ë¡œ êµ¬ë¶„ -->
            <li>
              <a href="/subcategory.html?type=food&category=í•œì‹&sub=ë°¥" class="block px-3 py-2 neo-card">
                ë°¥ (ë¹„ë¹”ë°¥/ë®ë°¥/ë°±ë°˜)
              </a>
            </li>
            <li>
              <a href="/subcategory.html?type=food&category=í•œì‹&sub=ì°Œê°œíƒ•" class="block px-3 py-2 neo-card">
                ì°Œê°œ/íƒ•
              </a>
            </li>
            <li>
              <a href="/subcategory.html?type=food&category=í•œì‹&sub=ê³ ê¸°êµ¬ì´" class="block px-3 py-2 neo-card">
                ê³ ê¸°/êµ¬ì´
              </a>
            </li>
            <li>
              <a href="/subcategory.html?type=food&category=í•œì‹&sub=ìƒì„ " class="block px-3 py-2 neo-card">
                ìƒì„ 
              </a>
            </li>
            <li>
              <a href="/subcategory.html?type=food&category=í•œì‹&sub=ì¡±ë°œë³´ìŒˆ" class="block px-3 py-2 neo-card">
                ì¡±ë°œ/ë³´ìŒˆ
              </a>
            </li>
            <li>
              <a href="/subcategory.html?type=food&category=í•œì‹&sub=êµ­ë°¥" class="block px-3 py-2 neo-card">
                êµ­ë°¥
              </a>
            </li>
            <li>
              <a href="/subcategory.html?type=food&category=í•œì‹&sub=ë°˜ì°¬" class="block px-3 py-2 neo-card">
                ë°˜ì°¬
              </a>
            </li>
            <li>
              <a href="/subcategory.html?type=food&category=í•œì‹&sub=ê¸°íƒ€í•œì‹" class="block px-3 py-2 neo-card">
                ê¸°íƒ€
              </a>
            </li>
          </ul>
        </li>

        <!-- âœ… ì¤‘ì‹ -->
        <li><a href="/subcategory.html?type=food&category=ì¤‘ì‹" class="block px-3 py-2 neo-card">ì¤‘ì‹</a></li>

        <!-- âœ… ì–‘ì‹ -->
        <li><a href="/subcategory.html?type=food&category=ì–‘ì‹" class="block px-3 py-2 neo-card">ì–‘ì‹</a></li>

        <!-- âœ… ë¶„ì‹ -->
        <li><a href="/subcategory.html?type=food&category=ë¶„ì‹" class="block px-3 py-2 neo-card">ë¶„ì‹</a></li>

        <!-- âœ… ì¹˜í‚¨ -->
        <li><a href="/subcategory.html?type=food&category=ì¹˜í‚¨" class="block px-3 py-2 neo-card">ì¹˜í‚¨</a></li>

        <!-- âœ… ì¹´í˜ -->
        <li><a href="/subcategory.html?type=food&category=ì¹´í˜" class="block px-3 py-2 neo-card">ì¹´í˜</a></li>

        <!-- âœ… íŒ¨ìŠ¤íŠ¸í‘¸ë“œ -->
        <li><a href="/subcategory.html?type=food&category=íŒ¨ìŠ¤íŠ¸í‘¸ë“œ" class="block px-3 py-2 neo-card">íŒ¨ìŠ¤íŠ¸í‘¸ë“œ</a></li>

        <!-- âœ… ê¸°íƒ€ -->
        <li><a href="/subcategory.html?type=food&category=ê¸°íƒ€" class="block px-3 py-2 neo-card">ê¸°íƒ€</a></li>

      </ul>

      <!-- ê´‘ê³ ë°•ìŠ¤ -->
      <div class="neo-card mt-6 p-0 overflow-hidden relative" data-slot data-position="food_sidebar_ad">
        <img src="/uploads/no-image.png" alt="ê´‘ê³  ì´ë¯¸ì§€" class="slot-img w-full h-64 object-cover">
        <div class="slot-info absolute bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm px-4 py-3 text-center">
          <div class="slot-name font-bold text-lg text-gray-800"></div>
          <div class="slot-category text-sm text-gray-600"></div>
        </div>
      </div>
    </aside>


    <!-- ì¤‘ì•™ ë©”ì¸ -->
    <main class="col-span-9 space-y-8">

      <!-- ë©”ì¸ ë°°ë„ˆ -->
      <section class="relative h-60 neo-card flex items-center justify-center overflow-hidden" data-slot
        data-position="food_main_banner">
        <img src="/uploads/no-image.png" alt="Premium ì¹´í…Œê³ ë¦¬ ë°°ë„ˆ"
          class="slot-img absolute inset-0 w-full h-full object-cover">
        <div class="slot-info relative z-10 text-center bg-white/70 backdrop-blur-sm rounded-xl px-6 py-4">
          <h1 class="slot-name text-3xl font-bold mb-2">Premium ì¹´í…Œê³ ë¦¬</h1>
          <p class="slot-category text-gray-600 text-sm">ì¹´í…Œê³ ë¦¬ ì„¤ëª… ë¬¸êµ¬ë¥¼ ì—¬ê¸°ì— ë„£ìŠµë‹ˆë‹¤.</p>
        </div>
      </section>

      <!-- íŒŒì›Œ ê´‘ê³  -->
      <section class="mt-10">
        <h2 class="font-bold text-2xl text-purple-600 text-center mb-4">íŒŒì›Œ ê´‘ê³ </h2>

        <!-- ë·°í¬íŠ¸: ë³´ì´ëŠ” ì˜ì—­ -->
        <div id="powerViewport" class="relative overflow-hidden">
          <!-- íŠ¸ë™: ê·¸ë£¹(3ì¥ì”©)ë“¤ì„ ê°€ë¡œë¡œ ë‚˜ì—´. ë„ˆë¹„ ê³ ì •ê°’ ì£¼ì§€ ë§ ê²ƒ! -->
          <div id="powerAdTrack" class="flex transition-transform duration-500 ease-in-out will-change-transform">

            <!-- ê·¸ë£¹ 1: ì¹´ë“œ 3ê°œ -->
            <div class="power-group flex basis-full shrink-0">
              <div class="w-1/3 px-2" data-slot data-position="food_power_1">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 1" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 1</div>
                    <div class="slot-category text-sm text-slate-600"></div>
                  </div>
                </div>
              </div>
              <div class="w-1/3 px-2" data-slot data-position="food_power_2">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 2" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 2</div>
                    <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ì¹´í˜</div>
                  </div>
                </div>
              </div>
              <div class="w-1/3 px-2" data-slot data-position="food_power_3">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 3" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 3</div>
                    <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ë¯¸ìš©ì‹¤</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- ê·¸ë£¹ 2 -->
            <div class="power-group flex basis-full shrink-0">
              <div class="w-1/3 px-2" data-slot data-position="food_power_4">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 4" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 4</div>
                    <div class="slot-category text-sm text-slate-600"></div>
                  </div>
                </div>
              </div>
              <div class="w-1/3 px-2" data-slot data-position="food_power_5">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 5" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 5</div>
                    <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ì¹´í˜</div>
                  </div>
                </div>
              </div>
              <div class="w-1/3 px-2" data-slot data-position="food_power_6">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 6" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 6</div>
                    <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ë¯¸ìš©ì‹¤</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- ê·¸ë£¹ 3 -->
            <div class="power-group flex basis-full shrink-0">
              <div class="w-1/3 px-2" data-slot data-position="food_power_7">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 7" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 7</div>
                    <div class="slot-category text-sm text-slate-600"></div>
                  </div>
                </div>
              </div>
              <div class="w-1/3 px-2" data-slot data-position="food_power_8">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 8" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 8</div>
                    <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ì¹´í˜</div>
                  </div>
                </div>
              </div>
              <div class="w-1/3 px-2" data-slot data-position="food_power_9">
                <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª… 9" class="slot-img w-full h-60 md:h-64 object-cover">
                  <div
                    class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                    <div class="slot-name font-bold text-lg">ìƒí˜¸ëª… 9</div>
                    <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ë¯¸ìš©ì‹¤</div>
                  </div>
                </div>
              </div>
            </div>


          </div>

          <!-- ì¢Œ/ìš° ë²„íŠ¼ -->
          <button id="prevBtn"
            class="absolute left-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2">â€¹</button>
          <button id="nextBtn"
            class="absolute right-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2">â€º</button>
        </div>
      </section>

      <!-- ìµœê³ ì˜ ê°€ê²Œ -->
      <section class="grid grid-cols-12 gap-6 items-stretch">
        <!-- ì¢Œì¸¡: MVP + HIGHLIGHT -->
        <div class="col-span-4 h-full">
          <div class="neo-card p-4 w-full h-full flex flex-col gap-4">

            <!-- MVP -->
            <div class="flex-1 flex flex-col" data-slot data-position="food_mvp">
              <h2 class="font-bold text-2xl text-blue-600 text-center mb-3">MVP</h2>
              <div class="neo-card p-0 overflow-hidden relative rounded-2xl h-full border-2 border-blue-500">
                <img src="/uploads/no-image.png" class="slot-img w-full h-full object-cover" alt="ìƒí˜¸ëª… Top">
                <div class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md 
                    rounded-xl shadow px-4 py-2 text-center">
                  <div class="slot-name font-bold text-lg leading-tight">ìƒí˜¸ëª… Top</div>
                  <div class="slot-category text-sm text-slate-600"></div>
                </div>
              </div>
            </div>

            <!-- HIGHLIGHT -->
            <div class="flex-1 flex flex-col" data-slot data-position="food_highlight">
              <h2 class="font-bold text-2xl text-yellow-600 text-center mb-3">HIGHLIGHT</h2>
              <div class="neo-card p-0 overflow-hidden relative rounded-2xl h-full border-2 border-yellow-500">
                <img src="/uploads/no-image.png" class="slot-img w-full h-full object-cover" alt="ìƒí˜¸ëª… Bottom">
                <div class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md 
                    rounded-xl shadow px-4 py-2 text-center">
                  <div class="slot-name font-bold text-lg leading-tight">ìƒí˜¸ëª… Bottom</div>
                  <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ì¹´í˜</div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- ìš°ì¸¡: ìµœê³ ì˜ ê°€ê²Œ -->
        <div class="col-span-8 neo-card p-5 h-full">
          <h2 class="font-bold mb-3 text-2xl text-center">ìµœê³ ì˜ ê°€ê²Œ</h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- ì¹´ë“œ ë°˜ë³µ -->
            <a href="#" class="block group" data-slot data-position="food_best_1">
              <div class="neo-card p-0 overflow-hidden relative rounded-2xl transition-transform">
                <div class="w-full h-60">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª…" class="slot-img w-full h-full object-cover">
                </div>
                <div
                  class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                  <div class="slot-name font-bold text-lg leading-tight">ìƒí˜¸ëª… A</div>
                  <div class="slot-category text-sm text-slate-600"></div>
                </div>
              </div>
            </a>

            <!-- ì¹´ë“œ 3 -->
            <a href="#" class="block group" data-slot data-position="food_best_2">
              <div class="neo-card p-0 overflow-hidden relative rounded-2xl">
                <div class="w-full h-60">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª…" class="slot-img w-full h-full object-cover">
                </div>
                <div
                  class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                  <div class="slot-name font-bold text-lg leading-tight">ìƒí˜¸ëª… C</div>
                  <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ì¼ì‹</div>
                </div>
              </div>
            </a>

            <!-- ì¹´ë“œ 4 -->
            <a href="#" class="block group" data-slot data-position="food_best_3">
              <div class="neo-card p-0 overflow-hidden relative rounded-2xl">
                <div class="w-full h-60">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª…" class="slot-img w-full h-full object-cover">
                </div>
                <div
                  class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                  <div class="slot-name font-bold text-lg leading-tight">ìƒí˜¸ëª… D</div>
                  <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ì¤‘ì‹</div>
                </div>
              </div>
            </a>
            <!-- ì¹´ë“œ 5 -->
            <a href="#" class="block group" data-slot data-position="food_best_4">
              <div class="neo-card p-0 overflow-hidden relative rounded-2xl">
                <div class="w-full h-60">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª…" class="slot-img w-full h-full object-cover">
                </div>
                <div
                  class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                  <div class="slot-name font-bold text-lg leading-tight">ìƒí˜¸ëª… D</div>
                  <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ì¤‘ì‹</div>
                </div>
              </div>
            </a>

            <!-- ì¹´ë“œ 6 -->
            <a href="#" class="block group" data-slot data-position="food_best_5">
              <div class="neo-card p-0 overflow-hidden relative rounded-2xl">
                <div class="w-full h-60">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª…" class="slot-img w-full h-full object-cover">
                </div>
                <div
                  class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                  <div class="slot-name font-bold text-lg leading-tight">ìƒí˜¸ëª… E</div>
                  <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ì–‘ì‹</div>
                </div>
              </div>
            </a>

            <!-- ì¹´ë“œ 6 -->
            <a href="#" class="block group" data-slot data-position="food_best_6">
              <div class="neo-card p-0 overflow-hidden relative rounded-2xl">
                <div class="w-full h-60">
                  <img src="/uploads/no-image.png" alt="ìƒí˜¸ëª…" class="slot-img w-full h-full object-cover">
                </div>
                <div
                  class="slot-info absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
                  <div class="slot-name font-bold text-lg leading-tight">ìƒí˜¸ëª… F</div>
                  <div class="slot-category text-sm text-slate-600">ì—…ì¢…: ë¶„ì‹</div>
                </div>
              </div>
            </a>
          </div>
      </section>
    </main>
  </div>

  <!-- ì˜¤ë¥¸ìª½ í•˜ë‹¨ ì„¸ë¡œ ë„¤ë¹„ê²Œì´ì…˜ -->
  <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">

    <!-- ì´ì „ -->
    <div class="flex flex-col items-center">
      <button onclick="goBack()"
        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
        â†
      </button>
      <span class="text-xs mt-1 text-gray-600 font-semibold">ì´ì „</span>
    </div>

    <!-- ë‹¤ìŒ -->
    <div class="flex flex-col items-center">
      <button onclick="goNext()"
        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
        â†’
      </button>
      <span class="text-xs mt-1 text-gray-600 font-semibold">ë‹¤ìŒ</span>
    </div>

    <!-- í™ˆ -->
    <div class="flex flex-col items-center">
      <a href="/index.html"
        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow hover:from-blue-600 hover:to-blue-700 transition">
        ğŸ 
      </a>
      <span class="text-xs mt-1 text-gray-600 font-semibold">í™ˆ</span>
    </div>
  </div>


  <!-- âœ… footer.html ë¶ˆëŸ¬ì˜¤ê¸° -->
  <div id="footer-placeholder"></div>

  <script>
    // âœ… header/footer ë™ì  í¬í•¨
    fetch("/components/header.html")
      .then(r => r.text())
      .then(d => (document.getElementById("header-placeholder").innerHTML = d));

    fetch("/components/footer.html")
      .then(r => r.text())
      .then(d => (document.getElementById("footer-placeholder").innerHTML = d));

    // âœ… store ìƒì„¸ì—ì„œ ìƒí˜¸/ì—…ì¢…/ëŒ€í‘œì´ë¯¸ì§€ ë³´ê°• (slotDataì— ì—†ì„ ë•Œ)
    async function fetchStoreMeta(storeId) {
      try {
        const r = await fetch(`/store/${encodeURIComponent(storeId)}`, { cache: "no-store" });
        if (!r.ok) return null;
        const j = await r.json();

        // ì„œë²„ ì‘ë‹µ í˜•íƒœ í˜¼ìš© ëŒ€ì‘
        const s = j.store || j.data || j || {};
        const name = (
          s.business_name ||
          s.businessName ||
          s.store_name ||
          s.storeName ||
          s.name ||
          ""
        ).toString().trim();

        const category = (
          s.business_type ||
          s.businessType ||
          s.business_subcategory ||
          s.businessSubcategory ||
          s.business_category ||
          s.businessCategory ||
          s.store_category ||
          s.storeCategory ||
          s.category ||
          ""
        ).toString().trim();

        const imageUrl = (
          s.main_image_url ||
          s.mainImageUrl ||
          s.image_url ||
          s.imageUrl ||
          s.image_path ||
          s.imagePath ||
          ""
        ).toString().trim();

        return { name, category, imageUrl };
      } catch (e) {
        return null;
      }
    }

    // âœ… "ìƒí˜¸ (ì—…ì¢…)" ê°™ì€ ì¤„ë¡œ ë Œë” (ì—…ì¢…ì€ í•œ ë‹¨ê³„ ì‘ì€ ê¸€ì”¨)
    function renderNameWithCategory(nameEl, categoryEl, storeName, storeCategory) {
      if (!nameEl) return;

      // ê¸°ì¡´ ë‚´ìš© ì œê±°
      nameEl.innerHTML = "";

      // ìƒí˜¸
      nameEl.appendChild(document.createTextNode(storeName));

      // ì—…ì¢…ì€ ìƒí˜¸ ìˆì„ ë•Œë§Œ (ê´„í˜¸ + ì‘ì€ ê¸€ì”¨)
      if (storeCategory) {
        const span = document.createElement("span");
        span.className = "text-sm text-slate-600 font-normal ml-1";
        span.textContent = `(${storeCategory})`;
        nameEl.appendChild(span);
      }

      // âœ… slot-category ì¹¸ì€ ì•„ì˜ˆ ì•ˆ ì“°ê³  ìˆ¨ê¹€(í˜¹ì‹œ ê¸°ë³¸ê°’ ë‚¨ëŠ” ê²ƒ ë°©ì§€)
      if (categoryEl) {
        categoryEl.textContent = "";
        categoryEl.classList.add("hidden");
      }
    }

    // âœ… ê´‘ê³  ìŠ¬ë¡¯ ë¡œë”© (foodcategorymanagerì—ì„œ ì„¤ì •í•œ ë‚´ìš© í‘œì‹œ)
    async function loadAdSlots() {
      const slots = document.querySelectorAll("[data-slot][data-position]");

      for (const slot of slots) {
        const position = slot.dataset.position;
        if (!position) continue;

        // âœ… ë¨¼ì € ì´ˆê¸°í™”(ì´ì „ í…ìŠ¤íŠ¸/ì—…ì¢…/í´ë¦­ì´ ë‚¨ì§€ ì•Šê²Œ)
        const img = slot.querySelector(".slot-img");
        const info = slot.querySelector(".slot-info");
        const nameEl = slot.querySelector(".slot-name");
        const categoryEl = slot.querySelector(".slot-category");

        if (nameEl) nameEl.textContent = "";
        if (categoryEl) {
          categoryEl.textContent = "";
          categoryEl.classList.add("hidden");
        }
        if (info) info.classList.add("hidden");

        slot.onclick = null;
        slot.style.cursor = "";

        try {
          const res = await fetch(
            `/foodcategorymanager/ad/slot?page=foodcategory&position=${encodeURIComponent(position)}`,
            { cache: "no-store" }
          );
          if (!res.ok) continue;

          const data = await res.json();
          const slotData = data.slot || data.data || null;
          if (!slotData) continue;

          // âœ… store_id / id í‚¤ í˜¼ìš© ëŒ€ì‘
          const storeId =
            slotData.store_id ||
            slotData.storeId ||
            slotData.id ||
            (slotData.store && (slotData.store.id || slotData.store.store_id)) ||
            null;

          // âœ… 1ì°¨: slotDataì—ì„œ ìƒí˜¸/ì—…ì¢…/ì´ë¯¸ì§€ ì¶”ì¶œ
          let storeName = (
            slotData.business_name ||
            slotData.businessName ||
            slotData.store_name ||
            slotData.storeName ||
            slotData.name ||
            (slotData.store && (slotData.store.business_name || slotData.store.store_name)) ||
            ""
          ).toString().trim();

          let storeCategory = (
            slotData.business_type ||
            slotData.businessType ||
            slotData.business_subcategory ||
            slotData.businessSubcategory ||
            slotData.business_category ||
            slotData.businessCategory ||
            slotData.store_category ||
            slotData.storeCategory ||
            slotData.category ||
            (slotData.store &&
              (slotData.store.business_type ||
                slotData.store.business_subcategory ||
                slotData.store.business_category ||
                slotData.store.category)) ||
            ""
          ).toString().trim();

          let imageUrl = (
            slotData.image_url ||
            slotData.imageUrl ||
            slotData.image_path ||
            slotData.imagePath ||
            (slotData.store && (slotData.store.main_image_url || slotData.store.image_url)) ||
            ""
          ).toString().trim();

          // âœ… 2ì°¨: ì—…ì¢…ì´ ë¹„ì–´ìˆìœ¼ë©´ store APIë¡œ ë³´ê°•
          if (storeId && (!storeName || !storeCategory || !imageUrl)) {
            const meta = await fetchStoreMeta(storeId);
            if (meta) {
              if (!storeName && meta.name) storeName = meta.name;
              if (!storeCategory && meta.category) storeCategory = meta.category;
              if (!imageUrl && meta.imageUrl) imageUrl = meta.imageUrl;
            }
          }

          // âœ… ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
          if (img) {
            if (imageUrl) {
              img.src = imageUrl;
              img.alt = storeName || "ê°€ê²Œ ì´ë¯¸ì§€";
              img.style.display = "block";
            } else {
              // ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ no-image ì‚¬ìš©
              img.src = "/uploads/no-image.png";
              img.alt = storeName || "ê´‘ê³  ì´ë¯¸ì§€";
              img.style.display = "block";
            }
          }

          // âœ… ìƒí˜¸ê°€ ìˆì„ ë•Œë§Œ ì˜¤ë²„ë ˆì´ í‘œì‹œ + "ìƒí˜¸ (ì—…ì¢…)"
          if (storeName) {
            if (info) info.classList.remove("hidden");
            renderNameWithCategory(nameEl, categoryEl, storeName, storeCategory);
          } else {
            // ë¹ˆ ìŠ¬ë¡¯ì´ë©´ ì—…ì¢…ë„ ì ˆëŒ€ í‘œì‹œ X
            if (categoryEl) {
              categoryEl.textContent = "";
              categoryEl.classList.add("hidden");
            }
          }

          // âœ… í´ë¦­ ì´ë²¤íŠ¸ (ê°€ê²Œ ì •ë³´ê°€ ìˆì„ ë•Œë§Œ)
          if (storeId) {
            slot.style.cursor = "pointer";
            slot.onclick = (e) => {
              e.preventDefault();
              window.location.href = `/ndetail.html?id=${storeId}`;
            };
          } else {
            // ê°€ê²Œ ì •ë³´ ì—†ìœ¼ë©´ í´ë¦­ ë¶ˆê°€
            slot.style.cursor = "default";
            slot.onclick = null;
          }
        } catch (err) {
          console.error(`[foodcategory] ìŠ¬ë¡¯ ë¡œë”© ì‹¤íŒ¨ (${position}):`, err);
        }
      }
    }

    document.addEventListener("DOMContentLoaded", loadAdSlots);

    // âœ… ì„œë¸Œì¹´í…Œê³ ë¦¬ í† ê¸€
    function toggleSub(btn) {
      const ul = btn.nextElementSibling;
      if (!ul) return;
      ul.classList.toggle("hidden");
    }

    // âœ… íŒŒì›Œ ê´‘ê³  ìŠ¬ë¼ì´ë”
    document.addEventListener("DOMContentLoaded", () => {
      const viewport = document.getElementById("powerViewport");
      const track = document.getElementById("powerAdTrack");
      if (!viewport || !track) return;

      let groups = track.querySelectorAll(".power-group").length;
      let index = 0;

      function updateSlider() {
        const slideWidth = viewport.clientWidth;
        track.style.transform = `translateX(${-index * slideWidth}px)`;
      }

      function next() { index = (index + 1) % groups; updateSlider(); }
      function prev() { index = (index - 1 + groups) % groups; updateSlider(); }

      const nextBtn = document.getElementById("nextBtn");
      const prevBtn = document.getElementById("prevBtn");
      if (nextBtn && prevBtn) {
        nextBtn.addEventListener("click", () => { stopAuto(); next(); startAuto(); });
        prevBtn.addEventListener("click", () => { stopAuto(); prev(); startAuto(); });
      }

      window.addEventListener("resize", updateSlider);

      const INTERVAL = 7000;
      let timer = null;

      function startAuto() { if (!timer) timer = setInterval(next, INTERVAL); }
      function stopAuto() { if (timer) { clearInterval(timer); timer = null; } }

      document.addEventListener("visibilitychange", () => {
        document.hidden ? stopAuto() : startAuto();
      });

      viewport.addEventListener("mouseenter", stopAuto);
      viewport.addEventListener("mouseleave", startAuto);

      updateSlider();
      startAuto();
    });

    // âœ… ìš°ì¸¡ í•˜ë‹¨ ë„¤ë¹„
    function goBack() {
      if (document.referrer && document.referrer !== location.href) {
        window.history.back();
      } else {
        window.location.href = "/index.html";
      }
    }
    function goNext() {
      window.history.forward();
    }
  </script>

</body>

</html>
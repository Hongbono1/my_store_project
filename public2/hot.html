<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê°€ì¥ í•«í•œ ìš°ë¦¬ë™ë„¤</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 text-gray-800">

  <!-- ìƒë‹¨ ì œëª© -->
  <section class="text-center py-10">
    <h1 class="text-3xl font-bold mb-2">ê°€ì¥ í•«(HOT)í•œ ìš°ë¦¬ë™ë„¤</h1>
    <p class="text-gray-600">ìš°ë¦¬ë™ë„¤ í•«(HOT)í•œ ê°€ê²Œë¥¼ ì†Œê°œí•©ë‹ˆë‹¤</p>
  </section>

  <!-- ë©”ì¸ íˆì–´ë¡œ ì¹´ë“œ -->
  <section class="max-w-5xl mx-auto px-4 mb-16">
    <div class="bg-white rounded-lg shadow-md overflow-hidden grid md:grid-cols-2">
      <!-- ì´ë¯¸ì§€ -->
      <div>
        <img src="/uploads/main-banner.jpg" alt="ë©”ì¸ ì´ë¯¸ì§€" class="w-full h-full object-cover">
      </div>
      <!-- í…ìŠ¤íŠ¸ -->
      <div class="p-6 flex flex-col justify-center items-center text-center">
        <h2 class="text-2xl font-bold mb-4">ìš°ë¦¬ë™ë„¤ ëŒ€í‘œ Hot Place</h2>
        <p class="text-gray-600 mb-6 leading-relaxed">
          ì§€ê¸ˆ ê°€ì¥ ì¸ê¸° ìˆëŠ” ìš°ë¦¬ë™ë„¤ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.<br>
          ì´ë²¤íŠ¸, ë¦¬ë·°, ì‚¬ì§„ìœ¼ë¡œ ìƒìƒí•˜ê²Œ ì¦ê²¨ë³´ì„¸ìš”.
        </p>
        <a href="/hotplace.html"
          class="inline-block bg-blue-600 text-white text-sm w-24 text-center py-2 rounded hover:bg-blue-700 transition">
          ë”ë³´ê¸°
        </a>
      </div>

    </div>
    </div>
  </section>

  <!-- ë³¸ë¬¸ ì¹´ë“œ ê·¸ë£¹ -->
  <section class="max-w-5xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
    <!-- ì¢Œì¸¡ í° ì¹´ë“œ -->
    <div class="md:col-span-2 bg-white rounded-lg shadow-md p-6 grid md:grid-cols-2 gap-6 items-center">
      <!-- ì´ë¯¸ì§€ (ì™¼ìª½) -->
      <div>
        <img src="/uploads/hot-place.jpg" alt="ì¶”ì²œ" class="w-full h-full object-cover rounded-lg">
      </div>

      <!-- í…ìŠ¤íŠ¸ (ì˜¤ë¥¸ìª½, ê°€ìš´ë° ì •ë ¬) -->
      <div class="flex flex-col justify-center items-center text-center p-4">
        <h3 class="text-xl font-bold mb-3">ê¸ˆì£¼ì˜ ì¶”ì²œ ì¥ì†Œ</h3>
        <p class="text-gray-600 mb-4">
          ì‹ ê·œ ì˜¤í”ˆ, ì´ë²¤íŠ¸, ëœë¤ Pickê¹Œì§€ ë§¤ì¼ ìƒˆë¡­ê²Œ ë§Œë‚˜ë³´ì„¸ìš”.
        </p>
        <a href="/hotplace.html#weekly-recommend"
          class="inline-block bg-blue-600 text-white text-sm w-24 text-center py-2 rounded hover:bg-blue-700 transition">
          ë”ë³´ê¸°
        </a>
      </div>
    </div>

    <!-- ìš°ì¸¡ ì‘ì€ ì¹´ë“œ (í•˜ë‚˜ë¡œ í•©ì¹¨) -->
    <div class="grid grid-rows-1 gap-6 h-full text-center">
      <!-- í• ì¸ & ì´ë²¤íŠ¸ ì†Œì‹ìœ¼ë¡œ ì—°ê²° -->
      <a href="event.html#news" class="block bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition">
        <h4 class="text-xl font-bold mb-3">ì¶”ì²œ ì†Œì‹</h4>
        <p class="text-gray-600 mb-4">í• ì¸ & ì´ë²¤íŠ¸ ì •ë³´</p>
      </a>
    </div>
  </section>

  <!-- ğŸ”¥ ë­í‚¹ + ì¶”ì²œ ì„¹ì…˜ -->
  <section class="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 mb-16">

    <!-- ë§ì´ ì°¾ì•„ë³¸ ê°€ê²Œ -->
    <div class="bg-white rounded-lg shadow-md p-6 h-56">
      <h3 class="text-xl font-bold mb-4 text-center">ğŸ”¥ ë§ì´ ì°¾ì•„ë³¸ ê°€ê²Œ</h3>
      <ul id="popular-list" class="space-y-3 text-gray-700 text-sm text-left">
        <!-- JSì—ì„œ ë°ì´í„°ë¡œ ì±„ì›Œì§ -->
      </ul>
    </div>

    <!-- ë§ì´ ì°œí•œ ê°€ê²Œ -->
    <div class="bg-white rounded-lg shadow-md p-6 h-56">
      <h3 class="text-xl font-bold mb-4 text-center">â­ ë§ì´ ì°œí•œ ê°€ê²Œ</h3>
      <ul id="bookmark-list" class="space-y-3 text-gray-700 text-sm text-left">
        <!-- JSì—ì„œ ë°ì´í„°ë¡œ ì±„ì›Œì§ -->
      </ul>
    </div>

    <!-- ì˜¤ëŠ˜ì˜ ì¶”ì²œ ê°€ê²Œ -->
    <div class="bg-white rounded-lg shadow-md p-6 h-56">
      <h3 class="text-xl font-bold mb-4 text-center">ğŸŒŸ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ê°€ê²Œ</h3>
      <ul id="recommend-list" class="space-y-3 text-gray-700 text-sm text-left">
        <!-- JSì—ì„œ ë°ì´í„°ë¡œ ì±„ì›Œì§ -->
      </ul>
    </div>

    <!-- ì´ë²ˆ ì£¼ ì£¼ëª©ë°›ëŠ” ê°€ê²Œ -->
    <div class="bg-white rounded-lg shadow-md p-6 h-56">
      <h3 class="text-xl font-bold mb-4 text-center">ğŸ“ˆ ì£¼ëª©ë°›ëŠ” ê°€ê²Œ</h3>
      <ul id="trend-list" class="space-y-3 text-gray-700 text-sm text-left">
        <!-- JSì—ì„œ ë°ì´í„°ë¡œ ì±„ì›Œì§ -->
      </ul>
    </div>

  </section>

  <!-- âš¡ íŒŒì›Œ ê´‘ê³  -->
  <section class="max-w-6xl mx-auto px-4 mb-20">
    <div class="bg-yellow-50 border-l-4 border-yellow-400 rounded-lg shadow-md p-6 relative">
      <h3 class="text-2xl font-bold mb-4 text-yellow-700">âš¡ íŒŒì›Œ ê´‘ê³ </h3>

      <!-- ê´‘ê³  ìŠ¬ë¼ì´ë” ì»¨í…Œì´ë„ˆ -->
      <div class="overflow-hidden relative">
        <div id="ad-slider" class="flex transition-transform duration-700">

          <!-- ì„¸íŠ¸1 (1~4) -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-6 flex-shrink-0 w-full">
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 1</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 2</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 3</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 4</div>
          </div>

          <!-- ì„¸íŠ¸2 (5~8) -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-6 flex-shrink-0 w-full">
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 5</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 6</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 7</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 8</div>
          </div>

          <!-- ì„¸íŠ¸3 (9~12) -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-6 flex-shrink-0 w-full">
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 9</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 10</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 11</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 12</div>
          </div>

          <!-- ì„¸íŠ¸4 (13~16) -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-6 flex-shrink-0 w-full">
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 13</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 14</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 15</div>
            <div class="bg-white rounded-lg shadow p-4 text-center h-64 flex items-center justify-center">ê´‘ê³ 16</div>
          </div>

        </div>

        <!-- ì¢Œìš° ë²„íŠ¼ -->
        <button id="prev-btn"
          class="absolute left-2 top-1/2 -translate-y-1/2 bg-yellow-500 text-white px-3 py-2 rounded-full shadow hover:bg-yellow-600">
          â—€
        </button>
        <button id="next-btn"
          class="absolute right-2 top-1/2 -translate-y-1/2 bg-yellow-500 text-white px-3 py-2 rounded-full shadow hover:bg-yellow-600">
          â–¶
        </button>
      </div>
    </div>
  </section>

  <!-- ì˜¤ëŠ˜ë„ ìš°ë¦¬ë™ë„¤ì—ì„œ íŠ¹ë³„í•œ ìˆœê°„ì„! -->
  <section class="text-center my-12">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">
      ì˜¤ëŠ˜ë„ ìš°ë¦¬ë™ë„¤ì—ì„œ íŠ¹ë³„í•œ ìˆœê°„ì„!
    </h2>

    <!-- í•˜ë‹¨ ë°•ìŠ¤ 2ê°œ -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-6xl mx-auto px-4">

      <!-- ì˜¤ëŠ˜ì˜ í…Œë§ˆ ì¶”ì²œ (ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ëœë¤+ìŠ¹ì¸ í˜•ì‹)-->
      <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-xl font-bold mb-4">ğŸŒ¦ï¸ ì˜¤ëŠ˜ì˜ í…Œë§ˆ ì¶”ì²œ</h3>
        <p class="text-gray-600 mb-4">
          {{theme_text}} <!-- DBì—ì„œ ê°€ì ¸ì˜¨ ë¬¸êµ¬ -->
        </p>
        <a href="hotblogdetail.html?id={{store_id}}"
          class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
          ìì„¸íˆ ë³´ê¸°
        </a>
      </div>

      <!-- ì˜¤ëŠ˜ì˜ ëœë¤ ì¶”ì²œ -->
      <div class="bg-white rounded-lg shadow-md p-6 h-64">
        <h3 class="text-xl font-bold mb-4">ğŸ² ì˜¤ëŠ˜ì˜ ëœë¤ ì¶”ì²œ</h3>
        <p class="text-gray-600 mb-4">
          ì˜¤ëŠ˜ì€ ì–´ë–¤ ê°€ê²Œê°€ ì„ íƒë˜ì—ˆì„ê¹Œìš”?
        </p>
        <a id="randomBlogLink"
          class="inline-block bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition">
          ë¸”ë¡œê·¸ì—ì„œ ë³´ê¸°
        </a>
      </div>

      <!-- âœ… ìš°ì¸¡ í•˜ë‹¨ ê³ ì • ë„¤ë¹„ê²Œì´ì…˜ -->
      <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">

        <!-- ì´ì „ -->
        <div class="flex flex-col items-center">
          <button onclick="goBack()"
            class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
            â†
          </button>
          <span class="text-xs mt-1 text-gray-600 font-semibold">ì´ì „</span>
        </div>

        <!-- ë‹¤ìŒ -->
        <div class="flex flex-col items-center">
          <button onclick="goNext()"
            class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
            â†’
          </button>
          <span class="text-xs mt-1 text-gray-600 font-semibold">ë‹¤ìŒ</span>
        </div>

        <!-- í™ˆ -->
        <div class="flex flex-col items-center">
          <a href="/index.html"
            class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow hover:from-blue-600 hover:to-blue-700 transition">
            ğŸ 
          </a>
          <span class="text-xs mt-1 text-gray-600 font-semibold">í™ˆ</span>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const slider = document.getElementById("ad-slider");
        const totalSets = slider.children.length; // 4ì„¸íŠ¸
        let index = 0;
        let interval;

        function showSlide(i) {
          index = (i + totalSets) % totalSets; // ìŒìˆ˜ ë°©ì§€
          slider.style.transform = `translateX(-${index * 100}%)`;
        }

        // ìë™ ë„˜ê¹€ (3ì´ˆë§ˆë‹¤, ì´ 12ì´ˆ ë£¨í”„)
        function startAutoSlide() {
          interval = setInterval(() => {
            showSlide(index + 1);
          }, 3000);
        }

        function stopAutoSlide() {
          clearInterval(interval);
        }

        // ë²„íŠ¼ ì´ë²¤íŠ¸
        document.getElementById("prev-btn").addEventListener("click", () => {
          stopAutoSlide();
          showSlide(index - 1);
          startAutoSlide();
        });

        document.getElementById("next-btn").addEventListener("click", () => {
          stopAutoSlide();
          showSlide(index + 1);
          startAutoSlide();
        });

        startAutoSlide();
      });

      async function loadRecommendations() {
        try {
          const res = await fetch("/api/recommend"); // ì„œë²„ API í˜¸ì¶œ
          const data = await res.json();

          const list = document.getElementById("recommend-list");
          list.innerHTML = ""; // ì´ˆê¸°í™”

          data.recommendations.slice(0, 5).forEach((store, index) => {
            const li = document.createElement("li");
            li.innerHTML = `
          ${index + 1}. 
          <a href="detail.html?id=${store.id}" 
             class="text-blue-600 hover:underline font-medium">
            ${store.name}
          </a> â€“ ${store.category}
        `;
            list.appendChild(li);
          });
        } catch (err) {
          console.error("ì¶”ì²œ ê°€ê²Œ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", err);
        }
      }

      document.addEventListener("DOMContentLoaded", async () => {
        try {
          const res = await fetch("/api/random-hotblog");
          const data = await res.json();
          if (data.ok && data.blog) {
            document.getElementById("randomBlogLink").href = `hotblogdetail.html?id=${data.blog.id}`;
            document.getElementById("randomBlogLink").innerText = data.blog.title || "ë¸”ë¡œê·¸ì—ì„œ ë³´ê¸°";
          } else {
            document.getElementById("randomBlogLink").innerText = "ì¶”ì²œ ê¸€ ì—†ìŒ";
          }
        } catch (e) {
          console.error("ëœë¤ ì¶”ì²œ ë¡œë“œ ì‹¤íŒ¨:", e);
          document.getElementById("randomBlogLink").innerText = "ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨";
        }
      });

      // í˜ì´ì§€ ë¡œë”© ì‹œ ì‹¤í–‰
      document.addEventListener("DOMContentLoaded", loadRecommendations);

      // âœ… ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
      function goBack() { window.history.back(); }
      function goNext() { window.history.forward(); }

    </script>

</body>

</html>
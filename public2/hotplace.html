<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ê´‘ê³  í˜ì´ì§€</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-white text-gray-900">

    <!-- Header ì˜ì—­ -->
    <div id="header"></div>

    <!-- âœ… ìš°ë¦¬ë™ë„¤ ëŒ€í‘œ Hot Place -->
    <div class="text-center mb-12 mt-10">
        <h2
            class="text-4xl font-extrabold bg-gradient-to-r from-yellow-400 to-pink-500 bg-clip-text text-transparent drop-shadow-lg">
            ìš°ë¦¬ë™ë„¤ ëŒ€í‘œ Hot Place
        </h2>
        <p class="text-gray-600 mt-3 leading-relaxed">
            ì§€ê¸ˆ ê°€ì¥ ì¸ê¸° ìˆëŠ” ìš°ë¦¬ë™ë„¤ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.<br />
            ì´ë²¤íŠ¸, ë¦¬ë·°, ì‚¬ì§„ìœ¼ë¡œ ìƒìƒí•˜ê²Œ ì¦ê²¨ë³´ì„¸ìš”.
        </p>
    </div>

    <!-- âœ… Top 4 Hot Place -->
    <section
        class="relative bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200 shadow-[8px_8px_20px_rgba(0,0,0,0.08),-8px_-8px_20px_rgba(255,255,255,0.9)] max-w-screen-xl mx-auto px-6 py-10 mb-16">
        <div class="mb-8 text-center">
            <h3
                class="text-3xl font-extrabold bg-gradient-to-r from-yellow-400 to-pink-400 bg-clip-text text-transparent drop-shadow-md">
                ğŸ† Top 4 Hot Place
            </h3>
        </div>
        <div id="top4-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8">
            <!-- JSì—ì„œ ì¹´ë“œ ì‚½ì… -->
        </div>
    </section>

    <!-- â° ìë™ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ë¡¤ë§ ê´‘ê³  ë°•ìŠ¤ -->
    <section class="max-w-screen-xl mx-auto mb-16 px-4 sm:px-6">
        <div
            class="relative bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200 shadow-[8px_8px_20px_rgba(0,0,0,0.08),-8px_-8px_20px_rgba(255,255,255,0.9)] p-6 sm:p-8 flex flex-col sm:flex-row items-center gap-6">
            <!-- ê´‘ê³  ì´ë¯¸ì§€ / ì¸ë„¤ì¼ -->
            <div
                class="w-full sm:w-1/3 rounded-2xl overflow-hidden border border-gray-200 shadow-[4px_4px_12px_rgba(0,0,0,0.08)]">
                <img id="rollingAdImage" src="https://placehold.co/600x400?text=AD" alt="ê´‘ê³  ì´ë¯¸ì§€"
                    class="w-full h-48 sm:h-56 object-cover" />
            </div>

            <!-- í…ìŠ¤íŠ¸/ì •ë³´ ì˜ì—­ (ê°€ìš´ë° ì •ë ¬) -->
            <div class="w-full sm:w-2/3 text-center sm:text-center">
                <p class="text-xs font-semibold text-indigo-500 mb-2" id="rollingAdTag">
                    HOT PLACE
                </p>
                <h3 id="rollingAdTitle" class="text-2xl sm:text-3xl font-extrabold text-gray-900 mb-2">
                    ë¡¤ë§ ê´‘ê³  ì œëª©
                </h3>
                <p id="rollingAdDesc" class="text-sm sm:text-base text-gray-600 leading-relaxed mb-4">
                    ì´ ì˜ì—­ì—ëŠ” ê°€ê²Œ ì„¤ëª…, ì´ë²¤íŠ¸ ë‚´ìš©, ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë¬¸êµ¬ ë“±ì„ ì§§ê²Œ ë³´ì—¬ì¤ë‹ˆë‹¤.
                </p>

                <div class="flex flex-wrap items-center justify-center gap-3">
                    <span id="rollingAdBadge"
                        class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-indigo-50 text-indigo-600 border border-indigo-100">
                        ì˜¤ëŠ˜ì˜ ì¶”ì²œ
                    </span>

                    <a id="rollingAdLink" href="#"
                        class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow hover:from-blue-600 hover:to-indigo-600 transition">
                        ìì„¸íˆ ë³´ëŸ¬ê°€ê¸° â†’
                    </a>
                </div>

                <!-- ì‘ì€ ì  ë„¤ë¹„ê²Œì´ì…˜ -->
                <div class="flex items-center justify-center gap-2 mt-5">
                    <button id="rollingPrev"
                        class="w-7 h-7 flex items-center justify-center rounded-full border border-gray-300 text-gray-600 text-xs hover:bg-gray-100">
                        â€¹
                    </button>
                    <div class="flex gap-2" id="rollingDots"></div>
                    <button id="rollingNext"
                        class="w-7 h-7 flex items-center justify-center rounded-full border border-gray-300 text-gray-600 text-xs hover:bg-gray-100">
                        â€º
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ğŸ”¥ í•«(HOT)í•œ ìš°ë¦¬ë™ë„¤ ì„¹ì…˜ -->
    <div class="max-w-screen-xl mx-auto px-4 sm:px-8 mt-10">
        <section
            class="bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200 shadow-[8px_8px_20px_rgba(0,0,0,0.08),-8px_-8px_20px_rgba(255,255,255,0.9)] p-8 mb-16">
            <h2 class="text-3xl font-extrabold text-center text-gray-800 drop-shadow-sm mb-10">
                ğŸ”¥ í•«(HOT)í•œ ìš°ë¦¬ë™ë„¤
            </h2>
            <div id="hotNeighborhoodBoxes" class="grid grid-cols-1 sm:grid-cols-2 gap-8">
                <!-- JSì—ì„œ ê´‘ê³  ë°•ìŠ¤ ìƒì„± -->
            </div>
        </section>
    </div>

    <!-- ìŠ¬ë¼ì´ë“œ ì˜ì—­ -->
    <div class="relative w-full max-w-screen-lg mx-auto mb-16">
        <!-- ì¢Œì¸¡ ë²„íŠ¼ -->
        <button id="prevBtn"
            class="absolute -left-12 top-1/2 -translate-y-1/2 bg-gray-800/70 text-white p-3 rounded-full shadow-lg hover:bg-gray-900/90 transition">
            &lt;
        </button>

        <!-- ìŠ¬ë¼ì´ë“œ ë°•ìŠ¤ -->
        <section
            class="overflow-hidden bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200 shadow-[8px_8px_20px_rgba(0,0,0,0.08),-8px_-8px_20px_rgba(255,255,255,0.9)] px-6 py-8">
            <div id="sliderContainer" class="flex transition-transform duration-500 h-56 items-center">
                <!-- JSì—ì„œ ì¹´ë“œ ì‚½ì… -->
            </div>
        </section>

        <!-- ìš°ì¸¡ ë²„íŠ¼ -->
        <button id="nextBtn"
            class="absolute -right-12 top-1/2 -translate-y-1/2 bg-gray-800/70 text-white p-3 rounded-full shadow-lg hover:bg-gray-900/90 transition">
            &gt;
        </button>
    </div>

    <!-- â­ ê¸ˆì£¼ì˜ ì¶”ì²œ ì¥ì†Œ -->
    <section id="weekly-recommend"
        class="bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200 shadow-[8px_8px_20px_rgba(0,0,0,0.08),-8px_-8px_20px_rgba(255,255,255,0.9)] max-w-screen-xl mx-auto p-10 mb-20">
        <h2
            class="text-3xl font-extrabold text-center mb-10 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent drop-shadow-md">
            â­ ê¸ˆì£¼ì˜ ì¶”ì²œ ì¥ì†Œ
        </h2>
        <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-stretch">
            <!-- ì¢Œì¸¡ ë§Œí™” ì´ë¯¸ì§€ -->
            <div class="lg:col-span-1 flex flex-col gap-8 h-full">
                <div
                    class="flex-1 overflow-hidden rounded-2xl border border-gray-200 shadow-[4px_4px_12px_rgba(0,0,0,0.1),-4px_-4px_12px_rgba(255,255,255,0.9)]">
                    <img src="https://via.placeholder.com/300x400?text=ë§Œí™”1" alt="ë§Œí™” ì´ë¯¸ì§€ ìƒë‹¨"
                        class="w-full h-full object-cover" />
                </div>
                <div
                    class="flex-1 overflow-hidden rounded-2xl border border-gray-200 shadow-[4px_4px_12px_rgba(0,0,0,0.1),-4px_-4px_12px_rgba(255,255,255,0.9)]">
                    <img src="https://via.placeholder.com/300x400?text=ë§Œí™”2" alt="ë§Œí™” ì´ë¯¸ì§€ í•˜ë‹¨"
                        class="w-full h-full object-cover" />
                </div>
            </div>
            <!-- ìš°ì¸¡ ê´‘ê³  ë¦¬ìŠ¤íŠ¸ -->
            <div id="recommendedStoreContainer"
                class="lg:col-span-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- JSì—ì„œ ê´‘ê³  ì¹´ë“œ ì‚½ì… -->
            </div>
        </div>
    </section>

    <!-- âœ… ìš°ì¸¡ í•˜ë‹¨ ê³ ì • ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">
        <!-- ì´ì „ -->
        <div class="flex flex-col items-center">
            <button onclick="goBack()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                â†
            </button>
            <span class="text-xs mt-1 text-gray-600 font-semibold">ì´ì „</span>
        </div>

        <!-- ë‹¤ìŒ -->
        <div class="flex flex-col items-center">
            <button onclick="goNext()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                â†’
            </button>
            <span class="text-xs mt-1 text-gray-600 font-semibold">ë‹¤ìŒ</span>
        </div>

        <!-- í™ˆ -->
        <div class="flex flex-col items-center">
            <a href="/index.html"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow hover:from-blue-600 hover:to-blue-700 transition">
                ğŸ 
            </a>
            <span class="text-xs mt-1 text-gray-600 font-semibold">í™ˆ</span>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer"></div>

    <!-- ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        // í—¤ë”/í‘¸í„° ë¶ˆëŸ¬ì˜¤ê¸°
        fetch('components/header.html')
            .then(r => r.text()).then(d => { document.getElementById('header').innerHTML = d; });
        fetch('components/footer.html')
            .then(r => r.text()).then(d => { document.getElementById('footer').innerHTML = d; });

        // âœ… Hot Place ì¹´ë“œ
        function createHotPlaceCard(place) {
            if (!place) return createEmptyAdCard();

            const a = document.createElement("a");
            a.href = `/ndetail.html?id=${place?.id || ''}`;
            a.className =
                "block bg-white shadow-lg rounded-lg p-6 border-2 border-gray-300 transform transition duration-300 hover:-translate-y-2 hover:shadow-2xl";

            a.innerHTML = `
                <img src="${place?.image || '/uploads/no-image.png'}" 
                     alt="${place?.business_name || 'ì •ë³´ ì—†ìŒ'}" 
                     class="h-40 w-full object-cover rounded mb-4">
                <h2 class="text-2xl font-bold text-center mb-2">${place?.business_name || 'ì •ë³´ ì—†ìŒ'}</h2>
                <h3 class="text-xl font-semibold text-center text-gray-700">#${place?.business_category || ''}</h3>
                <p class="text-lg text-gray-500 text-center">${place?.phone || ''}</p>
            `;
            return a;
        }

        // âœ… ë¹ˆ ì¹´ë“œ (placeholder)
        function createEmptyHotPlaceCard() {
            const div = document.createElement("div");
            div.className = "bg-white shadow-lg rounded-lg overflow-hidden border opacity-50";
            div.innerHTML = `
                <div class="h-40 w-full bg-gray-100 animate-pulse"></div>
                <div class="p-4 text-center">
                    <h3 class="text-lg font-bold text-gray-400">ì •ë³´ ì—†ìŒ</h3>
                    <p class="text-gray-300">ì¹´í…Œê³ ë¦¬</p>
                </div>
            `;
            return div;
        }

        // âœ… Top4 í•­ìƒ 4ê°œ í‘œì‹œ
        function renderTop4(places = []) {
            const container = document.getElementById("top4-list");
            container.innerHTML = "";
            const data = places.slice(0, 4);
            while (data.length < 4) data.push(null);
            data.forEach(p => container.appendChild(createHotPlaceCard(p)));
        }

        // ì‹¤í–‰ ì‹œ Top 4 ë³´ì´ê¸°
        document.addEventListener("DOMContentLoaded", () => {
            renderTop4([]);
        });

        // ê´‘ê³ ì¹´ë“œ ìƒì„± (ì •ë³´ ì—†ìœ¼ë©´ placeholder)
        function createAdCard(ad) {
            if (!ad) return createEmptyAdCard();

            const a = document.createElement("a");
            a.href = `/ndetail.html?id=${ad.pride_id}`;
            a.className =
                "block bg-white shadow-lg rounded-lg p-6 border-2 border-gray-300 transition transform hover:-translate-y-2 hover:shadow-2xl";

            a.innerHTML = `
                <img src="${ad.main_image || 'https://placehold.co/400x400?text=No+Image'}" 
                     alt="${ad.store_name || 'ì •ë³´ ì—†ìŒ'}" class="h-40 w-full object-cover rounded mb-4">
                <h2 class="text-2xl font-bold text-center mb-2">${ad.store_name || 'ì •ë³´ ì—†ìŒ'}</h2>
                <h3 class="text-xl font-semibold text-center text-gray-700">#${ad.category || ''}</h3>
                <p class="text-lg text-gray-500 text-center">${ad.phone || ''}</p>
            `;
            return a;
        }

        // "ì •ë³´ ì—†ìŒ" ì¹´ë“œ
        function createEmptyAdCard() {
            const adBox = document.createElement("div");
            adBox.className =
                "bg-white shadow-lg rounded-lg p-6 flex flex-col border-2 border-gray-300 opacity-50 flex-1";
            adBox.innerHTML = `
                <div class="h-40 w-full bg-gray-100 rounded mb-4 animate-pulse"></div>
                <h2 class="text-2xl font-bold text-center mb-2 text-gray-400">ì •ë³´ ì—†ìŒ</h2>
                <h3 class="text-xl font-semibold text-center text-gray-300">ì¹´í…Œê³ ë¦¬</h3>
                <p class="text-lg text-gray-300 text-center">-</p>
                <a class="mt-4 bg-gray-300 text-white py-2 px-4 rounded text-center shadow-lg cursor-not-allowed">ëŒ€ê¸° ì¤‘</a>
            `;
            return adBox;
        }

        // íŠ¸ìœˆí…Œì¼ 2ê°œì”© ë¬¶ê¸°
        function renderAdBoxes(containerId, ads, itemsPerBox = 2, totalCards = 8) {
            const container = document.getElementById(containerId);
            container.innerHTML = "";
            const data = ads.slice(0, totalCards);
            while (data.length < totalCards) data.push(null);
            for (let i = 0; i < totalCards; i += itemsPerBox) {
                const box = document.createElement("div");
                box.className = "bg-gray-50 border-2 border-gray-300 rounded-lg p-4 flex flex-col md:flex-row gap-4";
                for (let j = 0; j < itemsPerBox; j++) {
                    const cardData = data[i + j];
                    box.appendChild(createAdCard(cardData));
                }
                container.appendChild(box);
            }
        }

        // ì¶”ì²œê°€ê²Œ 1ê°œì”© ìŒ“ê¸°
        function renderAds(containerId, ads, totalCards = 8) {
            const container = document.getElementById(containerId);
            container.innerHTML = "";
            const data = ads.slice(0, totalCards);
            while (data.length < totalCards) data.push(null);
            data.forEach(ad => container.appendChild(createAdCard(ad)));
        }

        // ì•ˆì „ fetch (ì—ëŸ¬ì‹œ ë¹ˆë°°ì—´)
        async function safeFetch(url) {
            try { const r = await fetch(url); if (r.ok) return await r.json(); }
            catch (e) { console.error(url, e); }
            return [];
        }

        // ë©”ì¸ ë¡œë”©
        document.addEventListener("DOMContentLoaded", async () => {
            const prideList = await safeFetch("/storepride/list");
            renderAdBoxes("hotNeighborhoodBoxes", prideList);
            renderAds("recommendedStoreContainer", []);
        });

        // âœ… ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
        function goBack() { window.history.back(); }
        function goNext() { window.history.forward(); }

        /* =========================
           â° ë¡¤ë§ ê´‘ê³  ë°ì´í„° ì •ì˜
           ========================= */
        const rollingAds = [
            {
                tag: "ğŸ”¥ ë§ì´ ì°¾ì•„ë³¸ ê°€ê²Œ",
                title: "ìš”ì¦˜ ê°€ì¥ ë§ì´ ì¡°íšŒëœ ë™ë„¤ í•«í”Œ",
                desc: "ìµœê·¼ ì¼ì£¼ì¼ ë™ì•ˆ ìš°ë¦¬ë™ë„¤ì—ì„œ ê°€ì¥ ë§ì´ ì°¾ì•„ë³¸ ê°€ê²Œì…ë‹ˆë‹¤. í˜¸ê¸°ì‹¬ í­ë°œ, ê´€ì‹¬ ì§‘ì¤‘!",
                badge: "ë§ì´ ì°¾ì•„ë³¸ ê°€ê²Œ",
                image: "https://placehold.co/600x400?text=Hot+Search",
                link: "/ndetail.html?id=1",
            },
            {
                tag: "â­ ë§ì´ ì°œí•œ ê°€ê²Œ",
                title: "ì°œì´ í­ë°œí•˜ëŠ” ì¸ê¸° ë§›ì§‘",
                desc: "ë¶ë§ˆí¬ê°€ ê°€ì¥ ë§ì´ ìŒ“ì¸ ìš°ë¦¬ë™ë„¤ ëŒ€í‘œ ë§›ì§‘ì´ì—ìš”. ë‹¨ê³¨ë“¤ì´ ì¸ì •í•œ ë°”ë¡œ ê·¸ ì§‘!",
                badge: "ë§ì´ ì°œí•œ ê°€ê²Œ",
                image: "https://placehold.co/600x400?text=Hot+Bookmark",
                link: "/ndetail.html?id=2",
            },
            {
                tag: "ğŸŒŸ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ê°€ê²Œ",
                title: "ì˜¤ëŠ˜ë§Œ ì´ëŸ° ë¶„ìœ„ê¸°, ì˜¤ëŠ˜ì˜ ì¶”ì²œ",
                desc: "ë°ì´íŠ¸, í˜¼ë°¥, ê°€ì¡±ëª¨ì„ê¹Œì§€ ì˜¤ëŠ˜ ê°™ì€ ë‚  ë”± ì–´ìš¸ë¦¬ëŠ” ê°€ê²Œë¥¼ ê³¨ë¼ì„œ ì¶”ì²œí•©ë‹ˆë‹¤.",
                badge: "ì˜¤ëŠ˜ì˜ ì¶”ì²œ",
                image: "https://placehold.co/600x400?text=Today+Pick",
                link: "/ndetail.html?id=3",
            },
            {
                tag: "ğŸ“ˆ ì£¼ëª©ë°›ëŠ” ê°€ê²Œ",
                title: "ìš”ì¦˜ ê°‘ìê¸° ëœ¨ëŠ” ê¸‰ìƒìŠ¹ í•«í”Œ",
                desc: "ìµœê·¼ í´ë¦­ê³¼ ê²€ìƒ‰ì´ í™• ëŠ˜ì–´ë‚œ ê°€ê²Œì…ë‹ˆë‹¤. ì‚¬ëŒë“¤ì´ ìš”ì¦˜ ìì£¼ ì´ì•¼ê¸°í•˜ëŠ” ë°”ë¡œ ê·¸ ê³³!",
                badge: "ì£¼ëª©ë°›ëŠ” ê°€ê²Œ",
                image: "https://placehold.co/600x400?text=Rising+Star",
                link: "/ndetail.html?id=4",
            },
            {
                tag: "ğŸ½ï¸ ë§›ì§‘ ë² ìŠ¤íŠ¸",
                title: "ìš°ë¦¬ë™ë„¤ ë§›ì§‘ TOP",
                desc: "ë¦¬ë·°ì™€ í‰ì ì´ ê°€ì¥ ë†’ì€ ë™ë„¤ ë§›ì§‘! ë§›ìœ¼ë¡œ ì¦ëª…ëœ ê³³ë§Œ ëª¨ì•˜ìŠµë‹ˆë‹¤.",
                badge: "ë§›ì§‘ ë² ìŠ¤íŠ¸",
                image: "https://placehold.co/600x400?text=Best+Restaurant",
                link: "/ndetail.html?id=5",
            },
            {
                tag: "â˜• ì¹´í˜ í•«í”Œ",
                title: "ë¶„ìœ„ê¸° ëë‚´ì£¼ëŠ” ë™ë„¤ ì¹´í˜",
                desc: "ì¸ìŠ¤íƒ€ ê°ì„± ê°€ë“! ì‚¬ì§„ ì°ê¸° ì¢‹ì€ ìš°ë¦¬ë™ë„¤ ì¹´í˜ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.",
                badge: "ì¹´í˜ í•«í”Œ",
                image: "https://placehold.co/600x400?text=Cafe+Hotplace",
                link: "/ndetail.html?id=6",
            },
            {
                tag: "ğŸ›ï¸ ì‡¼í•‘ ëª…ì†Œ",
                title: "ìˆ¨ì€ ì‡¼í•‘ ëª…ì†Œ ë°œê²¬",
                desc: "ì•Œëœ°í•˜ê²Œ ì‡¼í•‘í•˜ê³  ì‹¶ë‹¤ë©´? ìš°ë¦¬ë™ë„¤ ìˆ¨ì€ ì‡¼í•‘ ëª…ì†Œë¥¼ í™•ì¸í•˜ì„¸ìš”!",
                badge: "ì‡¼í•‘ ëª…ì†Œ",
                image: "https://placehold.co/600x400?text=Shopping+Spot",
                link: "/ndetail.html?id=7",
            },
            {
                tag: "ğŸ‰ ì´ë²¤íŠ¸ ì§„í–‰ì¤‘",
                title: "ì§€ê¸ˆ ì´ë²¤íŠ¸ í•˜ëŠ” ê°€ê²Œ",
                desc: "í• ì¸, 1+1, ì‚¬ì€í’ˆ ì¦ì •! ì§€ê¸ˆ ì´ë²¤íŠ¸ ì¤‘ì¸ ê°€ê²Œë¥¼ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”.",
                badge: "ì´ë²¤íŠ¸ ì§„í–‰ì¤‘",
                image: "https://placehold.co/600x400?text=Event+Now",
                link: "/ndetail.html?id=8",
            },
            {
                tag: "ğŸ†• ì‹ ê·œ ì˜¤í”ˆ",
                title: "ìƒˆë¡œ ì˜¤í”ˆí•œ ë”°ëˆë”°ëˆ ì‹ ìƒ",
                desc: "ìš°ë¦¬ë™ë„¤ì— ìƒˆë¡œ ì˜¤í”ˆí•œ ê°€ê²Œ! ë‚¨ë“¤ë³´ë‹¤ ë¨¼ì € ë°©ë¬¸í•´ë³´ì„¸ìš”.",
                badge: "ì‹ ê·œ ì˜¤í”ˆ",
                image: "https://placehold.co/600x400?text=New+Open",
                link: "/ndetail.html?id=9",
            },
            {
                tag: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ê°€ì¡± ì¶”ì²œ",
                title: "ì˜¨ ê°€ì¡±ì´ í•¨ê»˜í•˜ê¸° ì¢‹ì€ ê³³",
                desc: "ì•„ì´ë“¤ê³¼ í•¨ê»˜, ë¶€ëª¨ë‹˜ê³¼ í•¨ê»˜! ê°€ì¡± ëª¨ì„ì— ë”± ë§ëŠ” ì¥ì†Œì…ë‹ˆë‹¤.",
                badge: "ê°€ì¡± ì¶”ì²œ",
                image: "https://placehold.co/600x400?text=Family+Pick",
                link: "/ndetail.html?id=10",
            },
            {
                tag: "ğŸ’‘ ë°ì´íŠ¸ ì½”ìŠ¤",
                title: "ì—°ì¸ê³¼ í•¨ê»˜í•˜ëŠ” ë°ì´íŠ¸ ëª…ì†Œ",
                desc: "ë¡œë§¨í‹±í•œ ë¶„ìœ„ê¸°, ë§›ìˆëŠ” ìŒì‹! ë°ì´íŠ¸í•˜ê¸° ì¢‹ì€ ê³³ì„ ì¶”ì²œí•©ë‹ˆë‹¤.",
                badge: "ë°ì´íŠ¸ ì½”ìŠ¤",
                image: "https://placehold.co/600x400?text=Date+Course",
                link: "/ndetail.html?id=11",
            },
            {
                tag: "ğŸŒ™ ì•¼ê°„ í•«í”Œ",
                title: "ë°¤ì— ë” ë¹›ë‚˜ëŠ” ì•¼ê°„ ëª…ì†Œ",
                desc: "ì €ë… ì´í›„ì— ê°€ê¸° ì¢‹ì€ ê³³! ì•¼ê²½ê³¼ í•¨ê»˜ ì¦ê¸°ëŠ” ìš°ë¦¬ë™ë„¤ ì•¼ê°„ í•«í”Œ.",
                badge: "ì•¼ê°„ í•«í”Œ",
                image: "https://placehold.co/600x400?text=Night+Spot",
                link: "/ndetail.html?id=12",
            },
        ];

        function setupRollingAds() {
            const imgEl = document.getElementById("rollingAdImage");
            const tagEl = document.getElementById("rollingAdTag");
            const titleEl = document.getElementById("rollingAdTitle");
            const descEl = document.getElementById("rollingAdDesc");
            const badgeEl = document.getElementById("rollingAdBadge");
            const linkEl = document.getElementById("rollingAdLink");
            const dotsContainer = document.getElementById("rollingDots");
            const prevBtn = document.getElementById("rollingPrev");
            const nextBtn = document.getElementById("rollingNext");

            if (!imgEl || !tagEl || !titleEl || !descEl || !badgeEl || !linkEl || !dotsContainer) {
                console.warn("Rolling ad elements not found. Skipping setup.");
                return;
            }

            let current = 0;
            let timer = null;

            // ì (â—â—‹â—‹â—‹) ë Œë”ë§
            dotsContainer.innerHTML = "";
            rollingAds.forEach((_, idx) => {
                const dot = document.createElement("button");
                dot.className = "w-2.5 h-2.5 rounded-full border border-gray-300 transition-all";
                dot.dataset.index = idx;
                dot.addEventListener("click", () => {
                    current = idx;
                    render();
                    restartTimer();
                });
                dotsContainer.appendChild(dot);
            });

            function render() {
                const ad = rollingAds[current];
                imgEl.src = ad.image;
                imgEl.alt = ad.title;
                tagEl.textContent = ad.tag;
                titleEl.textContent = ad.title;
                descEl.textContent = ad.desc;
                badgeEl.textContent = ad.badge;
                linkEl.href = ad.link || "#";

                // ì  ìƒíƒœ ì—…ë°ì´íŠ¸
                const dots = dotsContainer.querySelectorAll("button");
                dots.forEach((dot, idx) => {
                    if (idx === current) {
                        dot.classList.add("bg-gray-800");
                        dot.classList.remove("bg-gray-200");
                    } else {
                        dot.classList.add("bg-gray-200");
                        dot.classList.remove("bg-gray-800");
                    }
                });
            }

            function next() {
                current = (current + 1) % rollingAds.length;
                render();
            }

            function prev() {
                current = (current - 1 + rollingAds.length) % rollingAds.length;
                render();
            }

            function restartTimer() {
                if (timer) clearInterval(timer);
                timer = setInterval(next, 8000); // â° 8ì´ˆë§ˆë‹¤ ìë™ ë³€ê²½
            }

            // ë²„íŠ¼ ì´ë²¤íŠ¸
            if (prevBtn) prevBtn.addEventListener("click", () => { prev(); restartTimer(); });
            if (nextBtn) nextBtn.addEventListener("click", () => { next(); restartTimer(); });

            // ì´ˆê¸° ë Œë” + íƒ€ì´ë¨¸ ì‹œì‘
            render();
            restartTimer();
        }

        // DOM ì¤€ë¹„ë˜ë©´ ì‹¤í–‰
        document.addEventListener("DOMContentLoaded", () => {
            setupRollingAds();
        });
    </script>

</body>

</html>
<!-- ğŸ” ë„¤ì˜¤+ê¸€ë˜ìŠ¤ ê²€ìƒ‰í¼ -->
<form onsubmit="return handleHeaderSearch(event)" class="w-full md:flex-1 order-3 md:order-2">
  <div class="group relative flex items-center gap-2 px-3 py-2 rounded-2xl
           bg-white/60 backdrop-blur-md
           border border-white/70
           shadow-[0_10px_25px_rgba(15,23,42,0.18),0_0_0_1px_rgba(255,255,255,0.8)]
           ring-1 ring-sky-100/70
           focus-within:ring-2 focus-within:ring-sky-400/90
           focus-within:shadow-[0_14px_30px_rgba(15,23,42,0.22)]
           transition-all duration-200">
    <!-- ë‹ë³´ê¸° ì•„ì´ì½˜ -->
    <svg class="w-5 h-5 text-slate-400 group-focus-within:text-sky-500 transition-colors" viewBox="0 0 24 24"
      fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="6" />
      <line x1="16" y1="16" x2="21" y2="21" stroke-linecap="round" />
    </svg>

    <!-- ì…ë ¥ -->
    <input type="search" name="q" placeholder="ìš°ë¦¬ë™ë„¤ ê°€ê²Œ, ë©”ë‰´, í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”"
      class="flex-1 bg-transparent outline-none text-sm md:text-base text-slate-800 placeholder:text-slate-400"
      aria-label="ìš°ë¦¬ë™ë„¤ ê²€ìƒ‰" />

    <!-- ê²€ìƒ‰ ë²„íŠ¼ -->
    <button type="submit" class="hidden sm:inline-flex items-center gap-1 px-3 py-1.5 rounded-xl text-xs font-semibold
             bg-gradient-to-r from-sky-500 to-indigo-500
             text-white shadow-[0_6px_14px_rgba(37,99,235,0.45)]
             hover:brightness-105 active:translate-y-[1px] active:shadow-[0_4px_10px_rgba(37,99,235,0.45)]
             transition-all">
      ê²€ìƒ‰
    </button>
  </div>
</form>

<script>
  function handleHeaderSearch(event) {
    event.preventDefault();
    const form = event.currentTarget;
    const input = form.querySelector('input[name="q"]');
    const keyword = (input?.value || "").trim();

    if (!keyword) {
      // ë¹„ì–´ ìˆìœ¼ë©´ ì•„ë¬´ ê²ƒë„ ì•ˆ í•¨
      return false;
    }

    // ğŸ‘‰ "ë°¥" ì…ë ¥ ì‹œ /search?q=ë°¥ ìœ¼ë¡œ ì´ë™
    window.location.href = `/search?q=${encodeURIComponent(keyword)}`;
    return false;
  }
</script>
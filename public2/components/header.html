<header class="w-full bg-white/90 shadow-sm fixed top-0 left-0 z-50">
  <div class="max-w-25xl mx-auto flex items-center justify-between px-4 py-3">

    <!-- 로고 영역 (좌측) -->
    <a href="/" class="flex items-center gap-2 font-bold text-lg md:text-xl
              text-blue-700 tracking-tight hover:opacity-80 transition">
      <svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="#bae6fd" />
        <path d="M12 8v4l3 2" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      우리동네
    </a>

    <!-- 메인 메뉴 (가운데) -->
    <nav class="hidden md:flex flex-1 justify-center gap-5 lg:gap-8
                text-sm font-medium text-slate-700">
      <a href="/" class="px-1 py-1 hover:text-blue-600 relative">
        홈
      </a>
      <a href="/store.html" class="px-1 py-1 hover:text-blue-600 relative">
        가게찾기
      </a>
      <a href="/register.html" class="px-1 py-1 hover:text-blue-600 relative">
        정보등록
      </a>
      <a href="/mypage.html" class="px-1 py-1 hover:text-blue-600 relative">
        마이페이지
      </a>
    </nav>

    <!-- 검색 + 로그인 (우측) -->
    <div class="flex items-center gap-2 md:gap-3 ml-auto">
      <!-- 데스크탑 검색창 (짧고 얇게) -->
      <form onsubmit="return handleHeaderSearch(event)" class="hidden sm:block">
        <div class="group flex items-center gap-2 px-3 py-1.5 rounded-2xl
                 bg-white/70 backdrop-blur-md
                 border border-white/80
                 shadow-[6px_6px_16px_rgba(15,23,42,0.16),
                         -4px_-4px_10px_rgba(255,255,255,0.95)]
                 ring-1 ring-sky-100/70
                 focus-within:ring-2 focus-within:ring-sky-400/90
                 focus-within:shadow-[8px_10px_20px_rgba(15,23,42,0.2)]
                 transition-all duration-200">
          <svg class="w-4 h-4 text-slate-400 group-focus-within:text-sky-500 transition-colors" viewBox="0 0 24 24"
            fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="6" />
            <line x1="16" y1="16" x2="21" y2="21" stroke-linecap="round" />
          </svg>
          <input type="search" name="q" placeholder="검색" class="w-28 lg:w-36 bg-transparent outline-none text-xs text-slate-800
                   placeholder:text-slate-400" />
        </div>
      </form>

      <!-- 로그인 버튼 -->
      <a href="/login.html" class="px-3 py-1.5 rounded-2xl text-xs md:text-sm font-semibold
                bg-gradient-to-r from-sky-100 to-indigo-100
                text-sky-700 border border-white/70
                shadow-[4px_4px_10px_rgba(15,23,42,0.12),
                        -3px_-3px_8px_rgba(255,255,255,0.9)]
                hover:shadow-[6px_6px_14px_rgba(15,23,42,0.16)]
                hover:brightness-105 transition">
        로그인
      </a>
    </div>
  </div>

  <!-- 모바일 전용: 아래 한 줄 검색창 -->
  <div class="md:hidden">
    <div class="max-w-7xl mx-auto px-4 pb-2">
      <form onsubmit="return handleHeaderSearch(event)">
        <div class="group flex items-center gap-2 px-3 py-2 rounded-2xl
               bg-white/70 backdrop-blur-md
               border border-white/80
               shadow-[6px_6px_16px_rgba(15,23,42,0.16),
                       -4px_-4px_10px_rgba(255,255,255,0.95)]
               ring-1 ring-sky-100/70
               focus-within:ring-2 focus-within:ring-sky-400/90
               transition-all">
          <svg class="w-5 h-5 text-slate-400 group-focus-within:text-sky-500 transition-colors" viewBox="0 0 24 24"
            fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="6" />
            <line x1="16" y1="16" x2="21" y2="21" stroke-linecap="round" />
          </svg>
          <input type="search" name="q" placeholder="우리동네 가게, 메뉴, 키워드를 검색해보세요" class="flex-1 bg-transparent outline-none text-sm text-slate-800
                 placeholder:text-slate-400" />
        </div>
      </form>
    </div>
</header>

<!-- 헤더 높이만큼 여백 -->
<div class="h-20"></div>

<script>
  // 헤더 검색: 예) "밥" 입력 → /search?q=밥 으로 이동
  function handleHeaderSearch(event) {
    event.preventDefault();
    const form = event.currentTarget;
    const input = form.querySelector('input[name="q"]');
    const keyword = (input?.value || "").trim();
    if (!keyword) return false;
    window.location.href = `/search?q=${encodeURIComponent(keyword)}`;
    return false;
  }
</script>
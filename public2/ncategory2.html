<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´í…Œê³ ë¦¬ í˜ì´ì§€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ë„¤ì˜¤ëª¨í”¼ì¦˜ ì¹´ë“œ */
        .neo-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 1.2rem;
            box-shadow:
                6px 6px 16px #d9e0ec,
                -6px -6px 16px #ffffff;
            backdrop-filter: blur(16px) saturate(120%);
            transition: all .25s ease;
        }

        .neo-card:hover {
            transform: translateY(-4px);
            box-shadow:
                4px 4px 12px #cfd8e6,
                -4px -4px 12px #ffffff,
                0 8px 24px rgba(80, 130, 255, 0.15);
        }

        /* 3D ë²„íŠ¼ */
        .btn-3d {
            background: linear-gradient(90deg, #6dd5fa, #2980b9);
            border-radius: 1.3rem;
            padding: .5rem 1.5rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 0 #2393b3, 0 8px 16px rgba(0, 64, 128, 0.14);
            transition: all .15s;
        }

        .btn-3d:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #2393b3, 0 4px 10px rgba(0, 64, 128, 0.16);
        }

        /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ì˜ì—­ */
        .scroll-x {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .scroll-x::-webkit-scrollbar {
            height: 6px;
        }

        .scroll-x::-webkit-scrollbar-thumb {
            background: #a3bffa;
            border-radius: 9999px;
        }

        /* ì‚¬ì´ë“œë°” ìŠ¤í¬ë¡¤ë°” - ì‚¬ìš© ì•ˆ í•  ë•Œ ìˆ¨ê¹€ */
        .sidebar-scroll {
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: transparent transparent;
        }

        .sidebar-scroll:hover {
            scrollbar-color: #cbd5e1 transparent;
        }

        .sidebar-scroll::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        .sidebar-scroll::-webkit-scrollbar-thumb {
            background: transparent;
            border-radius: 9999px;
        }

        .sidebar-scroll:hover::-webkit-scrollbar-thumb {
            background: #cbd5e1;
        }

        .sidebar-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 via-white to-blue-100 min-h-screen text-gray-800">
    <!-- âœ… header.html ë¶ˆëŸ¬ì˜¤ê¸° -->
    <div id="header-placeholder"></div>

    <header class="py-6 text-center">
        <h1 class="text-3xl font-bold text-blue-700">ìš°ë¦¬ë™ë„¤ ê°€ê²Œ</h1>
        <p class="text-gray-600 mt-1">ì–´ë–¤ ê°€ê²Œë¥¼ ì°¾ìœ¼ì„¸ìš”?</p>
    </header>

    <div class="max-w-6xl mx-auto grid grid-cols-12 gap-6 py-6 px-4">

        <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” -->
        <aside class="col-span-3 neo-card p-3 h-full max-h-[1346px] sidebar-scroll">
            <h2 class="font-bold text-2xl mb-4 text-center">CATEGORY</h2>
            <ul class="space-y-3">

                <!-- ë³‘ì› -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ë³‘ ì› <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=hospital&category=ì¢…í•©ë³‘ì›"
                                class="block px-5 py-2 neo-card text-center">ì¢…í•©ë³‘ì›</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ë‚´ê³¼"
                                class="block px-3 py-2 neo-card text-center">ë‚´ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ì¹˜ê³¼"
                                class="block px-3 py-2 neo-card text-center">ì¹˜ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ì†Œì•„ê³¼"
                                class="block px-3 py-2 neo-card text-center">ì†Œì•„ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ì •í˜•ì™¸ê³¼"
                                class="block px-3 py-2 neo-card text-center">ì •í˜•ì™¸ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ì‚°ë¶€ì¸ê³¼"
                                class="block px-3 py-2 neo-card text-center">ì‚°ë¶€ì¸ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=í•œì˜ì›"
                                class="block px-3 py-2 neo-card text-center">í•œì˜ì›</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì•½êµ­ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì•½ êµ­ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=pharmacy&category=ì¼ë°˜ì•½êµ­"
                                class="block px-3 py-2 neo-card text-center">ì¼ë°˜ì•½êµ­</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=24ì‹œì•½êµ­"
                                class="block px-3 py-2 neo-card text-center">24ì‹œì•½êµ­</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=í•œì•½ë°©"
                                class="block px-3 py-2 neo-card text-center">í•œì•½ë°©</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì–´ë¦°ì´ì§‘ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì–´ë¦°ì´ì§‘ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-1 hidden">
                        <li><a href="/subcategory.html?type=kindergarten&category=êµ­ê³µë¦½"
                                class="block px-3 py-2 neo-card text-center">ì–´ë¦°ì´ì§‘ í†µí•©</a></li>
                    </ul>
                </li>

                <!-- í•™ì› -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        í•™ ì› <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=academy&category=ì…ì‹œí•™ì›"
                                class="block px-3 py-2 neo-card text-center">ì…ì‹œí•™ì›</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ì˜ì–´"
                                class="block px-3 py-2 neo-card text-center">ì˜ì–´</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ìˆ˜í•™"
                                class="block px-3 py-2 neo-card text-center">ìˆ˜í•™</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ìŒì•…"
                                class="block px-3 py-2 neo-card text-center">ìŒì•…</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ë¯¸ìˆ "
                                class="block px-3 py-2 neo-card text-center">ë¯¸ìˆ </a></li>
                        <li><a href="/subcategory.html?type=academy&category=ì»´í“¨í„°"
                                class="block px-3 py-2 neo-card text-center">ì»´í“¨í„°</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ì²´ìœ¡"
                                class="block px-3 py-2 neo-card text-center">ì²´ìœ¡</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ë§ˆíŠ¸ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ë§ˆ íŠ¸ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=mart&category=ëŒ€í˜•ë§ˆíŠ¸"
                                class="block px-3 py-2 neo-card text-center">ëŒ€í˜•ë§ˆíŠ¸</a></li>
                        <li><a href="/subcategory.html?type=mart&category=ì¤‘ì†Œë§ˆíŠ¸"
                                class="block px-3 py-2 neo-card text-center">ì¤‘ì†Œë§ˆíŠ¸</a></li>
                        <li><a href="/subcategory.html?type=mart&category=ìŠˆí¼ë§ˆì¼“"
                                class="block px-3 py-2 neo-card text-center">ìŠˆí¼ë§ˆì¼“</a></li>
                        <li><a href="/subcategory.html?type=mart&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- í¸ì˜ì  -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-14 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        í¸ì˜ì  <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=store&category=CU"
                                class="block px-3 py-2 neo-card text-center">CU</a></li>
                        <li><a href="/subcategory.html?type=store&category=GS25"
                                class="block px-3 py-2 neo-card text-center">GS25</a></li>
                        <li><a href="/subcategory.html?type=store&category=ì„¸ë¸ì¼ë ˆë¸"
                                class="block px-3 py-2 neo-card text-center">ì„¸ë¸ì¼ë ˆë¸</a></li>
                        <li><a href="/subcategory.html?type=store&category=ì´ë§ˆíŠ¸24"
                                class="block px-3 py-2 neo-card text-center">ì´ë§ˆíŠ¸24</a></li>
                        <li><a href="/subcategory.html?type=store&category=ë¯¸ë‹ˆìŠ¤í†±"
                                class="block px-3 py-2 neo-card text-center">ë¯¸ë‹ˆìŠ¤í†±</a></li>
                        <li><a href="/subcategory.html?type=store&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ìš´ë™ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ìš´ ë™ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=exercise&category=í—¬ìŠ¤ì¥"
                                class="block px-3 py-2 neo-card text-center">í—¬ìŠ¤ì¥</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=í•„ë¼í…ŒìŠ¤"
                                class="block px-3 py-2 neo-card text-center">í•„ë¼í…ŒìŠ¤</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=ìš”ê°€"
                                class="block px-3 py-2 neo-card text-center">ìš”ê°€</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=íƒœê¶Œë„"
                                class="block px-3 py-2 neo-card text-center">íƒœê¶Œë„</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=ìŠ¤í¬ì¸ ì„¼í„°"
                                class="block px-3 py-2 neo-card text-center">ìŠ¤í¬ì¸ ì„¼í„°</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ë¯¸ìš©/ì´ë°œ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ë¯¸ìš©/ì´ë°œ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=ë¯¸ìš©"
                                class="block px-3 py-2 neo-card text-center">ë¯¸ìš©</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ì´ë°œ"
                                class="block px-3 py-2 neo-card text-center">ì´ë°œ</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ë„¤ì¼"
                                class="block px-3 py-2 neo-card text-center">ë„¤ì¼</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=í”¼ë¶€ê´€ë¦¬"
                                class="block px-3 py-2 neo-card text-center">í”¼ë¶€ê´€ë¦¬</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ì™ì‹±"
                                class="block px-3 py-2 neo-card text-center">ì™ì‹±</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ìŠ¤í„°ë””/ë…ì„œì‹¤ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-8 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ìŠ¤í„°ë””/ë…ì„œì‹¤ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=ìŠ¤í„°ë””ë£¸"
                                class="block px-3 py-2 neo-card text-center">ìŠ¤í„°ë””ë£¸</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ë…ì„œì‹¤"
                                class="block px-3 py-2 neo-card text-center">ë…ì„œì‹¤</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ë„ì„œê´€"
                                class="block px-3 py-2 neo-card text-center">ë„ì„œê´€</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ëª©ìš• -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ëª© ìš• <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=ëª©ìš•"
                                class="block px-3 py-2 neo-card text-center">ëª©ìš• ì „ì²´</a></li>
                    </ul>
                </li>

                <!-- ì„¸íƒ/ì˜·ìˆ˜ì„  -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-10 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì„¸íƒ/ì˜·ìˆ˜ì„  <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=laundry&category=ì„¸íƒ_ì˜·_ì‹ ë°œìˆ˜ì„ "
                                class="block px-3 py-2 neo-card text-center">ì„¸íƒ/ì˜·ìˆ˜ì„  ì „ì²´</a></li>
                    </ul>
                </li>

                <!-- ìˆ™ë°• -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ìˆ™ ë°• <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=stay&category=í˜¸í…”"
                                class="block px-3 py-2 neo-card text-center">í˜¸í…”</a></li>
                        <li><a href="/subcategory.html?type=stay&category=ëª¨í…”"
                                class="block px-3 py-2 neo-card text-center">ëª¨í…”</a></li>
                        <li><a href="/subcategory.html?type=stay&category=ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤"
                                class="block px-3 py-2 neo-card text-center">ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤</a></li>
                        <li><a href="/subcategory.html?type=stay&category=íœì…˜"
                                class="block px-3 py-2 neo-card text-center">íœì…˜</a></li>
                        <li><a href="/subcategory.html?type=stay&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì¤‘ê³ /êµ¬ì œ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì¤‘ê³ /êµ¬ì œ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=used&category=ì¤‘ê³ ê°€ì „"
                                class="block px-3 py-2 neo-card text-center">ì¤‘ê³ ê°€ì „</a></li>
                        <li><a href="/subcategory.html?type=used&category=ì¤‘ê³ ê°€êµ¬"
                                class="block px-3 py-2 neo-card text-center">ì¤‘ê³ ê°€êµ¬</a></li>
                        <li><a href="/subcategory.html?type=used&category=ì¤‘ê³ ëª…í’ˆ"
                                class="block px-3 py-2 neo-card text-center">ì¤‘ê³ ëª…í’ˆ</a></li>
                        <li><a href="/subcategory.html?type=used&category=ë¦¬ì‚¬ì´í´"
                                class="block px-3 py-2 neo-card text-center">ë¦¬ì‚¬ì´í´</a></li>
                        <li><a href="/subcategory.html?type=used&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ìë™ì°¨ ì •ë¹„/ìˆ˜ë¦¬ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-6 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ìë™ì°¨ ì •ë¹„/ìˆ˜ë¦¬ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=car&category=ì¹´ì„¼í„°"
                                class="block px-3 py-2 neo-card text-center">ì¹´ì„¼í„°</a></li>
                        <li><a href="/subcategory.html?type=car&category=ì •ë¹„ì†Œ"
                                class="block px-3 py-2 neo-card text-center">ì •ë¹„ì†Œ</a></li>
                        <li><a href="/subcategory.html?type=car&category=ìë™ì°¨ìš©í’ˆ"
                                class="block px-3 py-2 neo-card text-center">ìë™ì°¨ìš©í’ˆ</a></li>
                        <li><a href="/subcategory.html?type=car&category=íƒ€ì´ì–´"
                                class="block px-3 py-2 neo-card text-center">íƒ€ì´ì–´ ì „ë¬¸ì </a></li>
                        <li><a href="/subcategory.html?type=car&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì£¼ìœ ì†Œ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-14 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì£¼ìœ ì†Œ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=gas&category=ì§ì˜ì£¼ìœ ì†Œ"
                                class="block px-3 py-2 neo-card text-center">ì§ì˜ì£¼ìœ ì†Œ</a></li>
                        <li><a href="/subcategory.html?type=gas&category=ì•Œëœ°ì£¼ìœ ì†Œ"
                                class="block px-3 py-2 neo-card text-center">ì•Œëœ°ì£¼ìœ ì†Œ</a></li>
                        <li><a href="/subcategory.html?type=gas&category=ì¶©ì „ì†Œ"
                                class="block px-3 py-2 neo-card text-center">ì¶©ì „ì†Œ</a></li>
                        <li><a href="/subcategory.html?type=gas&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ë°˜ë ¤ë™ë¬¼ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ë°˜ë ¤ë™ë¬¼ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=pet&category=ë™ë¬¼ë³‘ì›"
                                class="block px-3 py-2 neo-card text-center">ë™ë¬¼ë³‘ì›</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ì• ê²¬ë¯¸ìš©"
                                class="block px-3 py-2 neo-card text-center">ì• ê²¬ë¯¸ìš©</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ì• ê²¬í˜¸í…”"
                                class="block px-3 py-2 neo-card text-center">ì• ê²¬í˜¸í…”</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ì• ê²¬ì¹´í˜"
                                class="block px-3 py-2 neo-card text-center">ì• ê²¬ì¹´í˜</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ë™ë¬¼ìš©í’ˆ"
                                class="block px-3 py-2 neo-card text-center">ë™ë¬¼ìš©í’ˆ</a></li>
                        <li><a href="/subcategory.html?type=pet&category=í«ì‹œí„°"
                                class="block px-3 py-2 neo-card text-center">í«ì‹œí„°</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ê°€ì „ì œí’ˆ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ê°€ì „ì œí’ˆ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=electronics&category=ê°€ì „íŒë§¤"
                                class="block px-3 py-2 neo-card text-center">ê°€ì „íŒë§¤</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=ê°€ì „ìˆ˜ë¦¬"
                                class="block px-3 py-2 neo-card text-center">ê°€ì „ìˆ˜ë¦¬</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=íœ´ëŒ€í°"
                                class="block px-3 py-2 neo-card text-center">íœ´ëŒ€í°</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=PCìˆ˜ë¦¬"
                                class="block px-3 py-2 neo-card text-center">PCìˆ˜ë¦¬</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì² ë¬¼/ìì¬ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì² ë¬¼/ìì¬ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=materials&category=ì² ë¬¼ì "
                                class="block px-3 py-2 neo-card text-center">ì² ë¬¼ì </a></li>
                        <li><a href="/subcategory.html?type=materials&category=ê±´ì¶•ìì¬"
                                class="block px-3 py-2 neo-card text-center">ê±´ì¶•ìì¬</a></li>
                        <li><a href="/subcategory.html?type=materials&category=ì¸í…Œë¦¬ì–´ìì¬"
                                class="block px-3 py-2 neo-card text-center">ì¸í…Œë¦¬ì–´ìì¬</a></li>
                        <li><a href="/subcategory.html?type=materials&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ê°„íŒ/ê´‘ê³  -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ê°„íŒ/ê´‘ê³  <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=sign&category=ê°„íŒì œì‘"
                                class="block px-3 py-2 neo-card text-center">ê°„íŒì œì‘</a></li>
                        <li><a href="/subcategory.html?type=sign&category=ì¸ì‡„"
                                class="block px-3 py-2 neo-card text-center">ì¸ì‡„</a></li>
                        <li><a href="/subcategory.html?type=sign&category=í™ë³´ë¬¼"
                                class="block px-3 py-2 neo-card text-center">í™ë³´ë¬¼</a></li>
                        <li><a href="/subcategory.html?type=sign&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- í†µì‹ /ì¸í„°ë„·/TV -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-7 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        í†µì‹ /ì¸í„°ë„·/TV <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=telecom&category=SK"
                                class="block px-3 py-2 neo-card text-center">SK</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=KT"
                                class="block px-3 py-2 neo-card text-center">KT</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=LG"
                                class="block px-3 py-2 neo-card text-center">LG</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=ì¸í„°ë„·_TV"
                                class="block px-3 py-2 neo-card text-center">ì¸í„°ë„·_TV</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì•ˆê²½/ì‚¬ì§„/ê½ƒì§‘ -->
                <li class="mb-5">
                    <button
                        class="w-full text-left pl-7 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì•ˆê²½/ì‚¬ì§„/ê½ƒì§‘ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=shop&category=ì•ˆê²½ì "
                                class="block px-3 py-2 neo-card text-center">ì•ˆê²½ì </a></li>
                        <li><a href="/subcategory.html?type=shop&category=ì‚¬ì§„ê´€"
                                class="block px-3 py-2 neo-card text-center">ì‚¬ì§„ê´€</a></li>
                        <li><a href="/subcategory.html?type=shop&category=ê½ƒì§‘"
                                class="block px-3 py-2 neo-card text-center">ê½ƒì§‘</a></li>
                        <li><a href="/subcategory.html?type=shop&category=í™”ì›"
                                class="block px-3 py-2 neo-card text-center">í™”ì›</a></li>
                        <li><a href="/subcategory.html?type=shop&category=ê¸°íƒ€"
                                class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>
            </ul>

            <!-- âœ… ê´‘ê³  ë°•ìŠ¤ -->
            <div class="neo-card mt-6 p-4 text-center border-2 border-dashed border-blue-300">
                <h3 class="font-bold text-lg mb-2">ê´‘ê³  ì˜ì—­</h3>
                <p class="text-sm text-gray-600">ì´ê³³ì€ ê´‘ê³  ë°°ë„ˆ/ì´ë¯¸ì§€ê°€ ë“¤ì–´ê°ˆ ë°•ìŠ¤ì…ë‹ˆë‹¤.</p>
                <img src="/uploads/sample-ad.jpg" alt="ê´‘ê³  ì´ë¯¸ì§€" class="mt-3 w-full h-[30px] object-cover rounded-xl">
            </div>
        </aside>

        <!-- ì¤‘ì•™ ë©”ì¸ -->
        <main class="col-span-9 space-y-8">

            <!-- ë©”ì¸ ë°°ë„ˆ -->
            <section class="relative h-60 neo-card flex items-center justify-center">
                <div class="text-center">
                    <h1 class="text-3xl font-bold mb-2">Premium ì¹´í…Œê³ ë¦¬</h1>
                    <p class="text-gray-600 text-sm">ì¹´í…Œê³ ë¦¬ ì„¤ëª… ë¬¸êµ¬ë¥¼ ì—¬ê¸°ì— ë„£ìŠµë‹ˆë‹¤.</p>
                </div>
            </section>

            <!-- íŒŒì›Œ ê´‘ê³  -->
            <section class="mt-10">
                <h2 class="font-bold text-2xl text-purple-600 text-center mb-4">ê°•ë ¥ ì¶”ì²œ</h2>

                <!-- ë·°í¬íŠ¸: ë³´ì´ëŠ” ì˜ì—­ -->
                <div id="powerViewport" class="relative overflow-hidden">
                    <!-- âœ… íŠ¸ë™: JSê°€ 3ì¥ì”© ê·¸ë£¹ìœ¼ë¡œ ì±„ì›€ -->
                    <div id="powerAdTrack"
                        class="flex transition-transform duration-500 ease-in-out will-change-transform">
                        <!-- filled by JS -->
                    </div>

                    <!-- ì¢Œ/ìš° ë²„íŠ¼ -->
                    <button id="prevBtn"
                        class="absolute left-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2">â€¹</button>
                    <button id="nextBtn"
                        class="absolute right-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2">â€º</button>
                </div>
            </section>

            <!-- ìµœê³ ì˜ ê°€ê²Œ ì˜ì—­ -->
            <section class="grid grid-cols-12 gap-6 items-stretch">

                <!-- ì¢Œì¸¡: MVP + HIGHLIGHT -->
                <div class="col-span-3 h-full">
                    <div class="neo-card p-4 w-full h-full flex flex-col gap-4">

                        <!-- MVP -->
                        <div class="flex-1 flex flex-col">
                            <h2 class="font-bold text-2xl text-blue-600 text-center mb-3">MVP</h2>

                            <a id="mvpLink" href="#"
                                class="neo-card p-0 overflow-hidden relative rounded-2xl h-full border-2 border-blue-500 block">
                                <img id="mvpImg" src="/uploads/sample-left-top.jpg" class="w-full h-full object-cover"
                                    alt="MVP">
                                <div
                                    class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                    <div id="mvpName" class="font-bold text-lg leading-tight">ë“±ë¡ëœ ê°€ê²Œ ì—†ìŒ</div>
                                    <div id="mvpCat" class="text-sm text-slate-600">ì—…ì¢…</div>
                                </div>
                            </a>
                        </div>

                        <!-- HIGHLIGHT -->
                        <div class="flex-1 flex flex-col">
                            <h2 class="font-bold text-2xl text-yellow-600 text-center mb-3">HIGHLIGHT</h2>

                            <a id="highlightLink" href="#"
                                class="neo-card p-0 overflow-hidden relative rounded-2xl h-full border-2 border-yellow-500 block">
                                <img id="highlightImg" src="/uploads/sample-left-bottom.jpg"
                                    class="w-full h-full object-cover" alt="HIGHLIGHT">
                                <div
                                    class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                    <div id="highlightName" class="font-bold text-lg leading-tight">ë“±ë¡ëœ ê°€ê²Œ ì—†ìŒ</div>
                                    <div id="highlightCat" class="text-sm text-slate-600">ì—…ì¢…</div>
                                </div>
                            </a>
                        </div>

                    </div>
                </div>

                <!-- ìš°ì¸¡: ìµœê³ ì˜ ê°€ê²Œ -->
                <div class="col-span-9 flex flex-col gap-6">
                    <div class="neo-card p-5">
                        <h2 class="font-bold mb-3 text-2xl text-center">ìµœê³ ì˜ ê°€ê²Œ</h2>

                        <div id="bestGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- filled by JS -->
                        </div>
                    </div>
                </div>

            </section>

            <!-- âœ… í•˜ë‹¨ ë°•ìŠ¤ ë‘ ê°œ (col-span-9 ë²”ìœ„ ì•ˆì—ì„œë§Œ) -->
            <div class="grid grid-cols-2 gap-6">
                <div class="neo-card p-6 text-center">
                    <h3 class="font-bold text-lg mb-2">í•˜ë‹¨ ë°•ìŠ¤ 1</h3>
                    <p class="text-gray-600 text-sm">ì´ê³³ì€ ì„¤ëª… í…ìŠ¤íŠ¸</p>
                </div>
                <div class="neo-card p-6 text-center">
                    <h3 class="font-bold text-lg mb-2">í•˜ë‹¨ ë°•ìŠ¤ 2</h3>
                    <p class="text-gray-600 text-sm">ì´ê³³ì€ ì„¤ëª… í…ìŠ¤íŠ¸</p>
                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½ í•˜ë‹¨ ì„¸ë¡œ ë„¤ë¹„ê²Œì´ì…˜ -->
            <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">

                <!-- ì´ì „ -->
                <div class="flex flex-col items-center">
                    <button onclick="goBack()"
                        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                        â†
                    </button>
                    <span class="text-xs mt-1 text-gray-600 font-semibold">ì´ì „</span>
                </div>

                <!-- ë‹¤ìŒ -->
                <div class="flex flex-col items-center">
                    <button onclick="goNext()"
                        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                        â†’
                    </button>
                    <span class="text-xs mt-1 text-gray-600 font-semibold">ë‹¤ìŒ</span>
                </div>

                <!-- í™ˆ -->
                <div class="flex flex-col items-center">
                    <a href="/index.html"
                        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow hover:from-blue-600 hover:to-blue-700 transition">
                        ğŸ 
                    </a>
                    <span class="text-xs mt-1 text-gray-600 font-semibold">í™ˆ</span>
                </div>
            </div>

            <!-- âœ… footer.html ë¶ˆëŸ¬ì˜¤ê¸° -->
            <div id="footer-placeholder"></div>

        </main>
    </div>

    <script>
        // âœ… header/footer ë™ì  í¬í•¨
        fetch("/components/header.html")
            .then(r => r.text())
            .then(d => document.getElementById("header-placeholder").innerHTML = d)
            .catch(() => { });

        fetch("/components/footer.html")
            .then(r => r.text())
            .then(d => document.getElementById("footer-placeholder").innerHTML = d)
            .catch(() => { });

        function toggleSub(btn) {
            const ul = btn.nextElementSibling;
            if (!ul) return;
            ul.classList.toggle("hidden");
        }
        function goBack() {
            if (document.referrer && document.referrer !== location.href) window.history.back();
            else window.location.href = "/category.html";
        }
        function goNext() { window.history.forward(); }

        // =========================================================
        // âœ… ì—¬ê¸°ë¶€í„°: ì¶”ì²œ/ìµœê³ ì˜ê°€ê²Œ/ì¢Œì¸¡(MVP/HIGHLIGHT) ë¡œë”© ë¡œì§ (êµì²´)
        // =========================================================

        // âœ… ì„œë²„ì— ì‹¤ì œë¡œ ë¶™ì–´ìˆëŠ” ë¼ìš°í„°ë¥¼ ìë™ íƒìƒ‰ (404 ë°©ì§€)
        const AD_API_CANDIDATES = [
            "/ncategory2manager/ad",
            "/indexmanager/ad",
            "/newindexmanager/ad",
            "/foodcategorymanager/ad",
        ];

        // âœ… DBì— ì´ë¯¸ ì €ì¥ë¼ ìˆëŠ” naming ê¸°ì¤€ ìš°ì„ (ë„¤ê°€ ë³´ì—¬ì¤€ ê°’)
        const PAGE_CANDIDATES = ["food", "category", "index", "ncategory2"];

        // âœ… legacy ìŠ¬ë¡¯(ë‹¨ì¼ ìŠ¬ë¡¯)ì¼ ë•Œ ëª¨ì•„ì˜¤ê¸° ìœ„í•œ í›„ë³´ë“¤
        const LEGACY_POWER_POS = Array.from({ length: 9 }, (_, i) => `food_power_${i + 1}`);
        const LEGACY_BEST_POS = Array.from({ length: 9 }, (_, i) => `food_best_${i + 1}`);
        const LEGACY_MVP_POS = "food_mvp";
        const LEGACY_HIGHLIGHT_POS = "food_highlight";

        // âœ… slot-items(ì‹ ê·œ ë‹¤ì¤‘ ì•„ì´í…œ)ì¼ ë•Œ position í›„ë³´
        const ITEMS_POWER_POS = ["food_power", "category_power", "power"];
        const ITEMS_BEST_POS = ["food_best", "category_best", "best"];

        function safeStr(v) { return (v == null ? "" : String(v)); }
        const el = (id) => document.getElementById(id);

        async function fetchJson(url) {
            const res = await fetch(url, { headers: { "Accept": "application/json" } });
            if (!res.ok) throw new Error(`HTTP ${res.status}`);
            return res.json();
        }

        async function probeBase(base) {
            // slot ë˜ëŠ” slotsê°€ 200ì´ë©´ base OKë¡œ íŒë‹¨
            for (const p of PAGE_CANDIDATES) {
                const qs = new URLSearchParams({ page: p, position: "food_mvp" });
                try {
                    const r = await fetch(`${base}/slot?${qs.toString()}`);
                    if (r.ok) return { base, page: p };
                } catch (_) { }
            }
            return null;
        }

        async function pickApiBaseAndPage() {
            for (const base of AD_API_CANDIDATES) {
                const ok = await probeBase(base);
                if (ok) return ok;
            }
            return { base: AD_API_CANDIDATES[0], page: PAGE_CANDIDATES[0] }; // ê·¸ë˜ë„ ê¸°ë³¸ê°’
        }

        function buildStoreLink(item) {
            const link = safeStr(item?.link_url).trim();
            if (link) return link;

            const t = safeStr(item?.store_type).trim();
            const id = item?.store_id ?? item?.id ?? "";
            if (!id) return "#";

            if (t === "food") return `/ndetail.html?id=${id}&type=food`;
            if (t === "combined" || t === "combined_store_info") return `/ndetail.html?id=${id}&type=combined`;
            if (t === "store_info") return `/ndetail.html?id=${id}&type=store_info`;
            return `/ndetail.html?id=${id}&type=${encodeURIComponent(t || "store_info")}`;
        }

        // âœ… slot-items ì‹œë„ (ì—†ìœ¼ë©´ [] ë°˜í™˜)
        async function tryGetSlotItems(base, page, position) {
            const qs = new URLSearchParams({ page, position });
            try {
                const data = await fetchJson(`${base}/slot-items?${qs.toString()}`);
                const items = Array.isArray(data?.items) ? data.items : (Array.isArray(data) ? data : []);
                return items;
            } catch (_) {
                return [];
            }
        }

        // âœ… slot(ë‹¨ì¼) ê°€ì ¸ì˜¤ê¸° (ì—†ìœ¼ë©´ null)
        async function tryGetSlot(base, page, position) {
            const qs = new URLSearchParams({ page, position });
            try {
                const data = await fetchJson(`${base}/slot?${qs.toString()}`);
                return data?.slot ? data.slot : data;
            } catch (_) {
                return null;
            }
        }

        // âœ… legacy ìŠ¬ë¡¯ ì—¬ëŸ¬ ê°œ ëª¨ìœ¼ê¸°
        async function getLegacySlotsAsList(base, page, positions) {
            const out = [];
            for (const pos of positions) {
                const slot = await tryGetSlot(base, page, pos);
                if (slot && (slot.image_url || slot.business_name || slot.store_id || slot.link_url)) out.push(slot);
            }
            return out;
        }

        // -------------------------
        // ë Œë”ë§: íŒŒì›Œ(3ê°œì”© ê·¸ë£¹)
        // -------------------------
        function renderPower(items) {
            const track = el("powerAdTrack");
            const viewport = el("powerViewport");
            if (!track || !viewport) return;

            track.innerHTML = "";

            const chunkSize = 3;
            const groups = [];
            for (let i = 0; i < items.length; i += chunkSize) groups.push(items.slice(i, i + chunkSize));

            if (!groups.length) {
                track.innerHTML = `
        <div class="power-group flex basis-full shrink-0">
          <div class="w-full px-2">
            <div class="neo-card p-6 text-center border-2 border-dashed border-purple-200">
              <div class="font-bold text-lg text-purple-600">ê°•ë ¥ ì¶”ì²œ ë“±ë¡ ì—†ìŒ</div>
              <div class="text-sm text-slate-600 mt-1">ê´€ë¦¬ìì—ì„œ food_power_* ë˜ëŠ” food_power(ì•„ì´í…œ) ë“±ë¡ í•„ìš”</div>
            </div>
          </div>
        </div>
      `;
                return;
            }

            for (const g of groups) {
                const groupDiv = document.createElement("div");
                groupDiv.className = "power-group flex basis-full shrink-0";

                for (let c = 0; c < 3; c++) {
                    const it = g[c];
                    const col = document.createElement("div");
                    col.className = "w-1/3 px-2";

                    if (!it) {
                        col.innerHTML = `<div class="neo-card h-60 md:h-64 border-2 border-dashed border-purple-100"></div>`;
                        groupDiv.appendChild(col);
                        continue;
                    }

                    const img = safeStr(it.image_url || it.image || "").trim() || "/uploads/sample-1.jpg";
                    const name = safeStr(it.business_name || it.store_name || "ìƒí˜¸ëª…");
                    const cat = safeStr(it.business_category || it.category || it.store_category || "ì—…ì¢…");
                    const href = buildStoreLink(it);

                    col.innerHTML = `
          <a href="${href}" class="block">
            <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
              <img src="${img}" alt="${name}" class="w-full h-60 md:h-64 object-cover">
              <div class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                <div class="font-bold text-lg">${name}</div>
                <div class="text-sm text-slate-600">ì—…ì¢…: ${cat}</div>
              </div>
            </div>
          </a>
        `;
                    groupDiv.appendChild(col);
                }
                track.appendChild(groupDiv);
            }
        }

        // -------------------------
        // ë Œë”ë§: MVP/HIGHLIGHT (1ê°œ)
        // -------------------------
        function renderOne(slot, ids) {
            const linkEl = el(ids.link);
            const imgEl = el(ids.img);
            const nameEl = el(ids.name);
            const catEl = el(ids.cat);
            if (!linkEl || !imgEl || !nameEl || !catEl) return;

            if (!slot) {
                linkEl.href = "#";
                nameEl.textContent = "ë“±ë¡ëœ ê°€ê²Œ ì—†ìŒ";
                catEl.textContent = "ì—…ì¢…";
                return;
            }

            const img = safeStr(slot.image_url || slot.image || "").trim();
            const name = safeStr(slot.business_name || slot.store_name || "ìƒí˜¸ëª…");
            const cat = safeStr(slot.business_category || slot.category || "ì—…ì¢…");
            const href = buildStoreLink(slot);

            linkEl.href = href;
            if (img) imgEl.src = img;
            imgEl.alt = name;
            nameEl.textContent = name;
            catEl.textContent = `ì—…ì¢…: ${cat}`;
        }

        // -------------------------
        // ë Œë”ë§: ìµœê³ ì˜ ê°€ê²Œ
        // -------------------------
        function renderBest(items) {
            const grid = el("bestGrid");
            if (!grid) return;

            grid.innerHTML = "";

            if (!items.length) {
                grid.innerHTML = `
        <div class="neo-card p-6 text-center border-2 border-dashed border-slate-200 col-span-full">
          <div class="font-bold text-lg">ìµœê³ ì˜ ê°€ê²Œ ë“±ë¡ ì—†ìŒ</div>
          <div class="text-sm text-slate-600 mt-1">ê´€ë¦¬ìì—ì„œ food_best_* ë˜ëŠ” food_best(ì•„ì´í…œ) ë“±ë¡ í•„ìš”</div>
        </div>
      `;
                return;
            }

            const list = items.slice(0, 6);
            for (const it of list) {
                const img = safeStr(it.image_url || it.image || "").trim() || "/uploads/sample-2.jpg";
                const name = safeStr(it.business_name || it.store_name || "ìƒí˜¸ëª…");
                const cat = safeStr(it.business_category || it.category || "ì—…ì¢…");
                const href = buildStoreLink(it);

                const a = document.createElement("a");
                a.href = href;
                a.className = "block group";
                a.innerHTML = `
        <div class="neo-card p-0 overflow-hidden relative rounded-2xl transition-transform">
          <div class="w-full h-60">
            <img src="${img}" alt="${name}" class="w-full h-full object-cover">
          </div>
          <div class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-3">
            <div class="font-bold text-lg leading-tight">${name}</div>
            <div class="text-sm text-slate-600">ì—…ì¢…: ${cat}</div>
          </div>
        </div>
      `;
                grid.appendChild(a);
            }
        }

        // -------------------------
        // íŒŒì›Œ ìŠ¬ë¼ì´ë”
        // -------------------------
        function initPowerSliderAfterRender() {
            const viewport = el("powerViewport");
            const track = el("powerAdTrack");
            if (!viewport || !track) return;

            let groups = track.querySelectorAll(".power-group").length;
            if (groups <= 1) return;

            let index = Math.floor(Math.random() * groups);
            let dir = 1;

            function updateSlider() {
                const slideWidth = viewport.clientWidth;
                track.style.transform = `translateX(${-index * slideWidth}px)`;
            }

            function stepAuto() {
                if (index >= groups - 1) dir = -1;
                else if (index <= 0) dir = 1;
                index = index + dir;
                updateSlider();
            }

            const nextBtn = el("nextBtn");
            const prevBtn = el("prevBtn");

            if (nextBtn && prevBtn) {
                nextBtn.onclick = () => { stopAuto(); index = Math.min(groups - 1, index + 1); updateSlider(); startAuto(); };
                prevBtn.onclick = () => { stopAuto(); index = Math.max(0, index - 1); updateSlider(); startAuto(); };
            }

            window.addEventListener("resize", updateSlider);

            const INTERVAL = 10000;
            let timer = null;
            function startAuto() { if (!timer) timer = setInterval(stepAuto, INTERVAL); }
            function stopAuto() { if (timer) { clearInterval(timer); timer = null; } }

            document.addEventListener("visibilitychange", () => document.hidden ? stopAuto() : startAuto());
            viewport.addEventListener("mouseenter", stopAuto);
            viewport.addEventListener("mouseleave", startAuto);

            updateSlider();
            startAuto();
        }

        // -------------------------
        // âœ… ì „ì²´ ë¡œë”© (í•µì‹¬)
        // -------------------------
        async function loadCategoryAds() {
            const picked = await pickApiBaseAndPage();
            const base = picked.base;
            const page = picked.page;

            // 1) slot-items ë¨¼ì € ì‹œë„
            let powerItems = [];
            for (const pos of ITEMS_POWER_POS) {
                powerItems = await tryGetSlotItems(base, page, pos);
                if (powerItems.length) break;
            }

            let bestItems = [];
            for (const pos of ITEMS_BEST_POS) {
                bestItems = await tryGetSlotItems(base, page, pos);
                if (bestItems.length) break;
            }

            // 2) slot-itemsê°€ ë¹„ì—ˆìœ¼ë©´ legacy ìŠ¬ë¡¯ ëª¨ì•„ì„œ ì‚¬ìš©
            if (!powerItems.length) powerItems = await getLegacySlotsAsList(base, page, LEGACY_POWER_POS);
            if (!bestItems.length) bestItems = await getLegacySlotsAsList(base, page, LEGACY_BEST_POS);

            const mvpSlot = await tryGetSlot(base, page, LEGACY_MVP_POS);
            const highlightSlot = await tryGetSlot(base, page, LEGACY_HIGHLIGHT_POS);

            renderPower(powerItems);
            renderBest(bestItems);
            renderOne(mvpSlot, { link: "mvpLink", img: "mvpImg", name: "mvpName", cat: "mvpCat" });
            renderOne(highlightSlot, { link: "highlightLink", img: "highlightImg", name: "highlightName", cat: "highlightCat" });

            initPowerSliderAfterRender();

            // âœ… ë””ë²„ê·¸(ì½˜ì†”ì—ì„œ í™•ì¸)
            console.log("[ADS]", { base, page, powerCount: powerItems.length, bestCount: bestItems.length, mvp: !!mvpSlot, highlight: !!highlightSlot });
        }

        document.addEventListener("DOMContentLoaded", loadCategoryAds);
    </script>

</body>

</html>
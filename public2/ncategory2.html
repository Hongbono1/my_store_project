<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´í…Œê³ ë¦¬ í˜ì´ì§€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ë„¤ì˜¤ëª¨í”¼ì¦˜ ì¹´ë“œ */
        .neo-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 1.2rem;
            box-shadow:
                6px 6px 16px #d9e0ec,
                -6px -6px 16px #ffffff;
            backdrop-filter: blur(16px) saturate(120%);
            transition: all .25s ease;
        }

        .neo-card:hover {
            transform: translateY(-4px);
            box-shadow:
                4px 4px 12px #cfd8e6,
                -4px -4px 12px #ffffff,
                0 8px 24px rgba(80, 130, 255, 0.15);
        }

        /* 3D ë²„íŠ¼ */
        .btn-3d {
            background: linear-gradient(90deg, #6dd5fa, #2980b9);
            border-radius: 1.3rem;
            padding: .5rem 1.5rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 0 #2393b3, 0 8px 16px rgba(0, 64, 128, 0.14);
            transition: all .15s;
        }

        .btn-3d:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #2393b3, 0 4px 10px rgba(0, 64, 128, 0.16);
        }

        /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ì˜ì—­ */
        .scroll-x {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .scroll-x::-webkit-scrollbar {
            height: 6px;
        }

        .scroll-x::-webkit-scrollbar-thumb {
            background: #a3bffa;
            border-radius: 9999px;
        }

        /* ì‚¬ì´ë“œë°” ìŠ¤í¬ë¡¤ë°” - ì‚¬ìš© ì•ˆ í•  ë•Œ ìˆ¨ê¹€ */
        .sidebar-scroll {
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: transparent transparent;
        }

        .sidebar-scroll:hover {
            scrollbar-color: #cbd5e1 transparent;
        }

        .sidebar-scroll::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        .sidebar-scroll::-webkit-scrollbar-thumb {
            background: transparent;
            border-radius: 9999px;
        }

        .sidebar-scroll:hover::-webkit-scrollbar-thumb {
            background: #cbd5e1;
        }

        .sidebar-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* âœ… ì´ë¯¸ì§€ ì—†ì„ ë•Œ placeholder */
        .img-placeholder {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.18), rgba(59, 130, 246, 0.14), rgba(16, 185, 129, 0.10));
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 via-white to-blue-100 min-h-screen text-gray-800">
    <!-- âœ… header.html ë¶ˆëŸ¬ì˜¤ê¸° -->
    <div id="header-placeholder"></div>

    <header class="py-6 text-center">
        <h1 class="text-3xl font-bold text-blue-700">ìš°ë¦¬ë™ë„¤ ê°€ê²Œ</h1>
        <p class="text-gray-600 mt-1">ì–´ë–¤ ê°€ê²Œë¥¼ ì°¾ìœ¼ì„¸ìš”?</p>
    </header>

    <div class="max-w-6xl mx-auto grid grid-cols-12 gap-6 py-6 px-4">

        <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” -->
        <aside class="col-span-3 neo-card p-3 h-full max-h-[1346px] sidebar-scroll">
            <h2 class="font-bold text-2xl mb-4 text-center">CATEGORY</h2>
            <ul class="space-y-3">

                <!-- ë³‘ì› -->
                <li class="mb-5">
                    <button class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ë³‘ ì› <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=hospital&category=ì¢…í•©ë³‘ì›" class="block px-5 py-2 neo-card text-center">ì¢…í•©ë³‘ì›</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ë‚´ê³¼" class="block px-3 py-2 neo-card text-center">ë‚´ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ì¹˜ê³¼" class="block px-3 py-2 neo-card text-center">ì¹˜ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ì†Œì•„ê³¼" class="block px-3 py-2 neo-card text-center">ì†Œì•„ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ì •í˜•ì™¸ê³¼" class="block px-3 py-2 neo-card text-center">ì •í˜•ì™¸ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ì‚°ë¶€ì¸ê³¼" class="block px-3 py-2 neo-card text-center">ì‚°ë¶€ì¸ê³¼</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=í•œì˜ì›" class="block px-3 py-2 neo-card text-center">í•œì˜ì›</a></li>
                        <li><a href="/subcategory.html?type=hospital&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì•½êµ­ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì•½ êµ­ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=pharmacy&category=ì¼ë°˜ì•½êµ­" class="block px-3 py-2 neo-card text-center">ì¼ë°˜ì•½êµ­</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=24ì‹œì•½êµ­" class="block px-3 py-2 neo-card text-center">24ì‹œì•½êµ­</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=í•œì•½ë°©" class="block px-3 py-2 neo-card text-center">í•œì•½ë°©</a></li>
                        <li><a href="/subcategory.html?type=pharmacy&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì–´ë¦°ì´ì§‘ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì–´ë¦°ì´ì§‘ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-1 hidden">
                        <li><a href="/subcategory.html?type=kindergarten&category=êµ­ê³µë¦½" class="block px-3 py-2 neo-card text-center">ì–´ë¦°ì´ì§‘ í†µí•©</a></li>
                    </ul>
                </li>

                <!-- í•™ì› -->
                <li class="mb-5">
                    <button class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        í•™ ì› <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=academy&category=ì…ì‹œí•™ì›" class="block px-3 py-2 neo-card text-center">ì…ì‹œí•™ì›</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ì˜ì–´" class="block px-3 py-2 neo-card text-center">ì˜ì–´</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ìˆ˜í•™" class="block px-3 py-2 neo-card text-center">ìˆ˜í•™</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ìŒì•…" class="block px-3 py-2 neo-card text-center">ìŒì•…</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ë¯¸ìˆ " class="block px-3 py-2 neo-card text-center">ë¯¸ìˆ </a></li>
                        <li><a href="/subcategory.html?type=academy&category=ì»´í“¨í„°" class="block px-3 py-2 neo-card text-center">ì»´í“¨í„°</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ì²´ìœ¡" class="block px-3 py-2 neo-card text-center">ì²´ìœ¡</a></li>
                        <li><a href="/subcategory.html?type=academy&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ë§ˆíŠ¸ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ë§ˆ íŠ¸ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=mart&category=ëŒ€í˜•ë§ˆíŠ¸" class="block px-3 py-2 neo-card text-center">ëŒ€í˜•ë§ˆíŠ¸</a></li>
                        <li><a href="/subcategory.html?type=mart&category=ì¤‘ì†Œë§ˆíŠ¸" class="block px-3 py-2 neo-card text-center">ì¤‘ì†Œë§ˆíŠ¸</a></li>
                        <li><a href="/subcategory.html?type=mart&category=ìŠˆí¼ë§ˆì¼“" class="block px-3 py-2 neo-card text-center">ìŠˆí¼ë§ˆì¼“</a></li>
                        <li><a href="/subcategory.html?type=mart&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- í¸ì˜ì  -->
                <li class="mb-5">
                    <button class="w-full text-left pl-14 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        í¸ì˜ì  <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=store&category=CU" class="block px-3 py-2 neo-card text-center">CU</a></li>
                        <li><a href="/subcategory.html?type=store&category=GS25" class="block px-3 py-2 neo-card text-center">GS25</a></li>
                        <li><a href="/subcategory.html?type=store&category=ì„¸ë¸ì¼ë ˆë¸" class="block px-3 py-2 neo-card text-center">ì„¸ë¸ì¼ë ˆë¸</a></li>
                        <li><a href="/subcategory.html?type=store&category=ì´ë§ˆíŠ¸24" class="block px-3 py-2 neo-card text-center">ì´ë§ˆíŠ¸24</a></li>
                        <li><a href="/subcategory.html?type=store&category=ë¯¸ë‹ˆìŠ¤í†±" class="block px-3 py-2 neo-card text-center">ë¯¸ë‹ˆìŠ¤í†±</a></li>
                        <li><a href="/subcategory.html?type=store&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ìš´ë™ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ìš´ ë™ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=exercise&category=í—¬ìŠ¤ì¥" class="block px-3 py-2 neo-card text-center">í—¬ìŠ¤ì¥</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=í•„ë¼í…ŒìŠ¤" class="block px-3 py-2 neo-card text-center">í•„ë¼í…ŒìŠ¤</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=ìš”ê°€" class="block px-3 py-2 neo-card text-center">ìš”ê°€</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=íƒœê¶Œë„" class="block px-3 py-2 neo-card text-center">íƒœê¶Œë„</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=ìŠ¤í¬ì¸ ì„¼í„°" class="block px-3 py-2 neo-card text-center">ìŠ¤í¬ì¸ ì„¼í„°</a></li>
                        <li><a href="/subcategory.html?type=exercise&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ë¯¸ìš©/ì´ë°œ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ë¯¸ìš©/ì´ë°œ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=ë¯¸ìš©" class="block px-3 py-2 neo-card text-center">ë¯¸ìš©</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ì´ë°œ" class="block px-3 py-2 neo-card text-center">ì´ë°œ</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ë„¤ì¼" class="block px-3 py-2 neo-card text-center">ë„¤ì¼</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=í”¼ë¶€ê´€ë¦¬" class="block px-3 py-2 neo-card text-center">í”¼ë¶€ê´€ë¦¬</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ì™ì‹±" class="block px-3 py-2 neo-card text-center">ì™ì‹±</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ìŠ¤í„°ë””/ë…ì„œì‹¤ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-8 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ìŠ¤í„°ë””/ë…ì„œì‹¤ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=ìŠ¤í„°ë””ë£¸" class="block px-3 py-2 neo-card text-center">ìŠ¤í„°ë””ë£¸</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ë…ì„œì‹¤" class="block px-3 py-2 neo-card text-center">ë…ì„œì‹¤</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ë„ì„œê´€" class="block px-3 py-2 neo-card text-center">ë„ì„œê´€</a></li>
                        <li><a href="/subcategory.html?type=beauty&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ëª©ìš• -->
                <li class="mb-5">
                    <button class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ëª© ìš• <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=beauty&category=ëª©ìš•" class="block px-3 py-2 neo-card text-center">ëª©ìš• ì „ì²´</a></li>
                    </ul>
                </li>

                <!-- ì„¸íƒ/ì˜·ìˆ˜ì„  -->
                <li class="mb-5">
                    <button class="w-full text-left pl-10 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì„¸íƒ/ì˜·ìˆ˜ì„  <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=laundry&category=ì„¸íƒ_ì˜·_ì‹ ë°œìˆ˜ì„ " class="block px-3 py-2 neo-card text-center">ì„¸íƒ/ì˜·ìˆ˜ì„  ì „ì²´</a></li>
                    </ul>
                </li>

                <!-- ìˆ™ë°• -->
                <li class="mb-5">
                    <button class="w-full text-left pl-16 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ìˆ™ ë°• <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=stay&category=í˜¸í…”" class="block px-3 py-2 neo-card text-center">í˜¸í…”</a></li>
                        <li><a href="/subcategory.html?type=stay&category=ëª¨í…”" class="block px-3 py-2 neo-card text-center">ëª¨í…”</a></li>
                        <li><a href="/subcategory.html?type=stay&category=ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤" class="block px-3 py-2 neo-card text-center">ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤</a></li>
                        <li><a href="/subcategory.html?type=stay&category=íœì…˜" class="block px-3 py-2 neo-card text-center">íœì…˜</a></li>
                        <li><a href="/subcategory.html?type=stay&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì¤‘ê³ /êµ¬ì œ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì¤‘ê³ /êµ¬ì œ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=used&category=ì¤‘ê³ ê°€ì „" class="block px-3 py-2 neo-card text-center">ì¤‘ê³ ê°€ì „</a></li>
                        <li><a href="/subcategory.html?type=used&category=ì¤‘ê³ ê°€êµ¬" class="block px-3 py-2 neo-card text-center">ì¤‘ê³ ê°€êµ¬</a></li>
                        <li><a href="/subcategory.html?type=used&category=ì¤‘ê³ ëª…í’ˆ" class="block px-3 py-2 neo-card text-center">ì¤‘ê³ ëª…í’ˆ</a></li>
                        <li><a href="/subcategory.html?type=used&category=ë¦¬ì‚¬ì´í´" class="block px-3 py-2 neo-card text-center">ë¦¬ì‚¬ì´í´</a></li>
                        <li><a href="/subcategory.html?type=used&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ìë™ì°¨ ì •ë¹„/ìˆ˜ë¦¬ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-6 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ìë™ì°¨ ì •ë¹„/ìˆ˜ë¦¬ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=car&category=ì¹´ì„¼í„°" class="block px-3 py-2 neo-card text-center">ì¹´ì„¼í„°</a></li>
                        <li><a href="/subcategory.html?type=car&category=ì •ë¹„ì†Œ" class="block px-3 py-2 neo-card text-center">ì •ë¹„ì†Œ</a></li>
                        <li><a href="/subcategory.html?type=car&category=ìë™ì°¨ìš©í’ˆ" class="block px-3 py-2 neo-card text-center">ìë™ì°¨ìš©í’ˆ</a></li>
                        <li><a href="/subcategory.html?type=car&category=íƒ€ì´ì–´" class="block px-3 py-2 neo-card text-center">íƒ€ì´ì–´ ì „ë¬¸ì </a></li>
                        <li><a href="/subcategory.html?type=car&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì£¼ìœ ì†Œ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-14 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì£¼ìœ ì†Œ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=gas&category=ì§ì˜ì£¼ìœ ì†Œ" class="block px-3 py-2 neo-card text-center">ì§ì˜ì£¼ìœ ì†Œ</a></li>
                        <li><a href="/subcategory.html?type=gas&category=ì•Œëœ°ì£¼ìœ ì†Œ" class="block px-3 py-2 neo-card text-center">ì•Œëœ°ì£¼ìœ ì†Œ</a></li>
                        <li><a href="/subcategory.html?type=gas&category=ì¶©ì „ì†Œ" class="block px-3 py-2 neo-card text-center">ì¶©ì „ì†Œ</a></li>
                        <li><a href="/subcategory.html?type=gas&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ë°˜ë ¤ë™ë¬¼ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ë°˜ë ¤ë™ë¬¼ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=pet&category=ë™ë¬¼ë³‘ì›" class="block px-3 py-2 neo-card text-center">ë™ë¬¼ë³‘ì›</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ì• ê²¬ë¯¸ìš©" class="block px-3 py-2 neo-card text-center">ì• ê²¬ë¯¸ìš©</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ì• ê²¬í˜¸í…”" class="block px-3 py-2 neo-card text-center">ì• ê²¬í˜¸í…”</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ì• ê²¬ì¹´í˜" class="block px-3 py-2 neo-card text-center">ì• ê²¬ì¹´í˜</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ë™ë¬¼ìš©í’ˆ" class="block px-3 py-2 neo-card text-center">ë™ë¬¼ìš©í’ˆ</a></li>
                        <li><a href="/subcategory.html?type=pet&category=í«ì‹œí„°" class="block px-3 py-2 neo-card text-center">í«ì‹œí„°</a></li>
                        <li><a href="/subcategory.html?type=pet&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ê°€ì „ì œí’ˆ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-12 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ê°€ì „ì œí’ˆ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=electronics&category=ê°€ì „íŒë§¤" class="block px-3 py-2 neo-card text-center">ê°€ì „íŒë§¤</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=ê°€ì „ìˆ˜ë¦¬" class="block px-3 py-2 neo-card text-center">ê°€ì „ìˆ˜ë¦¬</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=íœ´ëŒ€í°" class="block px-3 py-2 neo-card text-center">íœ´ëŒ€í°</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=PCìˆ˜ë¦¬" class="block px-3 py-2 neo-card text-center">PCìˆ˜ë¦¬</a></li>
                        <li><a href="/subcategory.html?type=electronics&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì² ë¬¼/ìì¬ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì² ë¬¼/ìì¬ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=materials&category=ì² ë¬¼ì " class="block px-3 py-2 neo-card text-center">ì² ë¬¼ì </a></li>
                        <li><a href="/subcategory.html?type=materials&category=ê±´ì¶•ìì¬" class="block px-3 py-2 neo-card text-center">ê±´ì¶•ìì¬</a></li>
                        <li><a href="/subcategory.html?type=materials&category=ì¸í…Œë¦¬ì–´ìì¬" class="block px-3 py-2 neo-card text-center">ì¸í…Œë¦¬ì–´ìì¬</a></li>
                        <li><a href="/subcategory.html?type=materials&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ê°„íŒ/ê´‘ê³  -->
                <li class="mb-5">
                    <button class="w-full text-left pl-11 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ê°„íŒ/ê´‘ê³  <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=sign&category=ê°„íŒì œì‘" class="block px-3 py-2 neo-card text-center">ê°„íŒì œì‘</a></li>
                        <li><a href="/subcategory.html?type=sign&category=ì¸ì‡„" class="block px-3 py-2 neo-card text-center">ì¸ì‡„</a></li>
                        <li><a href="/subcategory.html?type=sign&category=í™ë³´ë¬¼" class="block px-3 py-2 neo-card text-center">í™ë³´ë¬¼</a></li>
                        <li><a href="/subcategory.html?type=sign&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- í†µì‹ /ì¸í„°ë„·/TV -->
                <li class="mb-5">
                    <button class="w-full text-left pl-7 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        í†µì‹ /ì¸í„°ë„·/TV <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=telecom&category=SK" class="block px-3 py-2 neo-card text-center">SK</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=KT" class="block px-3 py-2 neo-card text-center">KT</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=LG" class="block px-3 py-2 neo-card text-center">LG</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=ì¸í„°ë„·_TV" class="block px-3 py-2 neo-card text-center">ì¸í„°ë„·_TV</a></li>
                        <li><a href="/subcategory.html?type=telecom&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>

                <!-- ì•ˆê²½/ì‚¬ì§„/ê½ƒì§‘ -->
                <li class="mb-5">
                    <button class="w-full text-left pl-7 pr-3 py-2 neo-card flex justify-between items-center font-bold text-xl"
                        onclick="toggleSub(this)">
                        ì•ˆê²½/ì‚¬ì§„/ê½ƒì§‘ <span>â–¼</span>
                    </button>
                    <ul class="ml-4 mt-1 space-y-3 hidden">
                        <li><a href="/subcategory.html?type=shop&category=ì•ˆê²½ì " class="block px-3 py-2 neo-card text-center">ì•ˆê²½ì </a></li>
                        <li><a href="/subcategory.html?type=shop&category=ì‚¬ì§„ê´€" class="block px-3 py-2 neo-card text-center">ì‚¬ì§„ê´€</a></li>
                        <li><a href="/subcategory.html?type=shop&category=ê½ƒì§‘" class="block px-3 py-2 neo-card text-center">ê½ƒì§‘</a></li>
                        <li><a href="/subcategory.html?type=shop&category=í™”ì›" class="block px-3 py-2 neo-card text-center">í™”ì›</a></li>
                        <li><a href="/subcategory.html?type=shop&category=ê¸°íƒ€" class="block px-3 py-2 neo-card text-center">ê¸°íƒ€</a></li>
                    </ul>
                </li>
            </ul>

            <!-- âœ… ê´‘ê³  ë°•ìŠ¤ -->
            <div class="neo-card mt-6 p-4 text-center border-2 border-dashed border-blue-300">
                <h3 class="font-bold text-lg mb-2">ê´‘ê³  ì˜ì—­</h3>
                <p class="text-sm text-gray-600">ì´ê³³ì€ ê´‘ê³  ë°°ë„ˆ/ì´ë¯¸ì§€ê°€ ë“¤ì–´ê°ˆ ë°•ìŠ¤ì…ë‹ˆë‹¤.</p>
                <!-- âœ… ìƒ˜í”Œ 404 ë°©ì§€: ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ placeholderë¡œ ëŒ€ì²´ -->
                <div class="mt-3 w-full h-[30px] rounded-xl img-placeholder flex items-center justify-center text-xs text-slate-600">
                    AD
                </div>
            </div>
        </aside>

        <!-- ì¤‘ì•™ ë©”ì¸ -->
        <main class="col-span-9 space-y-8">

            <!-- ë©”ì¸ ë°°ë„ˆ -->
            <section class="relative h-60 neo-card flex items-center justify-center">
                <div class="text-center">
                    <h1 class="text-3xl font-bold mb-2">Premium ì¹´í…Œê³ ë¦¬</h1>
                    <p class="text-gray-600 text-sm">ì¹´í…Œê³ ë¦¬ ì„¤ëª… ë¬¸êµ¬ë¥¼ ì—¬ê¸°ì— ë„£ìŠµë‹ˆë‹¤.</p>
                </div>
            </section>

            <!-- íŒŒì›Œ ê´‘ê³  -->
            <section class="mt-10">
                <h2 class="font-bold text-2xl text-purple-600 text-center mb-4">ê°•ë ¥ ì¶”ì²œ</h2>

                <!-- âœ… ë°ì´í„° ì—†ì„ ë•Œ ì•ˆë‚´ -->
                <div id="powerEmpty" class="hidden neo-card p-6 text-center text-slate-600">
                    ì•„ì§ â€œê°•ë ¥ ì¶”ì²œâ€ì— ë“±ë¡ëœ ê°€ê²Œê°€ ì—†ìŠµë‹ˆë‹¤.
                </div>

                <!-- ë·°í¬íŠ¸: ë³´ì´ëŠ” ì˜ì—­ -->
                <div id="powerViewport" class="relative overflow-hidden">
                    <!-- íŠ¸ë™ -->
                    <div id="powerAdTrack" class="flex transition-transform duration-500 ease-in-out will-change-transform"></div>

                    <!-- ì¢Œ/ìš° ë²„íŠ¼ -->
                    <button id="prevBtn"
                        class="absolute left-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2">â€¹</button>
                    <button id="nextBtn"
                        class="absolute right-0 top-1/2 -translate-y-1/2 bg-white shadow rounded-full px-3 py-2">â€º</button>
                </div>
            </section>

            <!-- ìµœê³ ì˜ ê°€ê²Œ ì˜ì—­ -->
            <section class="grid grid-cols-12 gap-6 items-stretch">

                <!-- ì¢Œì¸¡: MVP + HIGHLIGHT -->
                <div class="col-span-3 h-full">
                    <div class="neo-card p-4 w-full h-full flex flex-col gap-4">

                        <!-- MVP -->
                        <div class="flex-1 flex flex-col">
                            <h2 class="font-bold text-2xl text-blue-600 text-center mb-3">MVP</h2>

                            <a id="mvpLink" href="#" class="neo-card p-0 overflow-hidden relative rounded-2xl h-full border-2 border-blue-500 block">
                                <div id="mvpImgWrap" class="w-full h-full img-placeholder flex items-center justify-center text-slate-700 font-bold">
                                    MVP
                                </div>
                                <div
                                    class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                    <div id="mvpName" class="font-bold text-lg leading-tight">ë“±ë¡ëœ MVP ì—†ìŒ</div>
                                    <div id="mvpCategory" class="text-sm text-slate-600"></div>
                                </div>
                            </a>
                        </div>

                        <!-- HIGHLIGHT -->
                        <div class="flex-1 flex flex-col">
                            <h2 class="font-bold text-2xl text-yellow-600 text-center mb-3">HIGHLIGHT</h2>

                            <a id="highlightLink" href="#" class="neo-card p-0 overflow-hidden relative rounded-2xl h-full border-2 border-yellow-500 block">
                                <div id="highlightImgWrap" class="w-full h-full img-placeholder flex items-center justify-center text-slate-700 font-bold">
                                    HIGHLIGHT
                                </div>
                                <div
                                    class="absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center">
                                    <div id="highlightName" class="font-bold text-lg leading-tight">ë“±ë¡ëœ HIGHLIGHT ì—†ìŒ</div>
                                    <div id="highlightCategory" class="text-sm text-slate-600"></div>
                                </div>
                            </a>
                        </div>

                    </div>
                </div>

                <!-- ìš°ì¸¡: ìµœê³ ì˜ ê°€ê²Œ -->
                <div class="col-span-9 flex flex-col gap-6">
                    <div class="neo-card p-5">
                        <h2 class="font-bold mb-3 text-2xl text-center">ìµœê³ ì˜ ê°€ê²Œ</h2>

                        <div id="bestEmpty" class="hidden neo-card p-6 text-center text-slate-600 mb-4">
                            ì•„ì§ â€œìµœê³ ì˜ ê°€ê²Œâ€ì— ë“±ë¡ëœ ê°€ê²Œê°€ ì—†ìŠµë‹ˆë‹¤.
                        </div>

                        <div id="bestGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                    </div>
                </div>

            </section>

            <!-- âœ… í•˜ë‹¨ ë°•ìŠ¤ ë‘ ê°œ (col-span-9 ë²”ìœ„ ì•ˆì—ì„œë§Œ) -->
            <div class="grid grid-cols-2 gap-6">
                <div class="neo-card p-6 text-center">
                    <h3 class="font-bold text-lg mb-2">í•˜ë‹¨ ë°•ìŠ¤ 1</h3>
                    <p class="text-gray-600 text-sm">ì´ê³³ì€ ì„¤ëª… í…ìŠ¤íŠ¸</p>
                </div>
                <div class="neo-card p-6 text-center">
                    <h3 class="font-bold text-lg mb-2">í•˜ë‹¨ ë°•ìŠ¤ 2</h3>
                    <p class="text-gray-600 text-sm">ì´ê³³ì€ ì„¤ëª… í…ìŠ¤íŠ¸</p>
                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½ í•˜ë‹¨ ì„¸ë¡œ ë„¤ë¹„ê²Œì´ì…˜ -->
            <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">

                <!-- ì´ì „ -->
                <div class="flex flex-col items-center">
                    <button onclick="goBack()"
                        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                        â†
                    </button>
                    <span class="text-xs mt-1 text-gray-600 font-semibold">ì´ì „</span>
                </div>

                <!-- ë‹¤ìŒ -->
                <div class="flex flex-col items-center">
                    <button onclick="goNext()"
                        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                        â†’
                    </button>
                    <span class="text-xs mt-1 text-gray-600 font-semibold">ë‹¤ìŒ</span>
                </div>

                <!-- í™ˆ -->
                <div class="flex flex-col items-center">
                    <a href="/index.html"
                        class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow hover:from-blue-600 hover:to-blue-700 transition">
                        ğŸ 
                    </a>
                    <span class="text-xs mt-1 text-gray-600 font-semibold">í™ˆ</span>
                </div>
            </div>

            <!-- âœ… footer.html ë¶ˆëŸ¬ì˜¤ê¸° -->
            <div id="footer-placeholder"></div>

            <script>
                // âœ… header/footer ë™ì  í¬í•¨
                fetch("/components/header.html")
                    .then(r => r.text())
                    .then(d => document.getElementById("header-placeholder").innerHTML = d);

                fetch("/components/footer.html")
                    .then(r => r.text())
                    .then(d => document.getElementById("footer-placeholder").innerHTML = d);

                // âœ… ì„œë¸Œì¹´í…Œê³ ë¦¬ í† ê¸€ (ê°„ë‹¨í•œ í† ê¸€ êµ¬ì¡°)
                function toggleSub(btn) {
                    const ul = btn.nextElementSibling;
                    if (!ul) return;
                    ul.classList.toggle("hidden");
                }
            </script>

            <script>
                // =========================
                // âœ… ncategory2manager ì €ì¥ê°’ â†’ ncategory2 ë Œë”ë§
                // =========================

                const PAGE_KEY = "ncategory2"; // âœ… ë§¤ë‹ˆì €ì—ì„œ ì €ì¥í•  ë•Œ page ê°’ê³¼ ë°˜ë“œì‹œ ë™ì¼í•´ì•¼ í•¨

                function clean(v) {
                    if (v === undefined || v === null) return "";
                    return String(v).trim();
                }

                function normalizeImg(url) {
                    const u = clean(url);
                    if (!u) return "";
                    if (/^https?:\/\//i.test(u)) return u;
                    if (u.startsWith("/")) return u;
                    return "/" + u;
                }

                function buildStoreLink(store_type, store_id, link_url) {
                    const link = clean(link_url);
                    if (link) return link;

                    const t = clean(store_type);
                    const id = Number(store_id);
                    if (!Number.isFinite(id) || id <= 0) return "#";

                    // âœ… combined_store_info ì „ìš©(= ncategory2 ëª©ì )
                    if (t === "combined_store_info" || t === "combined") return `/ndetail.html?id=${id}&type=combined`;

                    // (í˜¹ì‹œ ì„ì—¬ ë“¤ì–´ì˜¤ë©´ ëŒ€ì‘)
                    if (t === "store_info") return `/ndetail.html?id=${id}&type=store_info`;
                    if (t === "food" || t === "food_stores") return `/ndetail.html?id=${id}&type=food`;

                    return "#";
                }

                function createCard({ name, category, imgUrl, href, borderClass = "border-yellow-200" }) {
                    const a = document.createElement("a");
                    a.href = href || "#";
                    a.className = "block group";

                    const wrap = document.createElement("div");
                    wrap.className = `neo-card p-0 overflow-hidden relative rounded-2xl border-4 ${borderClass}`;

                    const imgBox = document.createElement("div");
                    imgBox.className = "w-full h-60 md:h-64 img-placeholder";

                    if (imgUrl) {
                        const img = document.createElement("img");
                        img.src = imgUrl;
                        img.alt = name || "";
                        img.className = "w-full h-60 md:h-64 object-cover";
                        img.loading = "lazy";
                        img.onerror = () => {
                            // âœ… 404 ë°©ì§€: ì´ë¯¸ì§€ ê¹¨ì§€ë©´ placeholderë¡œ êµì²´
                            img.remove();
                            imgBox.classList.add("flex", "items-center", "justify-center");
                            imgBox.innerHTML = `<div class="text-slate-700 font-bold">${clean(name) || "NO IMAGE"}</div>`;
                        };
                        imgBox.innerHTML = "";
                        imgBox.appendChild(img);
                    } else {
                        imgBox.classList.add("flex", "items-center", "justify-center");
                        imgBox.innerHTML = `<div class="text-slate-700 font-bold">${clean(name) || "NO IMAGE"}</div>`;
                    }

                    const label = document.createElement("div");
                    label.className = "absolute left-3 right-3 bottom-3 bg-white/70 backdrop-blur-md rounded-xl shadow px-4 py-2 text-center";
                    label.innerHTML = `
                        <div class="font-bold text-lg">${clean(name) || "-"}</div>
                        <div class="text-sm text-slate-600">${category ? `ì—…ì¢…: ${clean(category)}` : ""}</div>
                    `;

                    wrap.appendChild(imgBox);
                    wrap.appendChild(label);
                    a.appendChild(wrap);
                    return a;
                }

                async function fetchSlotItems() {
                    // âœ… 1ìˆœìœ„: /slot-items
                    try {
                        const r = await fetch(`/ncategory2manager/ad/slot-items?page=${encodeURIComponent(PAGE_KEY)}`, { cache: "no-store" });
                        if (r.ok) {
                            const j = await r.json();
                            // ê¸°ëŒ€: { success:true, items:[...] } ë˜ëŠ” ê·¸ëƒ¥ ë°°ì—´
                            const items = Array.isArray(j) ? j : (j.items || j.data || []);
                            return Array.isArray(items) ? items : [];
                        }
                    } catch (e) { }

                    // âœ… 2ìˆœìœ„: /slots
                    try {
                        const r2 = await fetch(`/ncategory2manager/ad/slots?page=${encodeURIComponent(PAGE_KEY)}`, { cache: "no-store" });
                        if (r2.ok) {
                            const j2 = await r2.json();
                            const items2 = Array.isArray(j2) ? j2 : (j2.items || j2.data || []);
                            return Array.isArray(items2) ? items2 : [];
                        }
                    } catch (e) { }

                    return [];
                }

                function pickField(obj, keys) {
                    for (const k of keys) {
                        if (obj && obj[k] !== undefined && obj[k] !== null && String(obj[k]).trim() !== "") {
                            return obj[k];
                        }
                    }
                    return "";
                }

                function sortByPriority(a, b) {
                    const pa = Number(a.priority ?? a.rank ?? 0);
                    const pb = Number(b.priority ?? b.rank ?? 0);
                    return pa - pb;
                }

                function groupByPosition(items) {
                    const map = {};
                    for (const it of items) {
                        const pos = clean(it.position || it.slot_position || it.slot || it.pos);
                        if (!pos) continue;
                        if (!map[pos]) map[pos] = [];
                        map[pos].push(it);
                    }
                    for (const k of Object.keys(map)) map[k].sort(sortByPriority);
                    return map;
                }

                function findByContains(grouped, keyword) {
                    const keys = Object.keys(grouped);
                    return keys.filter(k => k.toLowerCase().includes(keyword.toLowerCase()))
                        .flatMap(k => grouped[k]);
                }

                function renderMvpHighlight(grouped) {
                    const mvp = findByContains(grouped, "mvp")[0];
                    const hi = findByContains(grouped, "highlight")[0];

                    // MVP
                    if (mvp) {
                        const name = pickField(mvp, ["business_name", "store_name", "title", "text_content"]);
                        const category = pickField(mvp, ["business_category", "category", "store_category"]);
                        const imgUrl = normalizeImg(pickField(mvp, ["image_url", "img_url", "image", "thumbnail_url"]));
                        const href = buildStoreLink(pickField(mvp, ["store_type", "type"]), pickField(mvp, ["store_id", "id"]), pickField(mvp, ["link_url", "url"]));

                        document.getElementById("mvpLink").href = href || "#";
                        document.getElementById("mvpName").textContent = name || "-";
                        document.getElementById("mvpCategory").textContent = category ? `ì—…ì¢…: ${category}` : "";

                        const wrap = document.getElementById("mvpImgWrap");
                        wrap.innerHTML = "";
                        wrap.className = "w-full h-full img-placeholder";
                        if (imgUrl) {
                            const img = document.createElement("img");
                            img.src = imgUrl;
                            img.alt = name || "";
                            img.className = "w-full h-full object-cover";
                            img.loading = "lazy";
                            img.onerror = () => {
                                img.remove();
                                wrap.classList.add("flex", "items-center", "justify-center");
                                wrap.innerHTML = `<div class="text-slate-700 font-bold">${name || "MVP"}</div>`;
                            };
                            wrap.appendChild(img);
                        } else {
                            wrap.classList.add("flex", "items-center", "justify-center");
                            wrap.innerHTML = `<div class="text-slate-700 font-bold">${name || "MVP"}</div>`;
                        }
                    }

                    // HIGHLIGHT
                    if (hi) {
                        const name = pickField(hi, ["business_name", "store_name", "title", "text_content"]);
                        const category = pickField(hi, ["business_category", "category", "store_category"]);
                        const imgUrl = normalizeImg(pickField(hi, ["image_url", "img_url", "image", "thumbnail_url"]));
                        const href = buildStoreLink(pickField(hi, ["store_type", "type"]), pickField(hi, ["store_id", "id"]), pickField(hi, ["link_url", "url"]));

                        document.getElementById("highlightLink").href = href || "#";
                        document.getElementById("highlightName").textContent = name || "-";
                        document.getElementById("highlightCategory").textContent = category ? `ì—…ì¢…: ${category}` : "";

                        const wrap = document.getElementById("highlightImgWrap");
                        wrap.innerHTML = "";
                        wrap.className = "w-full h-full img-placeholder";
                        if (imgUrl) {
                            const img = document.createElement("img");
                            img.src = imgUrl;
                            img.alt = name || "";
                            img.className = "w-full h-full object-cover";
                            img.loading = "lazy";
                            img.onerror = () => {
                                img.remove();
                                wrap.classList.add("flex", "items-center", "justify-center");
                                wrap.innerHTML = `<div class="text-slate-700 font-bold">${name || "HIGHLIGHT"}</div>`;
                            };
                            wrap.appendChild(img);
                        } else {
                            wrap.classList.add("flex", "items-center", "justify-center");
                            wrap.innerHTML = `<div class="text-slate-700 font-bold">${name || "HIGHLIGHT"}</div>`;
                        }
                    }
                }

                function renderBest(grouped) {
                    const bestList = findByContains(grouped, "best");

                    const grid = document.getElementById("bestGrid");
                    const empty = document.getElementById("bestEmpty");
                    grid.innerHTML = "";

                    if (!bestList || bestList.length === 0) {
                        empty.classList.remove("hidden");
                        return;
                    }
                    empty.classList.add("hidden");

                    // ìµœëŒ€ 6ê°œ ì •ë„ë§Œ (ì›í•˜ë©´ ë” ëŠ˜ë¦´ ìˆ˜ ìˆìŒ)
                    bestList.slice(0, 6).forEach(it => {
                        const name = pickField(it, ["business_name", "store_name", "title", "text_content"]);
                        const category = pickField(it, ["business_category", "category", "store_category"]);
                        const imgUrl = normalizeImg(pickField(it, ["image_url", "img_url", "image", "thumbnail_url"]));
                        const href = buildStoreLink(pickField(it, ["store_type", "type"]), pickField(it, ["store_id", "id"]), pickField(it, ["link_url", "url"]));

                        const card = createCard({
                            name,
                            category,
                            imgUrl,
                            href,
                            borderClass: "border-blue-100"
                        });

                        // ê¸°ì¡´ ìµœê³  ê°€ê²Œ ì¹´ë“œ ìŠ¤íƒ€ì¼ê³¼ ë™ì¼í•œ ëŠë‚Œ ìœ ì§€
                        card.querySelector("div").classList.remove("border-4");
                        card.querySelector("div").classList.add("transition-transform");
                        grid.appendChild(card);
                    });
                }

                function renderPowerSlider(grouped) {
                    const powerList = findByContains(grouped, "power");

                    const empty = document.getElementById("powerEmpty");
                    const viewport = document.getElementById("powerViewport");
                    const track = document.getElementById("powerAdTrack");

                    track.innerHTML = "";

                    if (!powerList || powerList.length === 0) {
                        empty.classList.remove("hidden");
                        viewport.classList.add("hidden");
                        return;
                    }

                    empty.classList.add("hidden");
                    viewport.classList.remove("hidden");

                    // âœ… 3ê°œì”© í•œ ê·¸ë£¹(ì›ë˜ ë„ˆ êµ¬ì¡° ìœ ì§€)
                    const perGroup = 3;
                    const groups = [];
                    for (let i = 0; i < powerList.length; i += perGroup) {
                        groups.push(powerList.slice(i, i + perGroup));
                    }

                    groups.forEach(groupItems => {
                        const group = document.createElement("div");
                        group.className = "power-group flex basis-full shrink-0";

                        // ë¶€ì¡±í•œ ì¹¸ì€ ë¹„ì›Œì„œ ë ˆì´ì•„ì›ƒ ìœ ì§€
                        for (let i = 0; i < perGroup; i++) {
                            const it = groupItems[i];
                            const col = document.createElement("div");
                            col.className = "w-1/3 px-2";

                            if (!it) {
                                col.innerHTML = `
                                    <div class="neo-card p-0 overflow-hidden relative rounded-2xl border-4 border-yellow-200">
                                        <div class="w-full h-60 md:h-64 img-placeholder flex items-center justify-center text-slate-700 font-bold">
                                            EMPTY
                                        </div>
                                    </div>
                                `;
                                group.appendChild(col);
                                continue;
                            }

                            const name = pickField(it, ["business_name", "store_name", "title", "text_content"]);
                            const category = pickField(it, ["business_category", "category", "store_category"]);
                            const imgUrl = normalizeImg(pickField(it, ["image_url", "img_url", "image", "thumbnail_url"]));
                            const href = buildStoreLink(pickField(it, ["store_type", "type"]), pickField(it, ["store_id", "id"]), pickField(it, ["link_url", "url"]));

                            const card = createCard({
                                name,
                                category,
                                imgUrl,
                                href,
                                borderClass: "border-yellow-200"
                            });

                            col.appendChild(card);
                            group.appendChild(col);
                        }

                        track.appendChild(group);
                    });

                    // âœ… ìŠ¬ë¼ì´ë” ë™ì‘(ë„¤ ê¸°ì¡´ ë¡œì§ ìœ ì§€ + ë°ì´í„° ê¸°ë°˜)
                    initPowerSlider();
                }

                function initPowerSlider() {
                    const viewport = document.getElementById("powerViewport");
                    const track = document.getElementById("powerAdTrack");
                    if (!viewport || !track) return;

                    const groupEls = track.querySelectorAll(".power-group");
                    let groups = groupEls.length;

                    if (groups <= 1) {
                        // ë²„íŠ¼ ìˆ¨ê¹€
                        const nextBtn = document.getElementById("nextBtn");
                        const prevBtn = document.getElementById("prevBtn");
                        if (nextBtn) nextBtn.classList.add("hidden");
                        if (prevBtn) prevBtn.classList.add("hidden");
                        track.style.transform = "translateX(0px)";
                        return;
                    } else {
                        const nextBtn = document.getElementById("nextBtn");
                        const prevBtn = document.getElementById("prevBtn");
                        if (nextBtn) nextBtn.classList.remove("hidden");
                        if (prevBtn) prevBtn.classList.remove("hidden");
                    }

                    // âœ… ëœë¤ ì‹œì‘ ìœ„ì¹˜
                    let index = Math.floor(Math.random() * groups);
                    let dir = 1;

                    function updateSlider() {
                        const slideWidth = viewport.clientWidth;
                        track.style.transform = `translateX(${-index * slideWidth}px)`;
                    }

                    function stepAuto() {
                        if (index >= groups - 1) dir = -1;
                        else if (index <= 0) dir = 1;
                        index = index + dir;
                        updateSlider();
                    }

                    function nextManual() {
                        if (index < groups - 1) index++;
                        else { dir = -1; index = groups - 2; }
                        updateSlider();
                    }

                    function prevManual() {
                        if (index > 0) index--;
                        else { dir = 1; index = 1; }
                        updateSlider();
                    }

                    const nextBtn = document.getElementById("nextBtn");
                    const prevBtn = document.getElementById("prevBtn");

                    // âœ… ì¤‘ë³µ ë°”ì¸ë”© ë°©ì§€
                    nextBtn?.replaceWith(nextBtn.cloneNode(true));
                    prevBtn?.replaceWith(prevBtn.cloneNode(true));

                    const nextBtn2 = document.getElementById("nextBtn");
                    const prevBtn2 = document.getElementById("prevBtn");

                    let timer = null;
                    const INTERVAL = 10000;

                    function startAuto() { if (!timer) timer = setInterval(stepAuto, INTERVAL); }
                    function stopAuto() { if (timer) { clearInterval(timer); timer = null; } }

                    nextBtn2?.addEventListener("click", () => { stopAuto(); nextManual(); startAuto(); });
                    prevBtn2?.addEventListener("click", () => { stopAuto(); prevManual(); startAuto(); });

                    window.addEventListener("resize", updateSlider);

                    document.addEventListener("visibilitychange", () => {
                        document.hidden ? stopAuto() : startAuto();
                    });

                    viewport.addEventListener("mouseenter", stopAuto);
                    viewport.addEventListener("mouseleave", startAuto);

                    updateSlider();
                    startAuto();
                }

                async function boot() {
                    const items = await fetchSlotItems();

                    // âœ… ë§¤ë‹ˆì € ì €ì¥ê°’ì´ ì•„ì˜ˆ ì—†ìœ¼ë©´(=DBì— ì•ˆ ë“¤ì–´ê°”ê±°ë‚˜ page í‚¤ê°€ ë‹¤ë¦„)
                    if (!items || items.length === 0) {
                        console.warn("âš ï¸ ncategory2 ìŠ¬ë¡¯ ë°ì´í„° ì—†ìŒ. (page í‚¤/ì €ì¥ ì—¬ë¶€/API ê²½ë¡œ í™•ì¸)");
                        // ë¹ˆ ìƒíƒœ í‘œì‹œ
                        document.getElementById("powerEmpty").classList.remove("hidden");
                        document.getElementById("powerViewport").classList.add("hidden");
                        document.getElementById("bestEmpty").classList.remove("hidden");
                        return;
                    }

                    const grouped = groupByPosition(items);

                    // âœ… ë Œë”
                    renderPowerSlider(grouped);
                    renderMvpHighlight(grouped);
                    renderBest(grouped);
                }

                document.addEventListener("DOMContentLoaded", boot);
            </script>

            <script>
                function goBack() {
                    if (document.referrer && document.referrer !== location.href) {
                        window.history.back();
                    } else {
                        window.location.href = "/category.html";
                    }
                }

                function goNext() {
                    window.history.forward();
                }
            </script>

        </main>
    </div>
</body>
</html>

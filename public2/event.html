<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>우리동네 추천 & 이벤트 소식</title>

    <!-- ✅ 메타 태그들 -->
    <meta name="description" content="우리동네 추천 가게와 이벤트 소식을 확인하세요. 할인 정보, 쿠폰 이벤트, 신규 오픈 소식을 한눈에!" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="우리동네 추천 & 이벤트 소식" />
    <meta property="og:description" content="추천 가게 소식과 할인/쿠폰 이벤트를 지금 확인하세요!" />
    <meta property="og:image" content="https://www.hongbono1.com/uploads/og-news.png" />
    <meta property="og:url" content="https://www.hongbono1.com/news.html" />
    <!-- 파비콘 & 아이콘 -->
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png" />
    <!-- 색상 스킴 -->
    <meta name="color-scheme" content="light" />
    <meta name="supported-color-schemes" content="light" />

    <!-- 구조화 데이터 (JSON-LD) -->
    <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "우리동네 추천 & 이벤트 소식",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@type": "Event",
          "name": "홍길동 분식 20% 할인 이벤트",
          "url": "https://www.hongbono1.com/news.html#event1",
          "image": "https://www.hongbono1.com/uploads/store1.jpg",
          "description": "오늘 하루 치즈돈가스 20% 할인 쿠폰 제공"
        }
      },
      {
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@type": "Event",
          "name": "이몽룡 카페 무료 음료 증정",
          "url": "https://www.hongbono1.com/news.html#event2",
          "image": "https://www.hongbono1.com/uploads/store2.jpg",
          "description": "커피 2잔 이상 주문 시 아메리카노 무료 증정"
        }
      }
    ]
  }</script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- ✅ Header -->
    <div id="header"></div>

    <!-- Hero Title (추천 소식과 동일 폭) -->
    <section class="py-8">
        <div class="max-w-6xl mx-auto px-4">
            <!-- 배경을 컨테이너 안으로 -->
            <div class="relative rounded-3xl bg-gradient-to-r from-yellow-100 to-pink-100 shadow-inner overflow-hidden">
                <div class="px-6 py-10 text-center">
                    <h1 class="text-4xl font-extrabold text-gray-800 drop-shadow-lg leading-snug">
                        🎉 우리동네 <span class="text-red-500">추천 & 이벤트 소식</span>
                    </h1>
                    <p class="mt-3 text-lg text-gray-700">
                        오늘의 특별한 혜택과 가게 소식을 지금 바로 확인하세요!
                    </p>
                </div>
                <!-- 장식 버블 -->
                <div
                    class="absolute top-0 left-0 w-24 h-24 bg-white/40 backdrop-blur-lg rounded-full shadow-lg -translate-x-10 -translate-y-10">
                </div>
                <div
                    class="absolute bottom-0 right-0 w-28 h-28 bg-pink-200/40 backdrop-blur-lg rounded-full shadow-lg translate-x-12 translate-y-12">
                </div>
            </div>
        </div>
    </section>

    <!-- ✅ 추천 소식 (6장 고정) -->
    <section class="max-w-6xl mx-auto px-4 py-12">
        <h2 class="text-3xl font-bold mb-8 text-center text-blue-700">✨ 추천 소식</h2>
        <div id="recommendGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
    </section>

    <!-- ✅ 이벤트 소식 (6장 고정, 카드 모양 동일) -->
    <section class="max-w-6xl mx-auto px-4 py-12">
        <div class="rounded-3xl bg-gradient-to-r from-yellow-50 to-orange-50 shadow-inner p-1">
            <div class="rounded-3xl p-6">
                <h2 class="text-3xl font-bold mb-8 text-center text-orange-600">🔥 이벤트 소식</h2>
                <div id="eventGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <div id="footer"></div>

    <script>
        // 헤더/푸터 로드
        fetch('/components/header.html')
            .then(r => r.text()).then(d => document.getElementById('header').innerHTML = d);
        fetch('/components/footer.html')
            .then(r => r.text()).then(d => document.getElementById('footer').innerHTML = d);

        // 예시 데이터 (연동 전)
        const recommendData = [
            { id: 1, image: "/uploads/store1.jpg", name: "홍길동 분식", desc: "신규 오픈! 떡볶이+튀김 세트 인기", link: "detail.html?id=1" },
            { id: 2, image: "/uploads/store2.jpg", name: "이몽룡 카페", desc: "달콤한 디저트 & 스페셜티 커피 추천", link: "detail.html?id=2" },
            { id: 3, image: "/uploads/store3.jpg", name: "성춘향 헤어샵", desc: "가을맞이 헤어 컬러 트렌드", link: "detail.html?id=3" },
        ];

        const eventData = [
            { id: "event1", image: "/uploads/store4.jpg", title: "20% 할인!", desc: "치킨 세트 전 메뉴 적용", cta: "쿠폰 받기", link: "#" },
            { id: "event2", image: "/uploads/store5.jpg", title: "무료 음료 증정", desc: "커피 2잔 이상 주문 시", cta: "쿠폰 받기", link: "#" },
            { id: "event3", image: "/uploads/store6.jpg", title: "배달비 0원", desc: "주말 한정, 분식 전 메뉴", cta: "쿠폰 받기", link: "#" },
        ];

        // 공통 렌더 유틸(6장 고정)
        function renderGrid(containerId, items, total, cardFactory, emptyFactory) {
            const $ = document.getElementById(containerId);
            $.innerHTML = "";
            const data = items.slice(0, total);
            while (data.length < total) data.push(null);        // 부족하면 더미(placeholder)로 채움
            data.forEach(item => $.appendChild(item ? cardFactory(item) : emptyFactory()));
        }

        // ✅ 위 카드와 완전히 동일한 템플릿 (추천/이벤트 공용)
        function createUnifiedCard({ image, title, desc, link, ctaText = "자세히 보기" }) {
            const card = document.createElement("div");
            card.className = "bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition";
            card.innerHTML = `
      <img src="${image || '/uploads/no-image.png'}" alt="${title || ''}" class="h-40 w-full object-cover">
      <div class="p-6 text-center">
        <h3 class="text-xl font-bold">${title || '정보 없음'}</h3>
        <p class="text-gray-600 mt-2">${desc || ''}</p>
        <a href="${link || '#'}" class="mt-4 inline-block bg-blue-500 text-white px-4 py-2 rounded-lg">${ctaText}</a>
      </div>`;
            return card;
        }

        // ✅ 위 카드 모양에 맞춘 더미(스켈레톤)
        function createUnifiedEmpty() {
            const d = document.createElement("div");
            d.className = "bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition";
            d.innerHTML = `
      <div class="w-full h-40 bg-gray-100 animate-pulse"></div>
      <div class="p-6">
        <div class="h-4 w-2/3 bg-gray-100 rounded mb-2 animate-pulse"></div>
        <div class="h-3 w-1/2 bg-gray-100 rounded animate-pulse"></div>
      </div>`;
            return d;
        }

        // 실행: 두 섹션 모두 동일 카드 + 더미로 6장 고정
        document.addEventListener("DOMContentLoaded", () => {
            
            // 추천 소식 → 통일 템플릿
            const recItems = recommendData.map(x => ({
                id: x.id ? `rec-${x.id}` : undefined,
                image: x.image, title: x.name, desc: x.desc, link: x.link, ctaText: "자세히 보기"
            }));
            renderGrid("recommendGrid", recItems, 6, createUnifiedCard, createUnifiedEmpty);

            // 이벤트 소식 → 통일 템플릿(버튼 문구만 변경) + id 매핑(#event1, #event2…)
            const evtItems = eventData.map(x => ({
                id: x.id, image: x.image, title: x.title, desc: x.desc, link: x.link, ctaText: x.cta || "쿠폰 받기"
            }));
            renderGrid("eventGrid", evtItems, 6, createUnifiedCard, createUnifiedEmpty);
        });
    </script>
</body>

</html>
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìš°ë¦¬ë™ë„¤ ì¶”ì²œ & ì´ë²¤íŠ¸ ì†Œì‹</title>

    <!-- âœ… ë©”íƒ€ íƒœê·¸ë“¤ -->
    <meta name="description" content="ìš°ë¦¬ë™ë„¤ ì¶”ì²œ ê°€ê²Œì™€ ì´ë²¤íŠ¸ ì†Œì‹ì„ í™•ì¸í•˜ì„¸ìš”. í• ì¸ ì •ë³´, ì¿ í° ì´ë²¤íŠ¸, ì‹ ê·œ ì˜¤í”ˆ ì†Œì‹ì„ í•œëˆˆì—!" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="ìš°ë¦¬ë™ë„¤ ì¶”ì²œ & ì´ë²¤íŠ¸ ì†Œì‹" />
    <meta property="og:description" content="ì¶”ì²œ ê°€ê²Œ ì†Œì‹ê³¼ í• ì¸/ì¿ í° ì´ë²¤íŠ¸ë¥¼ ì§€ê¸ˆ í™•ì¸í•˜ì„¸ìš”!" />
    <meta property="og:image" content="https://www.hongbono1.com/uploads/og-news.png" />
    <meta property="og:url" content="https://www.hongbono1.com/news.html" />
    <!-- íŒŒë¹„ì½˜ & ì•„ì´ì½˜ -->
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png" />
    <!-- ìƒ‰ìƒ ìŠ¤í‚´ -->
    <meta name="color-scheme" content="light" />
    <meta name="supported-color-schemes" content="light" />

    <!-- êµ¬ì¡°í™” ë°ì´í„° (JSON-LD) -->
    <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "ìš°ë¦¬ë™ë„¤ ì¶”ì²œ & ì´ë²¤íŠ¸ ì†Œì‹",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@type": "Event",
          "name": "í™ê¸¸ë™ ë¶„ì‹ 20% í• ì¸ ì´ë²¤íŠ¸",
          "url": "https://www.hongbono1.com/news.html#event1",
          "image": "https://www.hongbono1.com/uploads/store1.jpg",
          "description": "ì˜¤ëŠ˜ í•˜ë£¨ ì¹˜ì¦ˆëˆê°€ìŠ¤ 20% í• ì¸ ì¿ í° ì œê³µ"
        }
      },
      {
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@type": "Event",
          "name": "ì´ëª½ë£¡ ì¹´í˜ ë¬´ë£Œ ìŒë£Œ ì¦ì •",
          "url": "https://www.hongbono1.com/news.html#event2",
          "image": "https://www.hongbono1.com/uploads/store2.jpg",
          "description": "ì»¤í”¼ 2ì” ì´ìƒ ì£¼ë¬¸ ì‹œ ì•„ë©”ë¦¬ì¹´ë…¸ ë¬´ë£Œ ì¦ì •"
        }
      }
    ]
  }</script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- âœ… Header -->
    <div id="header"></div>

    <!-- Hero Title (ì¶”ì²œ ì†Œì‹ê³¼ ë™ì¼ í­) -->
    <section class="py-8">
        <div class="max-w-6xl mx-auto px-4">
            <!-- ë°°ê²½ì„ ì»¨í…Œì´ë„ˆ ì•ˆìœ¼ë¡œ -->
            <div class="relative rounded-3xl bg-gradient-to-r from-yellow-100 to-pink-100 shadow-inner overflow-hidden">
                <div class="px-6 py-10 text-center">
                    <h1 class="text-4xl font-extrabold text-gray-800 drop-shadow-lg leading-snug">
                        ğŸ‰ ìš°ë¦¬ë™ë„¤ <span class="text-red-500">ì¶”ì²œ & ì´ë²¤íŠ¸ ì†Œì‹</span>
                    </h1>
                    <p class="mt-3 text-lg text-gray-700">
                        ì˜¤ëŠ˜ì˜ íŠ¹ë³„í•œ í˜œíƒê³¼ ê°€ê²Œ ì†Œì‹ì„ ì§€ê¸ˆ ë°”ë¡œ í™•ì¸í•˜ì„¸ìš”!
                    </p>
                </div>
                <!-- ì¥ì‹ ë²„ë¸” -->
                <div
                    class="absolute top-0 left-0 w-24 h-24 bg-white/40 backdrop-blur-lg rounded-full shadow-lg -translate-x-10 -translate-y-10">
                </div>
                <div
                    class="absolute bottom-0 right-0 w-28 h-28 bg-pink-200/40 backdrop-blur-lg rounded-full shadow-lg translate-x-12 translate-y-12">
                </div>
            </div>
        </div>
    </section>

    <!-- âœ… í• ì¸ ì •ë³´ (6ì¥ ê³ ì •) -->
    <section class="max-w-6xl mx-auto px-4 py-12">
        <h2 class="text-3xl font-bold mb-8 text-center text-blue-700">âœ¨ í• ì¸ ì†Œì‹</h2>
        <div id="discountGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        <div class="flex justify-center gap-4 mt-6">
            <button id="discountPrev"
                class="w-10 h-10 flex items-center justify-center rounded-full bg-white/70 backdrop-blur-lg shadow-[4px_4px_10px_rgba(0,0,0,0.1),-4px_-4px_10px_rgba(255,255,255,0.6)] hover:scale-110 transition">
                â€¹
            </button>
            <span id="discountPageInfo" class="px-3 py-2 text-gray-700 font-bold"></span>
            <button id="discountNext"
                class="w-10 h-10 flex items-center justify-center rounded-full bg-white/70 backdrop-blur-lg shadow-[4px_4px_10px_rgba(0,0,0,0.1),-4px_-4px_10px_rgba(255,255,255,0.6)] hover:scale-110 transition">
                â€º
            </button>
        </div>

    </section>

    <!-- âœ… ì´ë²¤íŠ¸ ì†Œì‹ (6ì¥ ê³ ì •, ì¹´ë“œ ëª¨ì–‘ ë™ì¼) -->
    <section class="max-w-6xl mx-auto px-4 py-12 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl shadow-inner">
        <h2 class="text-3xl font-bold mb-8 text-center text-orange-600">ğŸ”¥ ì´ë²¤íŠ¸ ì†Œì‹</h2>
        <div id="eventGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        <div class="flex justify-center gap-4 mt-6">
            <div class="flex justify-center gap-4 mt-6">
                <button id="eventPrev"
                    class="w-10 h-10 flex items-center justify-center rounded-full bg-white/70 backdrop-blur-lg shadow-[4px_4px_10px_rgba(0,0,0,0.1),-4px_-4px_10px_rgba(255,255,255,0.6)] hover:scale-110 transition">
                    â€¹
                </button>
                <span id="eventPageInfo" class="px-3 py-2 text-gray-700 font-bold"></span>
                <button id="eventNext"
                    class="w-10 h-10 flex items-center justify-center rounded-full bg-white/70 backdrop-blur-lg shadow-[4px_4px_10px_rgba(0,0,0,0.1),-4px_-4px_10px_rgba(255,255,255,0.6)] hover:scale-110 transition">
                    â€º
                </button>
            </div>
    </section>

    <!-- âœ… ìš°ì¸¡ í•˜ë‹¨ ê³ ì • ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="fixed bottom-6 right-6 flex flex-col items-center gap-4 z-50">

        <!-- ì´ì „ -->
        <div class="flex flex-col items-center">
            <button onclick="goBack()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                â†
            </button>
            <span class="text-xs mt-1 text-gray-600 font-semibold">ì´ì „</span>
        </div>

        <!-- ë‹¤ìŒ -->
        <div class="flex flex-col items-center">
            <button onclick="goNext()"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 shadow hover:from-gray-200 hover:to-gray-300 transition">
                â†’
            </button>
            <span class="text-xs mt-1 text-gray-600 font-semibold">ë‹¤ìŒ</span>
        </div>

        <!-- í™ˆ -->
        <div class="flex flex-col items-center">
            <a href="/index.html"
                class="w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow hover:from-blue-600 hover:to-blue-700 transition">
                ğŸ 
            </a>
            <span class="text-xs mt-1 text-gray-600 font-semibold">í™ˆ</span>
        </div>
    </div>
    </div>

    <!-- Footer -->
    <div id="footer"></div>

    <script>
        // í—¤ë”/í‘¸í„° ë¡œë“œ
        fetch('/components/header.html')
            .then(r => r.text()).then(d => document.getElementById('header').innerHTML = d);
        fetch('/components/footer.html')
            .then(r => r.text()).then(d => document.getElementById('footer').innerHTML = d);

        // âœ… ë”ë¯¸ ë°ì´í„° (API ì—°ë™ ì—†ì„ ê²½ìš° ëŒ€ë¹„)
        let discountData = [];
        let eventData = [];

        // API ì—°ë™ (ì‹¤íŒ¨ ì‹œ ë”ë¯¸ë¡œ ëŒ€ì²´)
        async function fetchData() {
            try {
                const disRes = await fetch('/api/discount');
                discountData = disRes.ok ? await disRes.json() : [];
            } catch { discountData = []; }

            try {
                const evtRes = await fetch('/api/event');
                eventData = evtRes.ok ? await evtRes.json() : [];
            } catch { eventData = []; }

            // ë”ë¯¸ ë°ì´í„° ì±„ìš°ê¸° (ì—†ì„ ê²½ìš°)
            if (!discountData.length) {
                discountData = Array.from({ length: 12 }).map((_, i) => ({
                    image: "/uploads/no-image.png",
                    title: `í• ì¸ ${i + 1}`,
                    desc: `í• ì¸ ì„¤ëª… ${i + 1}`,
                    link: "#",
                    ctaText: "ìì„¸íˆ ë³´ê¸°"
                }));
            }
            if (!eventData.length) {
                eventData = Array.from({ length: 14 }).map((_, i) => ({
                    image: "/uploads/no-image.png",
                    title: `ì´ë²¤íŠ¸ ${i + 1}`,
                    desc: `ì´ë²¤íŠ¸ ì„¤ëª… ${i + 1}`,
                    link: "#",
                    ctaText: "ì¿ í° ë°›ê¸°"
                }));
            }

            updateDiscount();
            updateEvent();
        }

        // âœ… ì¹´ë“œ ëª¨ì–‘ (ë„¤ì˜¤ëª¨í”¼ì¦˜ + ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ + 3D)
        function createUnifiedCard({ image, title, desc, link, ctaText = "ìì„¸íˆ ë³´ê¸°" }) {
            const d = document.createElement("div");
            d.className =
                "bg-white/70 backdrop-blur-lg rounded-2xl shadow-[8px_8px_20px_rgba(0,0,0,0.15),-8px_-8px_20px_rgba(255,255,255,0.6)] overflow-hidden hover:scale-105 transform transition duration-300";
            d.innerHTML = `
      <img src="${image}" class="h-40 w-full object-cover">
      <div class="p-6 text-center">
        <h3 class="text-xl font-bold text-gray-800">${title}</h3>
        <p class="text-gray-600 mt-2">${desc}</p>
        <a href="${link}" 
           class="mt-4 inline-block bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-5 py-2 rounded-xl shadow-md hover:shadow-lg hover:from-indigo-500 hover:to-blue-500 transition">
           ${ctaText}
        </a>
      </div>`;
            return d;
        }

        // âœ… í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
        function renderPagedGrid(containerId, items, pageIndex, pageSize) {
            const $ = document.getElementById(containerId);
            $.innerHTML = "";
            const start = pageIndex * pageSize;
            const pageItems = items.slice(start, start + pageSize);
            pageItems.forEach(item => $.appendChild(createUnifiedCard(item)));
        }

        // âœ… í• ì¸ ì†Œì‹ í˜ì´ì§€ë„¤ì´ì…˜
        let disPage = 0;
        const disPageSize = 6;
        function updateDiscount() {
            renderPagedGrid("discountGrid", discountData, disPage, disPageSize);
            const totalPages = Math.ceil(discountData.length / disPageSize);
            document.getElementById("discountPageInfo").innerText = `${disPage + 1} / ${totalPages}`;
        }
        document.getElementById("discountPrev").onclick = () => {
            if (disPage > 0) disPage--;
            updateDiscount();
        };
        document.getElementById("discountNext").onclick = () => {
            if ((disPage + 1) * disPageSize < discountData.length) disPage++;
            updateDiscount();
        };

        // âœ… ì´ë²¤íŠ¸ ì†Œì‹ í˜ì´ì§€ë„¤ì´ì…˜
        let evtPage = 0;
        const evtPageSize = 6;
        function updateEvent() {
            renderPagedGrid("eventGrid", eventData, evtPage, evtPageSize);
            const totalPages = Math.ceil(eventData.length / evtPageSize);
            document.getElementById("eventPageInfo").innerText = `${evtPage + 1} / ${totalPages}`;
        }
        document.getElementById("eventPrev").onclick = () => {
            if (evtPage > 0) evtPage--;
            updateEvent();
        };
        document.getElementById("eventNext").onclick = () => {
            if ((evtPage + 1) * evtPageSize < eventData.length) evtPage++;
            updateEvent();
        };

        // âœ… ì´ˆê¸° ë¡œë”©
        fetchData();

        function goBack() {
            window.history.back();   // ë°”ë¡œ ì „ì— ë³¸ í˜ì´ì§€
        }
        function goNext() {
            window.history.forward(); // ì•ìœ¼ë¡œ ê°ˆ í˜ì´ì§€
        }

    </script>
</body>

</html>
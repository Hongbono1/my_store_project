<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìš°ë¦¬ë™ë„¤ ê°€ê²Œ ì‹ ë¬¸ | MALL HANKOOK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: Pretendard, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #f8f1e2 0, #e7d8c0 40%, #d2c1a5 100%);
            color: #222222;
        }

        .paper-shell {
            position: relative;
            background: #f7efe0;
            border-radius: 0.75rem;
            border: 1px solid rgba(70, 43, 20, 0.35);
            box-shadow: 0 22px 40px rgba(0, 0, 0, 0.18), 0 0 0 1px rgba(255, 255, 255, 0.7);
            padding: 1.5rem;
        }

        .paper-shell::before {
            content: "";
            position: absolute;
            inset: 10px;
            border: 1px dashed rgba(120, 86, 50, 0.35);
            pointer-events: none;
            opacity: 0.9;
        }

        .paper-shell>* {
            position: relative;
            z-index: 1;
        }

        .neo-article {
            background: linear-gradient(135deg, #fbf4e7 0%, #f3e5cf 100%);
            border-radius: 0.6rem;
            border: 1px solid rgba(106, 78, 45, 0.35);
            box-shadow: 0 12px 26px rgba(0, 0, 0, 0.12), inset 0 0 0 1px rgba(255, 255, 255, 0.6);
            transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
        }

        .neo-article:hover {
            transform: translateY(-3px);
            box-shadow: 0 18px 32px rgba(0, 0, 0, 0.18), inset 0 0 0 1px rgba(255, 255, 255, 0.7);
            background: linear-gradient(135deg, #fcf6ea 0%, #f5e6d2 100%);
        }

        .section-header {
            background: #fef3c7;
            border: 1px solid rgba(217, 119, 6, 0.5);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            font-size: 0.8rem;
            font-weight: 800;
            color: #92400e;
            letter-spacing: 0.22em;
        }

        .store-card {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 0.5rem;
            transition: background 0.2s;
        }

        .store-card:hover {
            background: rgba(255, 255, 255, 0.8);
        }

        .store-card-image {
            width: 48px;
            height: 48px;
            border-radius: 0.375rem;
            object-fit: cover;
            background: #e5e7eb;
        }

        .store-card-info {
            flex: 1;
            min-width: 0;
        }

        .store-card-name {
            font-size: 0.875rem;
            font-weight: 600;
            color: #1f2937;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .store-card-category {
            font-size: 0.75rem;
            color: #6b7280;
        }
    </style>
</head>

<body class="min-h-screen text-slate-900">
    <div id="header-placeholder"></div>

    <main class="max-w-7xl mx-auto px-4 pt-24 pb-16">
        <!-- ì‹ ë¬¸ íƒ€ì´í‹€ -->
        <section class="paper-shell px-4 sm:px-8 py-6 sm:py-8 mb-8 text-center">
            <div class="flex flex-col items-center gap-3 border-b border-slate-300/60 pb-4">
                <p class="text-[11px] sm:text-xs uppercase tracking-[0.25em] text-slate-500">
                    MALL HANKOOK Â· DAILY LOCAL DIGEST
                </p>
                <h1 class="mt-1 text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-tight text-slate-900">
                    ì˜¤ëŠ˜ì˜ ìš°ë¦¬ë™ë„¤ ê°€ê²Œ ì‹ ë¬¸
                </h1>
                <p class="mt-2 max-w-2xl text-xs sm:text-sm text-slate-600 leading-relaxed">
                    ìµœê·¼ ë“±ë¡ëœ ìš°ë¦¬ë™ë„¤ ê°€ê²Œì™€ ì†Œì‹ì„ ì‹ ë¬¸ì²˜ëŸ¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”
                </p>
                <p class="mt-1 text-[11px] sm:text-xs text-slate-500">
                    ë°œí–‰: <span id="todayDate"></span> Â· <span class="font-semibold">ìš°ë¦¬ë™ë„¤ ìš”ì•½íŒ</span>
                </p>
            </div>
        </section>

        <!-- 3ë‹¨ ì‹ ë¬¸ ë ˆì´ì•„ì›ƒ -->
        <div class="paper-shell px-4 sm:px-6 py-6 sm:py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

                <!-- ğŸ“° ì™¼ìª½ ì»¬ëŸ¼ -->
                <div class="space-y-6">
                    <!-- HOT ë­í‚¹ -->
                    <section class="space-y-3">
                        <div class="section-header bg-amber-50/90 text-stone-800 border border-amber-200/80 px-4 py-2 text-xs tracking-[0.2em] uppercase text-center rounded-lg">
                            ê°€ì¥ HOTí•œ ìš°ë¦¬ë™ë„¤
                        </div>
                        <article class="neo-article p-4 flex flex-col">
                            <h2 class="text-base font-extrabold text-slate-900">
                                ìš”ì¦˜ ê°€ì¥ ë§ì´ ì°¾ëŠ” ê°€ê²Œ TOP
                            </h2>
                            <p id="hotSummary" class="mt-2 text-xs text-slate-700">
                                HOT ë­í‚¹ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
                            </p>
                            <div id="hotCards" class="mt-3 space-y-2"></div>
                            <div class="mt-4 flex items-center justify-between text-xs">
                                <span class="text-slate-500">HOT ë­í‚¹</span>
                                <a href="/hot.html" class="text-indigo-700 font-semibold hover:underline">ë³´ê¸° â†’</a>
                            </div>
                        </article>
                    </section>

                    <!-- ì „í†µì‹œì¥ -->
                    <section class="space-y-3">
                        <div class="section-header bg-amber-50/90 text-stone-800 border border-amber-200/80 px-4 py-2 text-xs tracking-[0.2em] uppercase text-center rounded-lg">
                            ì „í†µì‹œì¥
                        </div>
                        <article class="neo-article p-4 flex flex-col">
                            <h2 class="text-base font-extrabold text-slate-900">
                                ìš°ë¦¬ë™ë„¤ ì „í†µì‹œì¥ ì†Œì‹
                            </h2>
                            <p id="marketSummary" class="mt-2 text-xs text-slate-700">
                                ì „í†µì‹œì¥ ì†Œì‹ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
                            </p>
                            <div id="marketCards" class="mt-3 space-y-2"></div>
                            <div class="mt-4 flex items-center justify-between text-xs">
                                <span class="text-slate-500">ì‹œì¥ ì†Œì‹</span>
                                <a href="/traditionalmarket.html" class="text-indigo-700 font-semibold hover:underline">ë³´ê¸° â†’</a>
                            </div>
                        </article>
                    </section>

                    <!-- ì´ë²¤íŠ¸ -->
                    <section class="space-y-3">
                        <div class="section-header bg-amber-50/90 text-stone-800 border border-amber-200/80 px-4 py-2 text-xs tracking-[0.2em] uppercase text-center rounded-lg">
                            ì´ë²¤íŠ¸
                        </div>
                        <article class="neo-article p-4 flex flex-col">
                            <h2 class="text-base font-extrabold text-slate-900">
                                ì˜¤ëŠ˜ì˜ í• ì¸ ì´ë²¤íŠ¸
                            </h2>
                            <p id="eventSummary" class="mt-2 text-xs text-slate-700">
                                ìµœì‹  ì´ë²¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
                            </p>
                            <ul id="eventList" class="mt-3 space-y-1 text-xs text-slate-600"></ul>
                            <div class="mt-4 flex items-center justify-between text-xs">
                                <span class="text-slate-500">ì´ë²¤íŠ¸</span>
                                <a href="/event.html" class="text-indigo-700 font-semibold hover:underline">ë³´ê¸° â†’</a>
                            </div>
                        </article>
                    </section>
                </div>

                <!-- ğŸ“° ê°€ìš´ë° ì»¬ëŸ¼ -->
                <div class="space-y-6">
                    <!-- í™ë³´ì˜ ë°°ë‹¬ -->
                    <section class="space-y-3">
                        <div class="section-header bg-amber-50/90 text-stone-800 border border-amber-200/80 px-4 py-2 text-xs tracking-[0.2em] uppercase text-center rounded-lg">
                            í™ë³´ì˜ ë°°ë‹¬
                        </div>
                        <article class="neo-article p-5 flex flex-col min-h-[400px]">
                            <h2 class="text-xl font-extrabold text-slate-900">
                                ì˜¤ëŠ˜ ë°°ë‹¬ ì£¼ë¬¸ ë§ì€ ìš°ë¦¬ë™ë„¤ ëŒ€í‘œ ê°€ê²Œ
                            </h2>
                            <p id="promoDeliverySummary" class="mt-3 text-sm text-slate-700">
                                ìµœê·¼ ë“±ë¡ëœ ê°€ê²Œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
                            </p>
                            <div id="promoDeliveryCards" class="mt-4 space-y-3"></div>
                            <div class="mt-auto pt-4 flex items-center justify-between text-xs border-t border-slate-200">
                                <span class="text-slate-500">í™ë³´ì˜ ë°°ë‹¬ ì „ì²´ ë³´ê¸°</span>
                                <a href="/foodcategory.html" class="text-indigo-700 font-semibold hover:underline">ìì„¸íˆ ë³´ê¸° â†’</a>
                            </div>
                        </article>
                    </section>

                    <!-- ì˜¤í”ˆ ì˜ˆì • -->
                    <section class="space-y-3">
                        <div class="section-header bg-amber-50/90 text-stone-800 border border-amber-200/80 px-4 py-2 text-xs tracking-[0.2em] uppercase text-center rounded-lg">
                            ì˜¤í”ˆ ì˜ˆì •
                        </div>
                        <article class="neo-article p-4 flex flex-col">
                            <h2 class="text-base font-extrabold text-slate-900">
                                ê³§ ë¬¸ ì—¬ëŠ” ìƒˆ ê°€ê²Œ
                            </h2>
                            <p id="openSummary" class="mt-2 text-xs text-slate-700">
                                ê³§ ì˜¤í”ˆ ì˜ˆì •ì¸ ê°€ê²Œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
                            </p>
                            <div id="openCards" class="mt-3 space-y-2"></div>
                            <div class="mt-4 flex items-center justify-between text-xs">
                                <span class="text-slate-500">ì‹ ê·œ ì˜¤í”ˆ</span>
                                <a href="/open.html" class="text-indigo-700 font-semibold hover:underline">ë³´ê¸° â†’</a>
                            </div>
                        </article>
                    </section>
                </div>

                <!-- ğŸ“° ì˜¤ë¥¸ìª½ ì»¬ëŸ¼ -->
                <aside class="space-y-6">
                    <!-- ìš°ë¦¬ë™ë„¤ ëª¨ë“  ê°€ê²Œ -->
                    <section class="space-y-3">
                        <div class="section-header bg-amber-50/90 text-stone-800 border border-amber-200/80 px-4 py-2 text-xs tracking-[0.2em] uppercase text-center rounded-lg">
                            ìš°ë¦¬ë™ë„¤ ëª¨ë“  ê°€ê²Œ
                        </div>
                        <article class="neo-article p-4 flex flex-col">
                            <h2 class="text-base font-extrabold text-slate-900">
                                ë™ë„¤ ì „ì²´ ê°€ê²Œ ì§€ë„
                            </h2>
                            <p id="allStoresSummary" class="mt-2 text-xs text-slate-700">
                                ìµœê·¼ ë“±ë¡ëœ ê°€ê²Œë“¤ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
                            </p>
                            <div id="allStoresCards" class="mt-3 space-y-2"></div>
                            <div class="mt-4 flex items-center justify-between text-xs">
                                <span class="text-slate-500">ì „ì²´ ê°€ê²Œ</span>
                                <a href="/ncategory.html" class="text-indigo-700 font-semibold hover:underline">ë³´ê¸° â†’</a>
                            </div>
                        </article>
                    </section>

                    <!-- ì§€ì—­ ê²Œì‹œíŒ -->
                    <section class="space-y-3">
                        <div class="section-header bg-amber-50/90 text-stone-800 border border-amber-200/80 px-4 py-2 text-xs tracking-[0.2em] uppercase text-center rounded-lg">
                            ì§€ì—­ ê²Œì‹œíŒ
                        </div>
                        <article class="neo-article p-4 flex flex-col">
                            <h2 class="text-base font-extrabold text-slate-900">
                                ìš°ë¦¬ë™ë„¤ í•œë§ˆë””
                            </h2>
                            <p id="localBoardSummary" class="mt-2 text-xs text-slate-700">
                                ì§€ì—­ ê²Œì‹œíŒ ìµœì‹  ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...
                            </p>
                            <ul id="localBoardList" class="mt-3 space-y-1 text-xs text-slate-600"></ul>
                            <div class="mt-4 flex items-center justify-between text-xs">
                                <span class="text-slate-500">ê²Œì‹œíŒ</span>
                                <a href="/localboard.html" class="text-indigo-700 font-semibold hover:underline">ë³´ê¸° â†’</a>
                            </div>
                        </article>
                    </section>
                </aside>

            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Header/Footer ë¡œë”©
            fetch("/components/header.html")
                .then(res => res.text())
                .then(html => {
                    const target = document.getElementById("header-placeholder");
                    if (target) target.innerHTML = html;
                });

            fetch("/components/footer.html")
                .then(res => res.text())
                .then(html => {
                    const target = document.getElementById("footer-placeholder");
                    if (target) target.innerHTML = html;
                });

            // ì˜¤ëŠ˜ ë‚ ì§œ ì„¤ì •
            const d = new Date();
            const todayText = d.toLocaleDateString("ko-KR", {
                year: "numeric",
                month: "2-digit",
                day: "2-digit",
                weekday: "short",
            });
            const dateEl = document.getElementById("todayDate");
            if (dateEl) dateEl.textContent = todayText;

            // ğŸ”¥ ëª¨ë“  ì„¹ì…˜ ë¡œë”©
            loadPromoDeliveryLatest();
            loadHotLatest();
            loadMarketLatest();
            loadEventLatest();
            loadOpenLatest();
            loadAllStoresLatest();
            loadLocalBoardLatest();
        });

        // âœ… ê°€ê²Œ ì¹´ë“œ ìƒì„± í•¨ìˆ˜
        function createStoreCard(store, linkUrl) {
            const imageUrl = store.image || '/uploads/no-image.png';
            const storeName = store.name || store.store_name || 'ì´ë¦„ ë¯¸ë“±ë¡';
            const category = store.category || store.store_category || 'ì¼ë°˜';

            return `
                <a href="${linkUrl}?id=${store.id}" class="store-card">
                    <img src="${imageUrl}" alt="${storeName}" class="store-card-image" onerror="this.src='/uploads/no-image.png'">
                    <div class="store-card-info">
                        <div class="store-card-name">${storeName}</div>
                        <div class="store-card-category">${category}</div>
                    </div>
                </a>
            `;
        }

        // ğŸ”½ í™ë³´ì˜ ë°°ë‹¬
        async function loadPromoDeliveryLatest() {
            const summaryEl = document.getElementById("promoDeliverySummary");
            const cardsEl = document.getElementById("promoDeliveryCards");

            try {
                const res = await fetch("/api/food/latest?limit=5");
                if (!res.ok) throw new Error("API í˜¸ì¶œ ì‹¤íŒ¨");
                const data = await res.json();

                if (!data || data.length === 0) {
                    summaryEl.textContent = "ì•„ì§ ë“±ë¡ëœ ë°°ë‹¬ ê°€ê²Œê°€ ì—†ìŠµë‹ˆë‹¤.";
                    cardsEl.innerHTML = "";
                    return;
                }

                summaryEl.textContent = `ìµœê·¼ ë“±ë¡ëœ ê°€ê²Œ ${data.length}ê³³ì„ ì†Œê°œí•©ë‹ˆë‹¤.`;
                cardsEl.innerHTML = data.map(store => createStoreCard(store, '/detail.html')).join('');
            } catch (err) {
                console.error("í™ë³´ì˜ ë°°ë‹¬ ë¡œë”© ì‹¤íŒ¨:", err);
                summaryEl.textContent = "ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                cardsEl.innerHTML = "";
            }
        }

        // ğŸ”½ HOT ë­í‚¹
        async function loadHotLatest() {
            const summaryEl = document.getElementById("hotSummary");
            const cardsEl = document.getElementById("hotCards");

            try {
                const res = await fetch("/api/hot/latest?limit=3");
                if (!res.ok) throw new Error("API í˜¸ì¶œ ì‹¤íŒ¨");
                const data = await res.json();

                if (!data || data.length === 0) {
                    summaryEl.textContent = "ì•„ì§ HOT ë­í‚¹ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.";
                    cardsEl.innerHTML = "";
                    return;
                }

                summaryEl.textContent = `ì§€ê¸ˆ ê°€ì¥ ë§ì´ ì¡°íšŒëœ ê°€ê²Œ ${data.length}ê³³ì…ë‹ˆë‹¤.`;
                cardsEl.innerHTML = data.map(store => createStoreCard(store, '/detail.html')).join('');
            } catch (err) {
                console.error("HOT ë­í‚¹ ë¡œë”© ì‹¤íŒ¨:", err);
                summaryEl.textContent = "ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                cardsEl.innerHTML = "";
            }
        }

        // ğŸ”½ ì „í†µì‹œì¥
        async function loadMarketLatest() {
            const summaryEl = document.getElementById("marketSummary");
            const cardsEl = document.getElementById("marketCards");

            try {
                const res = await fetch("/api/traditional/latest?limit=3");
                if (!res.ok) throw new Error("API í˜¸ì¶œ ì‹¤íŒ¨");
                const data = await res.json();

                if (!data || data.length === 0) {
                    summaryEl.textContent = "ë“±ë¡ëœ ì „í†µì‹œì¥ ì†Œì‹ì´ ì—†ìŠµë‹ˆë‹¤.";
                    cardsEl.innerHTML = "";
                    return;
                }

                summaryEl.textContent = `ìµœê·¼ ì—…ë°ì´íŠ¸ëœ ì „í†µì‹œì¥ ${data.length}ê³³ì…ë‹ˆë‹¤.`;
                cardsEl.innerHTML = data.map(market => {
                    const imageUrl = market.image || '/uploads/no-image.png';
                    const name = market.name || 'ì‹œì¥ ì´ë¦„ ë¯¸ë“±ë¡';
                    const region = market.region || market.address || '';

                    return `
                        <a href="/traditionalmarketdetail.html?id=${market.id}" class="store-card">
                            <img src="${imageUrl}" alt="${name}" class="store-card-image" onerror="this.src='/uploads/no-image.png'">
                            <div class="store-card-info">
                                <div class="store-card-name">${name}</div>
                                <div class="store-card-category">${region}</div>
                            </div>
                        </a>
                    `;
                }).join('');
            } catch (err) {
                console.error("ì „í†µì‹œì¥ ë¡œë”© ì‹¤íŒ¨:", err);
                summaryEl.textContent = "ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                cardsEl.innerHTML = "";
            }
        }

        // ğŸ”½ ì´ë²¤íŠ¸ (ë¦¬ìŠ¤íŠ¸ í˜•ì‹)
        async function loadEventLatest() {
            const summaryEl = document.getElementById("eventSummary");
            const listEl = document.getElementById("eventList");

            try {
                const res = await fetch("/api/event/latest?limit=3");
                if (!res.ok) throw new Error("API í˜¸ì¶œ ì‹¤íŒ¨");
                const data = await res.json();

                if (!data || data.length === 0) {
                    summaryEl.textContent = "í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.";
                    listEl.innerHTML = "";
                    return;
                }

                summaryEl.textContent = `ì§€ê¸ˆ ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸ ${data.length}ê±´ì…ë‹ˆë‹¤.`;
                listEl.innerHTML = data.map((item, idx) => `
                    <li>
                        <a href="/eventdetail.html?id=${item.id}" class="flex items-center justify-between hover:text-indigo-700">
                            <div class="flex items-center gap-2">
                                <span class="inline-flex items-center justify-center w-5 h-5 rounded-full bg-amber-200 text-[11px] font-bold text-amber-900">
                                    ${idx + 1}
                                </span>
                                <span class="font-semibold truncate">${item.title || 'ì´ë²¤íŠ¸ ì œëª© ë¯¸ë“±ë¡'}</span>
                            </div>
                            <span class="text-[11px] text-slate-500">${item.store_name || ''}</span>
                        </a>
                    </li>
                `).join('');
            } catch (err) {
                console.error("ì´ë²¤íŠ¸ ë¡œë”© ì‹¤íŒ¨:", err);
                summaryEl.textContent = "ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                listEl.innerHTML = "";
            }
        }

        // ğŸ”½ ì˜¤í”ˆ ì˜ˆì •
        async function loadOpenLatest() {
            const summaryEl = document.getElementById("openSummary");
            const cardsEl = document.getElementById("openCards");

            try {
                const res = await fetch("/api/open/latest?limit=3");
                if (!res.ok) throw new Error("API í˜¸ì¶œ ì‹¤íŒ¨");
                const data = await res.json();

                if (!data || data.length === 0) {
                    summaryEl.textContent = "ê³§ ì˜¤í”ˆ ì˜ˆì •ì¸ ê°€ê²Œê°€ ì—†ìŠµë‹ˆë‹¤.";
                    cardsEl.innerHTML = "";
                    return;
                }

                summaryEl.textContent = `ê³§ ë¬¸ì„ ì—¬ëŠ” ìƒˆ ê°€ê²Œ ${data.length}ê³³ì…ë‹ˆë‹¤.`;
                cardsEl.innerHTML = data.map(store => createStoreCard(store, '/opendetail.html')).join('');
            } catch (err) {
                console.error("ì˜¤í”ˆ ì˜ˆì • ë¡œë”© ì‹¤íŒ¨:", err);
                summaryEl.textContent = "ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                cardsEl.innerHTML = "";
            }
        }

        // ğŸ”½ ìš°ë¦¬ë™ë„¤ ëª¨ë“  ê°€ê²Œ
        async function loadAllStoresLatest() {
            const summaryEl = document.getElementById("allStoresSummary");
            const cardsEl = document.getElementById("allStoresCards");

            try {
                const res = await fetch("/api/stores/latest?limit=3");
                if (!res.ok) throw new Error("API í˜¸ì¶œ ì‹¤íŒ¨");
                const data = await res.json();

                if (!data || data.length === 0) {
                    summaryEl.textContent = "ì•„ì§ ë“±ë¡ëœ ê°€ê²Œê°€ ì—†ìŠµë‹ˆë‹¤.";
                    cardsEl.innerHTML = "";
                    return;
                }

                summaryEl.textContent = `ìµœê·¼ ë“±ë¡ëœ ê°€ê²Œ ${data.length}ê³³ì…ë‹ˆë‹¤.`;
                cardsEl.innerHTML = data.map(store => createStoreCard(store, '/detail.html')).join('');
            } catch (err) {
                console.error("ëª¨ë“  ê°€ê²Œ ë¡œë”© ì‹¤íŒ¨:", err);
                summaryEl.textContent = "ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                cardsEl.innerHTML = "";
            }
        }

        // ğŸ”½ ì§€ì—­ ê²Œì‹œíŒ (ë¦¬ìŠ¤íŠ¸ í˜•ì‹)
        async function loadLocalBoardLatest() {
            const summaryEl = document.getElementById("localBoardSummary");
            const listEl = document.getElementById("localBoardList");

            try {
                const res = await fetch("/api/localboard/latest?limit=3");
                if (!res.ok) throw new Error("API í˜¸ì¶œ ì‹¤íŒ¨");
                const data = await res.json();

                if (!data || data.length === 0) {
                    summaryEl.textContent = "ì•„ì§ ì˜¬ë¼ì˜¨ ë™ë„¤ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.";
                    listEl.innerHTML = "";
                    return;
                }

                summaryEl.textContent = `ì˜¤ëŠ˜ ì˜¬ë¼ì˜¨ ë™ë„¤ ì´ì•¼ê¸° ${data.length}ê±´ì…ë‹ˆë‹¤.`;
                listEl.innerHTML = data.map((item, idx) => `
                    <li>
                        <a href="/localboarddetail.html?id=${item.id}" class="flex items-center justify-between hover:text-indigo-700">
                            <div class="flex items-center gap-2">
                                <span class="inline-flex items-center justify-center w-5 h-5 rounded-full bg-amber-200 text-[11px] font-bold text-amber-900">
                                    ${idx + 1}
                                </span>
                                <span class="font-semibold truncate">${item.title || 'ì œëª© ë¯¸ë“±ë¡'}</span>
                            </div>
                            <span class="text-[11px] text-slate-500">${item.author || ''}</span>
                        </a>
                    </li>
                `).join('');
            } catch (err) {
                console.error("ì§€ì—­ ê²Œì‹œíŒ ë¡œë”© ì‹¤íŒ¨:", err);
                summaryEl.textContent = "ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                listEl.innerHTML = "";
            }
        }
    </script>
</body>

</html>